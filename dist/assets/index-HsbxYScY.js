const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomePage-DvMPcAgy.js","assets/three-vendor-CgDAEWYd.js","assets/react-vendor-BN1BqD7X.js","assets/motion-vendor-B6rCjchL.js","assets/DharaPage-CPLF3r9S.js"])))=>i.map(i=>d[i]);
var ze=Object.defineProperty;var Se=n=>{throw TypeError(n)};var Ge=(n,s,i)=>s in n?ze(n,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[s]=i;var Ct=(n,s,i)=>Ge(n,typeof s!="symbol"?s+"":s,i),ee=(n,s,i)=>s.has(n)||Se("Cannot "+i);var F=(n,s,i)=>(ee(n,s,"read from private field"),i?i.call(n):s.get(n)),mt=(n,s,i)=>s.has(n)?Se("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(n):s.set(n,i),vt=(n,s,i,a)=>(ee(n,s,"write to private field"),a?a.call(n,i):s.set(n,i),i),ft=(n,s,i)=>(ee(n,s,"access private method"),i);var ne=(n,s,i,a)=>({set _(o){vt(n,s,o,i)},get _(){return F(n,s,a)}});import{r as reactExports,j as jsxRuntimeExports,R as React,_ as __vitePreload,c as clientExports}from"./three-vendor-CgDAEWYd.js";import{g as getDefaultExportFromCjs,b as getAugmentedNamespace}from"./react-vendor-BN1BqD7X.js";import{i as isBrowser$3,f as featureDefinitions$1,a as isControllingVariants$1,b as isVariantLabel$1,c as createRenderBatcher$1,o as optimizedAppearDataAttribute$1,d as isMotionValue$1,e as isForcedMotionValue$1,g as buildHTMLStyles$1,h as buildSVGAttrs$1,j as isSVGTag$1,k as isCustomValue$1,l as isVariantNode$1,m as isAnimationControls$1,r as resolveVariantFromProps$1,s as scrapeMotionValuesFromProps$2,n as scrapeMotionValuesFromProps$3,t as transformProps$1,p as frame$1,u as updateSVGDimensions$1,q as renderSVG$1,v as resolveVariant$1,w as animateTarget$1,x as variantProps$1,y as isKeyframesTarget$1,z as variantPriorityOrder$1,A as isDragging$1,B as isPrimaryPointer$1,C as mixNumber$2,D as frameData$1,E as capturePointer$1,F as pipe$1,G as cancelFrame$1,H as distance2D$1,I as secondsToMilliseconds$1,J as millisecondsToSeconds$1,K as progress$1,L as clamp$1,M as createBox$1,N as measurePageBox$1,O as convertBoxToBoundingBox$1,P as convertBoundingBoxToBox$1,Q as addValueToWillChange$1,R as animateMotionValue$1,S as percent$1,T as noop$1,U as px$1,V as complex$1,W as addScaleCorrector$1,X as addUniqueItem$1,Y as removeItem$1,Z as circOut$1,_ as scalePoint$1,$ as SubscriptionManager$1,a0 as isSVGElement$1,a1 as delay$1,a2 as getValueTransition$1,a3 as time$1,a4 as frameSteps$1,a5 as hasTransform$1,a6 as translateAxis$1,a7 as transformBox$1,a8 as hasScale$1,a9 as applyBoxDelta$1,aa as has2DTranslate$1,ab as applyTreeDeltas$1,ac as createDelta$1,ad as animateSingleValue$1,ae as scaleCorrectors$1,af as getOptimisedAppearId$1,ag as hover$1,ah as press$1,ai as SVGVisualElement$1,aj as HTMLVisualElement$1,ak as motionValue$1,al as scroll,am as warning$2,an as animateValue,ao as collectMotionValues$1,ap as transform}from"./motion-vendor-B6rCjchL.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var PopStateEventType="popstate";function createBrowserHistory(n={}){function s(a,o){let{pathname:c,search:l,hash:f}=a.location;return createLocation("",{pathname:c,search:l,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(a,o){return typeof o=="string"?o:createPath(o)}return getUrlBasedHistory(s,i,null,n)}function invariant$1(n,s){if(n===!1||n===null||typeof n>"u")throw new Error(s)}function warning$1(n,s){if(!n){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function createKey(){return Math.random().toString(36).substring(2,10)}function getHistoryState(n,s){return{usr:n.state,key:n.key,idx:s}}function createLocation(n,s,i=null,a){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof s=="string"?parsePath(s):s,state:i,key:s&&s.key||a||createKey()}}function createPath({pathname:n="/",search:s="",hash:i=""}){return s&&s!=="?"&&(n+=s.charAt(0)==="?"?s:"?"+s),i&&i!=="#"&&(n+=i.charAt(0)==="#"?i:"#"+i),n}function parsePath(n){let s={};if(n){let i=n.indexOf("#");i>=0&&(s.hash=n.substring(i),n=n.substring(0,i));let a=n.indexOf("?");a>=0&&(s.search=n.substring(a),n=n.substring(0,a)),n&&(s.pathname=n)}return s}function getUrlBasedHistory(n,s,i,a={}){let{window:o=document.defaultView,v5Compat:c=!1}=a,l=o.history,f="POP",u=null,h=d();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function d(){return(l.state||{idx:null}).idx}function g(){f="POP";let v=d(),x=v==null?null:v-h;h=v,u&&u({action:f,location:P.location,delta:x})}function m(v,x){f="PUSH";let T=createLocation(P.location,v,x);h=d()+1;let y=getHistoryState(T,h),C=P.createHref(T);try{l.pushState(y,"",C)}catch(p){if(p instanceof DOMException&&p.name==="DataCloneError")throw p;o.location.assign(C)}c&&u&&u({action:f,location:P.location,delta:1})}function b(v,x){f="REPLACE";let T=createLocation(P.location,v,x);h=d();let y=getHistoryState(T,h),C=P.createHref(T);l.replaceState(y,"",C),c&&u&&u({action:f,location:P.location,delta:0})}function E(v){return createBrowserURLImpl(v)}let P={get action(){return f},get location(){return n(o,l)},listen(v){if(u)throw new Error("A history only accepts one active listener");return o.addEventListener(PopStateEventType,g),u=v,()=>{o.removeEventListener(PopStateEventType,g),u=null}},createHref(v){return s(o,v)},createURL:E,encodeLocation(v){let x=E(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:b,go(v){return l.go(v)}};return P}function createBrowserURLImpl(n,s=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),invariant$1(i,"No window.location.(origin|href) available to create URL");let a=typeof n=="string"?n:createPath(n);return a=a.replace(/ $/,"%20"),!s&&a.startsWith("//")&&(a=i+a),new URL(a,i)}function matchRoutes(n,s,i="/"){return matchRoutesImpl(n,s,i,!1)}function matchRoutesImpl(n,s,i,a){let o=typeof s=="string"?parsePath(s):s,c=stripBasename(o.pathname||"/",i);if(c==null)return null;let l=flattenRoutes(n);rankRouteBranches(l);let f=null;for(let u=0;f==null&&u<l.length;++u){let h=decodePath(c);f=matchRouteBranch(l[u],h,a)}return f}function flattenRoutes(n,s=[],i=[],a="",o=!1){let c=(l,f,u=o,h)=>{let d={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:f,route:l};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(a)&&u)return;invariant$1(d.relativePath.startsWith(a),`Absolute route path "${d.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(a.length)}let g=joinPaths([a,d.relativePath]),m=i.concat(d);l.children&&l.children.length>0&&(invariant$1(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),flattenRoutes(l.children,s,m,g,u)),!(l.path==null&&!l.index)&&s.push({path:g,score:computeScore(g,l.index),routesMeta:m})};return n.forEach((l,f)=>{var u;if(l.path===""||!((u=l.path)!=null&&u.includes("?")))c(l,f);else for(let h of explodeOptionalSegments(l.path))c(l,f,!0,h)}),s}function explodeOptionalSegments(n){let s=n.split("/");if(s.length===0)return[];let[i,...a]=s,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(a.length===0)return o?[c,""]:[c];let l=explodeOptionalSegments(a.join("/")),f=[];return f.push(...l.map(u=>u===""?c:[c,u].join("/"))),o&&f.push(...l),f.map(u=>n.startsWith("/")&&u===""?"/":u)}function rankRouteBranches(n){n.sort((s,i)=>s.score!==i.score?i.score-s.score:compareIndexes(s.routesMeta.map(a=>a.childrenIndex),i.routesMeta.map(a=>a.childrenIndex)))}var paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=n=>n==="*";function computeScore(n,s){let i=n.split("/"),a=i.length;return i.some(isSplat)&&(a+=splatPenalty),s&&(a+=indexRouteValue),i.filter(o=>!isSplat(o)).reduce((o,c)=>o+(paramRe.test(c)?dynamicSegmentValue:c===""?emptySegmentValue:staticSegmentValue),a)}function compareIndexes(n,s){return n.length===s.length&&n.slice(0,-1).every((a,o)=>a===s[o])?n[n.length-1]-s[s.length-1]:0}function matchRouteBranch(n,s,i=!1){let{routesMeta:a}=n,o={},c="/",l=[];for(let f=0;f<a.length;++f){let u=a[f],h=f===a.length-1,d=c==="/"?s:s.slice(c.length)||"/",g=matchPath({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},d),m=u.route;if(!g&&h&&i&&!a[a.length-1].route.index&&(g=matchPath({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!g)return null;Object.assign(o,g.params),l.push({params:o,pathname:joinPaths([c,g.pathname]),pathnameBase:normalizePathname(joinPaths([c,g.pathnameBase])),route:m}),g.pathnameBase!=="/"&&(c=joinPaths([c,g.pathnameBase]))}return l}function matchPath(n,s){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[i,a]=compilePath(n.path,n.caseSensitive,n.end),o=s.match(i);if(!o)return null;let c=o[0],l=c.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:a.reduce((h,{paramName:d,isOptional:g},m)=>{if(d==="*"){let E=f[m]||"";l=c.slice(0,c.length-E.length).replace(/(.)\/+$/,"$1")}const b=f[m];return g&&!b?h[d]=void 0:h[d]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:c,pathnameBase:l,pattern:n}}function compilePath(n,s=!1,i=!0){warning$1(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let a=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,f,u)=>(a.push({paramName:f,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(a.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,s?void 0:"i"),a]}function decodePath(n){try{return n.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return warning$1(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${s}).`),n}}function stripBasename(n,s){if(s==="/")return n;if(!n.toLowerCase().startsWith(s.toLowerCase()))return null;let i=s.endsWith("/")?s.length-1:s.length,a=n.charAt(i);return a&&a!=="/"?null:n.slice(i)||"/"}function resolvePath(n,s="/"){let{pathname:i,search:a="",hash:o=""}=typeof n=="string"?parsePath(n):n;return{pathname:i?i.startsWith("/")?i:resolvePathname(i,s):s,search:normalizeSearch(a),hash:normalizeHash(o)}}function resolvePathname(n,s){let i=s.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function getInvalidPathError(n,s,i,a){return`Cannot include a '${n}' character in a manually specified \`to.${s}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function getPathContributingMatches(n){return n.filter((s,i)=>i===0||s.route.path&&s.route.path.length>0)}function getResolveToMatches(n){let s=getPathContributingMatches(n);return s.map((i,a)=>a===s.length-1?i.pathname:i.pathnameBase)}function resolveTo(n,s,i,a=!1){let o;typeof n=="string"?o=parsePath(n):(o={...n},invariant$1(!o.pathname||!o.pathname.includes("?"),getInvalidPathError("?","pathname","search",o)),invariant$1(!o.pathname||!o.pathname.includes("#"),getInvalidPathError("#","pathname","hash",o)),invariant$1(!o.search||!o.search.includes("#"),getInvalidPathError("#","search","hash",o)));let c=n===""||o.pathname==="",l=c?"/":o.pathname,f;if(l==null)f=i;else{let g=s.length-1;if(!a&&l.startsWith("..")){let m=l.split("/");for(;m[0]==="..";)m.shift(),g-=1;o.pathname=m.join("/")}f=g>=0?s[g]:"/"}let u=resolvePath(o,f),h=l&&l!=="/"&&l.endsWith("/"),d=(c||l===".")&&i.endsWith("/");return!u.pathname.endsWith("/")&&(h||d)&&(u.pathname+="/"),u}var joinPaths=n=>n.join("/").replace(/\/\/+/g,"/"),normalizePathname=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,normalizeHash=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function isRouteErrorResponse(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var validMutationMethodsArr=["POST","PUT","PATCH","DELETE"];new Set(validMutationMethodsArr);var validRequestMethodsArr=["GET",...validMutationMethodsArr];new Set(validRequestMethodsArr);var DataRouterContext=reactExports.createContext(null);DataRouterContext.displayName="DataRouter";var DataRouterStateContext=reactExports.createContext(null);DataRouterStateContext.displayName="DataRouterState";reactExports.createContext(!1);var ViewTransitionContext=reactExports.createContext({isTransitioning:!1});ViewTransitionContext.displayName="ViewTransition";var FetchersContext=reactExports.createContext(new Map);FetchersContext.displayName="Fetchers";var AwaitContext=reactExports.createContext(null);AwaitContext.displayName="Await";var NavigationContext=reactExports.createContext(null);NavigationContext.displayName="Navigation";var LocationContext=reactExports.createContext(null);LocationContext.displayName="Location";var RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1});RouteContext.displayName="Route";var RouteErrorContext=reactExports.createContext(null);RouteErrorContext.displayName="RouteError";function useHref(n,{relative:s}={}){invariant$1(useInRouterContext(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:a}=reactExports.useContext(NavigationContext),{hash:o,pathname:c,search:l}=useResolvedPath(n,{relative:s}),f=c;return i!=="/"&&(f=c==="/"?i:joinPaths([i,c])),a.createHref({pathname:f,search:l,hash:o})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return invariant$1(useInRouterContext(),"useLocation() may be used only in the context of a <Router> component."),reactExports.useContext(LocationContext).location}var navigateEffectWarning="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function useIsomorphicLayoutEffect$2(n){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(n)}function useNavigate(){let{isDataRoute:n}=reactExports.useContext(RouteContext);return n?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){invariant$1(useInRouterContext(),"useNavigate() may be used only in the context of a <Router> component.");let n=reactExports.useContext(DataRouterContext),{basename:s,navigator:i}=reactExports.useContext(NavigationContext),{matches:a}=reactExports.useContext(RouteContext),{pathname:o}=useLocation(),c=JSON.stringify(getResolveToMatches(a)),l=reactExports.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{l.current=!0}),reactExports.useCallback((u,h={})=>{if(warning$1(l.current,navigateEffectWarning),!l.current)return;if(typeof u=="number"){i.go(u);return}let d=resolveTo(u,JSON.parse(c),o,h.relative==="path");n==null&&s!=="/"&&(d.pathname=d.pathname==="/"?s:joinPaths([s,d.pathname])),(h.replace?i.replace:i.push)(d,h.state,h)},[s,i,c,o,n])}reactExports.createContext(null);function useResolvedPath(n,{relative:s}={}){let{matches:i}=reactExports.useContext(RouteContext),{pathname:a}=useLocation(),o=JSON.stringify(getResolveToMatches(i));return reactExports.useMemo(()=>resolveTo(n,JSON.parse(o),a,s==="path"),[n,o,a,s])}function useRoutes(n,s){return useRoutesImpl(n,s)}function useRoutesImpl(n,s,i,a,o){var T;invariant$1(useInRouterContext(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=reactExports.useContext(NavigationContext),{matches:l}=reactExports.useContext(RouteContext),f=l[l.length-1],u=f?f.params:{},h=f?f.pathname:"/",d=f?f.pathnameBase:"/",g=f&&f.route;{let y=g&&g.path||"";warningOnce(h,!g||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let m=useLocation(),b;if(s){let y=typeof s=="string"?parsePath(s):s;invariant$1(d==="/"||((T=y.pathname)==null?void 0:T.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${y.pathname}" was given in the \`location\` prop.`),b=y}else b=m;let E=b.pathname||"/",P=E;if(d!=="/"){let y=d.replace(/^\//,"").split("/");P="/"+E.replace(/^\//,"").split("/").slice(y.length).join("/")}let v=matchRoutes(n,{pathname:P});warning$1(g||v!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),warning$1(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=_renderMatches(v&&v.map(y=>Object.assign({},y,{params:Object.assign({},u,y.params),pathname:joinPaths([d,c.encodeLocation?c.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?d:joinPaths([d,c.encodeLocation?c.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),l,i,a,o);return s&&x?reactExports.createElement(LocationContext.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},x):x}function DefaultErrorComponent(){let n=useRouteError(),s=isRouteErrorResponse(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),i=n instanceof Error?n.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},c={padding:"2px 4px",backgroundColor:a},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),reactExports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",reactExports.createElement("code",{style:c},"ErrorBoundary")," or"," ",reactExports.createElement("code",{style:c},"errorElement")," prop on your route.")),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},s),i?reactExports.createElement("pre",{style:o},i):null,l)}var defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null),RenderErrorBoundary=class extends reactExports.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,s){return s.location!==n.location||s.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:s.error,location:s.location,revalidation:n.revalidation||s.revalidation}}componentDidCatch(n,s){this.props.unstable_onError?this.props.unstable_onError(n,s):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RenderedRoute({routeContext:n,match:s,children:i}){let a=reactExports.useContext(DataRouterContext);return a&&a.static&&a.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=s.route.id),reactExports.createElement(RouteContext.Provider,{value:n},i)}function _renderMatches(n,s=[],i=null,a=null,o=null){if(n==null){if(!i)return null;if(i.errors)n=i.matches;else if(s.length===0&&!i.initialized&&i.matches.length>0)n=i.matches;else return null}let c=n,l=i==null?void 0:i.errors;if(l!=null){let h=c.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);invariant$1(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),c=c.slice(0,Math.min(c.length,h+1))}let f=!1,u=-1;if(i)for(let h=0;h<c.length;h++){let d=c[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=h),d.route.id){let{loaderData:g,errors:m}=i,b=d.route.loader&&!g.hasOwnProperty(d.route.id)&&(!m||m[d.route.id]===void 0);if(d.route.lazy||b){f=!0,u>=0?c=c.slice(0,u+1):c=[c[0]];break}}}return c.reduceRight((h,d,g)=>{let m,b=!1,E=null,P=null;i&&(m=l&&d.route.id?l[d.route.id]:void 0,E=d.route.errorElement||defaultErrorElement,f&&(u<0&&g===0?(warningOnce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,P=null):u===g&&(b=!0,P=d.route.hydrateFallbackElement||null)));let v=s.concat(c.slice(0,g+1)),x=()=>{let T;return m?T=E:b?T=P:d.route.Component?T=reactExports.createElement(d.route.Component,null):d.route.element?T=d.route.element:T=h,reactExports.createElement(RenderedRoute,{match:d,routeContext:{outlet:h,matches:v,isDataRoute:i!=null},children:T})};return i&&(d.route.ErrorBoundary||d.route.errorElement||g===0)?reactExports.createElement(RenderErrorBoundary,{location:i.location,revalidation:i.revalidation,component:E,error:m,children:x(),routeContext:{outlet:null,matches:v,isDataRoute:!0},unstable_onError:a}):x()},null)}function getDataRouterConsoleError(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext(n){let s=reactExports.useContext(DataRouterContext);return invariant$1(s,getDataRouterConsoleError(n)),s}function useDataRouterState(n){let s=reactExports.useContext(DataRouterStateContext);return invariant$1(s,getDataRouterConsoleError(n)),s}function useRouteContext(n){let s=reactExports.useContext(RouteContext);return invariant$1(s,getDataRouterConsoleError(n)),s}function useCurrentRouteId(n){let s=useRouteContext(n),i=s.matches[s.matches.length-1];return invariant$1(i.route.id,`${n} can only be used on routes that contain a unique "id"`),i.route.id}function useRouteId(){return useCurrentRouteId("useRouteId")}function useRouteError(){var a;let n=reactExports.useContext(RouteErrorContext),s=useDataRouterState("useRouteError"),i=useCurrentRouteId("useRouteError");return n!==void 0?n:(a=s.errors)==null?void 0:a[i]}function useNavigateStable(){let{router:n}=useDataRouterContext("useNavigate"),s=useCurrentRouteId("useNavigate"),i=reactExports.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{i.current=!0}),reactExports.useCallback(async(o,c={})=>{warning$1(i.current,navigateEffectWarning),i.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:s,...c}))},[n,s])}var alreadyWarned={};function warningOnce(n,s,i){!s&&!alreadyWarned[n]&&(alreadyWarned[n]=!0,warning$1(!1,i))}reactExports.memo(DataRoutes);function DataRoutes({routes:n,future:s,state:i,unstable_onError:a}){return useRoutesImpl(n,void 0,i,a,s)}function Route(n){invariant$1(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Router({basename:n="/",children:s=null,location:i,navigationType:a="POP",navigator:o,static:c=!1}){invariant$1(!useInRouterContext(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),f=reactExports.useMemo(()=>({basename:l,navigator:o,static:c,future:{}}),[l,o,c]);typeof i=="string"&&(i=parsePath(i));let{pathname:u="/",search:h="",hash:d="",state:g=null,key:m="default"}=i,b=reactExports.useMemo(()=>{let E=stripBasename(u,l);return E==null?null:{location:{pathname:E,search:h,hash:d,state:g,key:m},navigationType:a}},[l,u,h,d,g,m,a]);return warning$1(b!=null,`<Router basename="${l}"> is not able to match the URL "${u}${h}${d}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:reactExports.createElement(NavigationContext.Provider,{value:f},reactExports.createElement(LocationContext.Provider,{children:s,value:b}))}function Routes({children:n,location:s}){return useRoutes(createRoutesFromChildren(n),s)}function createRoutesFromChildren(n,s=[]){let i=[];return reactExports.Children.forEach(n,(a,o)=>{if(!reactExports.isValidElement(a))return;let c=[...s,o];if(a.type===reactExports.Fragment){i.push.apply(i,createRoutesFromChildren(a.props.children,c));return}invariant$1(a.type===Route,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),invariant$1(!a.props.index||!a.props.children,"An index route cannot have child routes.");let l={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(l.children=createRoutesFromChildren(a.props.children,c)),i.push(l)}),i}var defaultMethod="get",defaultEncType="application/x-www-form-urlencoded";function isHtmlElement(n){return n!=null&&typeof n.tagName=="string"}function isButtonElement(n){return isHtmlElement(n)&&n.tagName.toLowerCase()==="button"}function isFormElement(n){return isHtmlElement(n)&&n.tagName.toLowerCase()==="form"}function isInputElement(n){return isHtmlElement(n)&&n.tagName.toLowerCase()==="input"}function isModifiedEvent(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function shouldProcessLinkClick(n,s){return n.button===0&&(!s||s==="_self")&&!isModifiedEvent(n)}var _formDataSupportsSubmitter=null;function isFormDataSubmitterSupported(){if(_formDataSupportsSubmitter===null)try{new FormData(document.createElement("form"),0),_formDataSupportsSubmitter=!1}catch{_formDataSupportsSubmitter=!0}return _formDataSupportsSubmitter}var supportedFormEncTypes=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function getFormEncType(n){return n!=null&&!supportedFormEncTypes.has(n)?(warning$1(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${defaultEncType}"`),null):n}function getFormSubmissionInfo(n,s){let i,a,o,c,l;if(isFormElement(n)){let f=n.getAttribute("action");a=f?stripBasename(f,s):null,i=n.getAttribute("method")||defaultMethod,o=getFormEncType(n.getAttribute("enctype"))||defaultEncType,c=new FormData(n)}else if(isButtonElement(n)||isInputElement(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=n.getAttribute("formaction")||f.getAttribute("action");if(a=u?stripBasename(u,s):null,i=n.getAttribute("formmethod")||f.getAttribute("method")||defaultMethod,o=getFormEncType(n.getAttribute("formenctype"))||getFormEncType(f.getAttribute("enctype"))||defaultEncType,c=new FormData(f,n),!isFormDataSubmitterSupported()){let{name:h,type:d,value:g}=n;if(d==="image"){let m=h?`${h}.`:"";c.append(`${m}x`,"0"),c.append(`${m}y`,"0")}else h&&c.append(h,g)}}else{if(isHtmlElement(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=defaultMethod,a=null,o=defaultEncType,l=n}return c&&o==="text/plain"&&(l=c,c=void 0),{action:a,method:i.toLowerCase(),encType:o,formData:c,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function invariant2(n,s){if(n===!1||n===null||typeof n>"u")throw new Error(s)}function singleFetchUrl(n,s,i){let a=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return a.pathname==="/"?a.pathname=`_root.${i}`:s&&stripBasename(a.pathname,s)==="/"?a.pathname=`${s.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function loadRouteModule(n,s){if(n.id in s)return s[n.id];try{let i=await import(n.module);return s[n.id]=i,i}catch(i){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function isHtmlLinkDescriptor(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function getKeyedPrefetchLinks(n,s,i){let a=await Promise.all(n.map(async o=>{let c=s.routes[o.route.id];if(c){let l=await loadRouteModule(c,i);return l.links?l.links():[]}return[]}));return dedupeLinkDescriptors(a.flat(1).filter(isHtmlLinkDescriptor).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function getNewMatchesForLinks(n,s,i,a,o,c){let l=(u,h)=>i[h]?u.route.id!==i[h].route.id:!0,f=(u,h)=>{var d;return i[h].pathname!==u.pathname||((d=i[h].route.path)==null?void 0:d.endsWith("*"))&&i[h].params["*"]!==u.params["*"]};return c==="assets"?s.filter((u,h)=>l(u,h)||f(u,h)):c==="data"?s.filter((u,h)=>{var g;let d=a.routes[u.route.id];if(!d||!d.hasLoader)return!1;if(l(u,h)||f(u,h))return!0;if(u.route.shouldRevalidate){let m=u.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((g=i[0])==null?void 0:g.params)||{},nextUrl:new URL(n,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function getModuleLinkHrefs(n,s,{includeHydrateFallback:i}={}){return dedupeHrefs(n.map(a=>{let o=s.routes[a.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function dedupeHrefs(n){return[...new Set(n)]}function sortKeys(n){let s={},i=Object.keys(n).sort();for(let a of i)s[a]=n[a];return s}function dedupeLinkDescriptors(n,s){let i=new Set;return new Set(s),n.reduce((a,o)=>{let c=JSON.stringify(sortKeys(o));return i.has(c)||(i.add(c),a.push({key:c,link:o})),a},[])}function useDataRouterContext2(){let n=reactExports.useContext(DataRouterContext);return invariant2(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function useDataRouterStateContext(){let n=reactExports.useContext(DataRouterStateContext);return invariant2(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var FrameworkContext=reactExports.createContext(void 0);FrameworkContext.displayName="FrameworkContext";function useFrameworkContext(){let n=reactExports.useContext(FrameworkContext);return invariant2(n,"You must render this element inside a <HydratedRouter> element"),n}function usePrefetchBehavior(n,s){let i=reactExports.useContext(FrameworkContext),[a,o]=reactExports.useState(!1),[c,l]=reactExports.useState(!1),{onFocus:f,onBlur:u,onMouseEnter:h,onMouseLeave:d,onTouchStart:g}=s,m=reactExports.useRef(null);reactExports.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let P=x=>{x.forEach(T=>{l(T.isIntersecting)})},v=new IntersectionObserver(P,{threshold:.5});return m.current&&v.observe(m.current),()=>{v.disconnect()}}},[n]),reactExports.useEffect(()=>{if(a){let P=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(P)}}},[a]);let b=()=>{o(!0)},E=()=>{o(!1),l(!1)};return i?n!=="intent"?[c,m,{}]:[c,m,{onFocus:composeEventHandlers(f,b),onBlur:composeEventHandlers(u,E),onMouseEnter:composeEventHandlers(h,b),onMouseLeave:composeEventHandlers(d,E),onTouchStart:composeEventHandlers(g,b)}]:[!1,m,{}]}function composeEventHandlers(n,s){return i=>{n&&n(i),i.defaultPrevented||s(i)}}function PrefetchPageLinks({page:n,...s}){let{router:i}=useDataRouterContext2(),a=reactExports.useMemo(()=>matchRoutes(i.routes,n,i.basename),[i.routes,n,i.basename]);return a?reactExports.createElement(PrefetchPageLinksImpl,{page:n,matches:a,...s}):null}function useKeyedPrefetchLinks(n){let{manifest:s,routeModules:i}=useFrameworkContext(),[a,o]=reactExports.useState([]);return reactExports.useEffect(()=>{let c=!1;return getKeyedPrefetchLinks(n,s,i).then(l=>{c||o(l)}),()=>{c=!0}},[n,s,i]),a}function PrefetchPageLinksImpl({page:n,matches:s,...i}){let a=useLocation(),{manifest:o,routeModules:c}=useFrameworkContext(),{basename:l}=useDataRouterContext2(),{loaderData:f,matches:u}=useDataRouterStateContext(),h=reactExports.useMemo(()=>getNewMatchesForLinks(n,s,u,o,a,"data"),[n,s,u,o,a]),d=reactExports.useMemo(()=>getNewMatchesForLinks(n,s,u,o,a,"assets"),[n,s,u,o,a]),g=reactExports.useMemo(()=>{if(n===a.pathname+a.search+a.hash)return[];let E=new Set,P=!1;if(s.forEach(x=>{var y;let T=o.routes[x.route.id];!T||!T.hasLoader||(!h.some(C=>C.route.id===x.route.id)&&x.route.id in f&&((y=c[x.route.id])!=null&&y.shouldRevalidate)||T.hasClientLoader?P=!0:E.add(x.route.id))}),E.size===0)return[];let v=singleFetchUrl(n,l,"data");return P&&E.size>0&&v.searchParams.set("_routes",s.filter(x=>E.has(x.route.id)).map(x=>x.route.id).join(",")),[v.pathname+v.search]},[l,f,a,o,h,s,n,c]),m=reactExports.useMemo(()=>getModuleLinkHrefs(d,o),[d,o]),b=useKeyedPrefetchLinks(d);return reactExports.createElement(reactExports.Fragment,null,g.map(E=>reactExports.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...i})),m.map(E=>reactExports.createElement("link",{key:E,rel:"modulepreload",href:E,...i})),b.map(({key:E,link:P})=>reactExports.createElement("link",{key:E,nonce:i.nonce,...P})))}function mergeRefs(...n){return s=>{n.forEach(i=>{typeof i=="function"?i(s):i!=null&&(i.current=s)})}}var isBrowser$2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{isBrowser$2&&(window.__reactRouterVersion="7.9.1")}catch{}function BrowserRouter({basename:n,children:s,window:i}){let a=reactExports.useRef();a.current==null&&(a.current=createBrowserHistory({window:i,v5Compat:!0}));let o=a.current,[c,l]=reactExports.useState({action:o.action,location:o.location}),f=reactExports.useCallback(u=>{reactExports.startTransition(()=>l(u))},[l]);return reactExports.useLayoutEffect(()=>o.listen(f),[o,f]),reactExports.createElement(Router,{basename:n,children:s,location:c.location,navigationType:c.action,navigator:o})}var ABSOLUTE_URL_REGEX2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function({onClick:s,discover:i="render",prefetch:a="none",relative:o,reloadDocument:c,replace:l,state:f,target:u,to:h,preventScrollReset:d,viewTransition:g,...m},b){let{basename:E}=reactExports.useContext(NavigationContext),P=typeof h=="string"&&ABSOLUTE_URL_REGEX2.test(h),v,x=!1;if(typeof h=="string"&&P&&(v=h,isBrowser$2))try{let L=new URL(window.location.href),V=h.startsWith("//")?new URL(L.protocol+h):new URL(h),X=stripBasename(V.pathname,E);V.origin===L.origin&&X!=null?h=X+V.search+V.hash:x=!0}catch{warning$1(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=useHref(h,{relative:o}),[y,C,p]=usePrefetchBehavior(a,m),A=useLinkClickHandler(h,{replace:l,state:f,target:u,preventScrollReset:d,relative:o,viewTransition:g});function R(L){s&&s(L),L.defaultPrevented||A(L)}let S=reactExports.createElement("a",{...m,...p,href:v||T,onClick:x||c?s:R,ref:mergeRefs(b,C),target:u,"data-discover":!P&&i==="render"?"true":void 0});return y&&!P?reactExports.createElement(reactExports.Fragment,null,S,reactExports.createElement(PrefetchPageLinks,{page:T})):S});Link.displayName="Link";var NavLink=reactExports.forwardRef(function({"aria-current":s="page",caseSensitive:i=!1,className:a="",end:o=!1,style:c,to:l,viewTransition:f,children:u,...h},d){let g=useResolvedPath(l,{relative:h.relative}),m=useLocation(),b=reactExports.useContext(DataRouterStateContext),{navigator:E,basename:P}=reactExports.useContext(NavigationContext),v=b!=null&&useViewTransitionState(g)&&f===!0,x=E.encodeLocation?E.encodeLocation(g).pathname:g.pathname,T=m.pathname,y=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;i||(T=T.toLowerCase(),y=y?y.toLowerCase():null,x=x.toLowerCase()),y&&P&&(y=stripBasename(y,P)||y);const C=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let p=T===x||!o&&T.startsWith(x)&&T.charAt(C)==="/",A=y!=null&&(y===x||!o&&y.startsWith(x)&&y.charAt(x.length)==="/"),R={isActive:p,isPending:A,isTransitioning:v},S=p?s:void 0,L;typeof a=="function"?L=a(R):L=[a,p?"active":null,A?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let V=typeof c=="function"?c(R):c;return reactExports.createElement(Link,{...h,"aria-current":S,className:L,ref:d,style:V,to:l,viewTransition:f},typeof u=="function"?u(R):u)});NavLink.displayName="NavLink";var Form=reactExports.forwardRef(({discover:n="render",fetcherKey:s,navigate:i,reloadDocument:a,replace:o,state:c,method:l=defaultMethod,action:f,onSubmit:u,relative:h,preventScrollReset:d,viewTransition:g,...m},b)=>{let E=useSubmit(),P=useFormAction(f,{relative:h}),v=l.toLowerCase()==="get"?"get":"post",x=typeof f=="string"&&ABSOLUTE_URL_REGEX2.test(f),T=y=>{if(u&&u(y),y.defaultPrevented)return;y.preventDefault();let C=y.nativeEvent.submitter,p=(C==null?void 0:C.getAttribute("formmethod"))||l;E(C||y.currentTarget,{fetcherKey:s,method:p,navigate:i,replace:o,state:c,relative:h,preventScrollReset:d,viewTransition:g})};return reactExports.createElement("form",{ref:b,method:v,action:P,onSubmit:a?u:T,...m,"data-discover":!x&&n==="render"?"true":void 0})});Form.displayName="Form";function getDataRouterConsoleError2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext3(n){let s=reactExports.useContext(DataRouterContext);return invariant$1(s,getDataRouterConsoleError2(n)),s}function useLinkClickHandler(n,{target:s,replace:i,state:a,preventScrollReset:o,relative:c,viewTransition:l}={}){let f=useNavigate(),u=useLocation(),h=useResolvedPath(n,{relative:c});return reactExports.useCallback(d=>{if(shouldProcessLinkClick(d,s)){d.preventDefault();let g=i!==void 0?i:createPath(u)===createPath(h);f(n,{replace:g,state:a,preventScrollReset:o,relative:c,viewTransition:l})}},[u,f,h,i,a,s,n,o,c,l])}var fetcherId=0,getUniqueFetcherId=()=>`__${String(++fetcherId)}__`;function useSubmit(){let{router:n}=useDataRouterContext3("useSubmit"),{basename:s}=reactExports.useContext(NavigationContext),i=useRouteId();return reactExports.useCallback(async(a,o={})=>{let{action:c,method:l,encType:f,formData:u,body:h}=getFormSubmissionInfo(a,s);if(o.navigate===!1){let d=o.fetcherKey||getUniqueFetcherId();await n.fetch(d,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:u,body:h,formMethod:o.method||l,formEncType:o.encType||f,flushSync:o.flushSync})}else await n.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:u,body:h,formMethod:o.method||l,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,s,i])}function useFormAction(n,{relative:s}={}){let{basename:i}=reactExports.useContext(NavigationContext),a=reactExports.useContext(RouteContext);invariant$1(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),c={...useResolvedPath(n||".",{relative:s})},l=useLocation();if(n==null){c.search=l.search;let f=new URLSearchParams(c.search),u=f.getAll("index");if(u.some(d=>d==="")){f.delete("index"),u.filter(g=>g).forEach(g=>f.append("index",g));let d=f.toString();c.search=d?`?${d}`:""}}return(!n||n===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:joinPaths([i,c.pathname])),createPath(c)}function useViewTransitionState(n,{relative:s}={}){let i=reactExports.useContext(ViewTransitionContext);invariant$1(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=useDataRouterContext3("useViewTransitionState"),o=useResolvedPath(n,{relative:s});if(!i.isTransitioning)return!1;let c=stripBasename(i.currentLocation.pathname,a)||i.currentLocation.pathname,l=stripBasename(i.nextLocation.pathname,a)||i.nextLocation.pathname;return matchPath(o.pathname,l)!=null||matchPath(o.pathname,c)!=null}var cssMediaquery={},hasRequiredCssMediaquery;function requireCssMediaquery(){if(hasRequiredCssMediaquery)return cssMediaquery;hasRequiredCssMediaquery=1,cssMediaquery.match=c,cssMediaquery.parse=l;var n=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,s=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,i=/^(?:(min|max)-)?(.+)/,a=/(em|rem|px|cm|mm|in|pt|pc)?$/,o=/(dpi|dpcm|dppx)?$/;function c(d,g){return l(d).some(function(m){var b=m.inverse,E=m.type==="all"||g.type===m.type;if(E&&b||!(E||b))return!1;var P=m.expressions.every(function(v){var x=v.feature,T=v.modifier,y=v.value,C=g[x];if(!C)return!1;switch(x){case"orientation":case"scan":return C.toLowerCase()===y.toLowerCase();case"width":case"height":case"device-width":case"device-height":y=h(y),C=h(C);break;case"resolution":y=u(y),C=u(C);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":y=f(y),C=f(C);break;case"grid":case"color":case"color-index":case"monochrome":y=parseInt(y,10)||1,C=parseInt(C,10)||0;break}switch(T){case"min":return C>=y;case"max":return C<=y;default:return C===y}});return P&&!b||!P&&b})}function l(d){return d.split(",").map(function(g){g=g.trim();var m=g.match(n),b=m[1],E=m[2],P=m[3]||"",v={};return v.inverse=!!b&&b.toLowerCase()==="not",v.type=E?E.toLowerCase():"all",P=P.match(/\([^\)]+\)/g)||[],v.expressions=P.map(function(x){var T=x.match(s),y=T[1].toLowerCase().match(i);return{modifier:y[1],feature:y[2],value:T[2]}}),v})}function f(d){var g=Number(d),m;return g||(m=d.match(/^(\d+)\s*\/\s*(\d+)$/),g=m[1]/m[2]),g}function u(d){var g=parseFloat(d),m=String(d).match(o)[1];switch(m){case"dpcm":return g/2.54;case"dppx":return g*96;default:return g}}function h(d){var g=parseFloat(d),m=String(d).match(a)[1];switch(m){case"em":return g*16;case"rem":return g*16;case"cm":return g*96/2.54;case"mm":return g*96/2.54/10;case"in":return g*96;case"pt":return g*72;case"pc":return g*72/12;default:return g}}return cssMediaquery}var matchmediaquery,hasRequiredMatchmediaquery;function requireMatchmediaquery(){if(hasRequiredMatchmediaquery)return matchmediaquery;hasRequiredMatchmediaquery=1;var n=requireCssMediaquery().match,s=typeof window<"u"?window.matchMedia:null;function i(o,c,l){var f=this,u;s&&!l&&(u=s.call(window,o)),u?(this.matches=u.matches,this.media=u.media,u.addListener(g)):(this.matches=n(o,c),this.media=o),this.addListener=h,this.removeListener=d,this.dispose=m;function h(b){u&&u.addListener(b)}function d(b){u&&u.removeListener(b)}function g(b){f.matches=b.matches,f.media=b.media}function m(){u&&u.removeListener(g)}}function a(o,c,l){return new i(o,c,l)}return matchmediaquery=a,matchmediaquery}var matchmediaqueryExports=requireMatchmediaquery();const matchMedia=getDefaultExportFromCjs(matchmediaqueryExports);var uppercasePattern=/[A-Z]/g,msPattern=/^ms-/,cache={};function toHyphenLower(n){return"-"+n.toLowerCase()}function hyphenateStyleName(n){if(cache.hasOwnProperty(n))return cache[n];var s=n.replace(uppercasePattern,toHyphenLower);return cache[n]=msPattern.test(s)?"-"+s:s}function shallowEqualObjects(n,s){if(n===s)return!0;if(!n||!s)return!1;const i=Object.keys(n),a=Object.keys(s),o=i.length;if(a.length!==o)return!1;for(let c=0;c<o;c++){const l=i[c];if(n[l]!==s[l]||!Object.prototype.hasOwnProperty.call(s,l))return!1}return!0}var propTypes={exports:{}},ReactPropTypesSecret_1,hasRequiredReactPropTypesSecret;function requireReactPropTypesSecret(){if(hasRequiredReactPropTypesSecret)return ReactPropTypesSecret_1;hasRequiredReactPropTypesSecret=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ReactPropTypesSecret_1=n,ReactPropTypesSecret_1}var factoryWithThrowingShims,hasRequiredFactoryWithThrowingShims;function requireFactoryWithThrowingShims(){if(hasRequiredFactoryWithThrowingShims)return factoryWithThrowingShims;hasRequiredFactoryWithThrowingShims=1;var n=requireReactPropTypesSecret();function s(){}function i(){}return i.resetWarningCache=s,factoryWithThrowingShims=function(){function a(l,f,u,h,d,g){if(g!==n){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}a.isRequired=a;function o(){return a}var c={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:o,element:a,elementType:a,instanceOf:o,node:a,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:i,resetWarningCache:s};return c.PropTypes=c,c},factoryWithThrowingShims}var hasRequiredPropTypes;function requirePropTypes(){return hasRequiredPropTypes||(hasRequiredPropTypes=1,propTypes.exports=requireFactoryWithThrowingShims()()),propTypes.exports}var propTypesExports=requirePropTypes();const PropTypes=getDefaultExportFromCjs(propTypesExports),stringOrNumber=PropTypes.oneOfType([PropTypes.string,PropTypes.number]),types={all:PropTypes.bool,grid:PropTypes.bool,aural:PropTypes.bool,braille:PropTypes.bool,handheld:PropTypes.bool,print:PropTypes.bool,projection:PropTypes.bool,screen:PropTypes.bool,tty:PropTypes.bool,tv:PropTypes.bool,embossed:PropTypes.bool},matchers={orientation:PropTypes.oneOf(["portrait","landscape"]),scan:PropTypes.oneOf(["progressive","interlace"]),aspectRatio:PropTypes.string,deviceAspectRatio:PropTypes.string,height:stringOrNumber,deviceHeight:stringOrNumber,width:stringOrNumber,deviceWidth:stringOrNumber,color:PropTypes.bool,colorIndex:PropTypes.bool,monochrome:PropTypes.bool,resolution:stringOrNumber,type:Object.keys(types)},{type,...featureMatchers}=matchers,features={minAspectRatio:PropTypes.string,maxAspectRatio:PropTypes.string,minDeviceAspectRatio:PropTypes.string,maxDeviceAspectRatio:PropTypes.string,minHeight:stringOrNumber,maxHeight:stringOrNumber,minDeviceHeight:stringOrNumber,maxDeviceHeight:stringOrNumber,minWidth:stringOrNumber,maxWidth:stringOrNumber,minDeviceWidth:stringOrNumber,maxDeviceWidth:stringOrNumber,minColor:PropTypes.number,maxColor:PropTypes.number,minColorIndex:PropTypes.number,maxColorIndex:PropTypes.number,minMonochrome:PropTypes.number,maxMonochrome:PropTypes.number,minResolution:stringOrNumber,maxResolution:stringOrNumber,...featureMatchers},all={...types,...features};var mq={all};const negate=n=>`not ${n}`,keyVal=(n,s)=>{const i=hyphenateStyleName(n);return typeof s=="number"&&(s=`${s}px`),s===!0?i:s===!1?negate(i):`(${i}: ${s})`},join=n=>n.join(" and "),toQuery=n=>{const s=[];return Object.keys(mq.all).forEach(i=>{const a=n[i];a!=null&&s.push(keyVal(i,a))}),join(s)},Context=reactExports.createContext(void 0),makeQuery=n=>n.query||toQuery(n),hyphenateKeys=n=>n?Object.keys(n).reduce((i,a)=>(i[hyphenateStyleName(a)]=n[a],i),{}):void 0,useIsUpdate=()=>{const n=reactExports.useRef(!1);return reactExports.useEffect(()=>{n.current=!0},[]),n.current},useDevice=n=>{const s=reactExports.useContext(Context),i=()=>hyphenateKeys(n)||hyphenateKeys(s),[a,o]=reactExports.useState(i);return reactExports.useEffect(()=>{const c=i();shallowEqualObjects(a,c)||o(c)},[n,s]),a},useQuery=n=>{const s=()=>makeQuery(n),[i,a]=reactExports.useState(s);return reactExports.useEffect(()=>{const o=s();i!==o&&a(o)},[n]),i},useMatchMedia=(n,s)=>{const i=()=>matchMedia(n,s||{},!!s),[a,o]=reactExports.useState(i),c=useIsUpdate();return reactExports.useEffect(()=>{if(c){const l=i();return o(l),()=>{l&&l.dispose()}}},[n,s]),a},useMatches=n=>{const[s,i]=reactExports.useState(n.matches);return reactExports.useEffect(()=>{const a=o=>{i(o.matches)};return n.addListener(a),i(n.matches),()=>{n.removeListener(a)}},[n]),s},useMediaQuery=(n,s,i)=>{const a=useDevice(s),o=useQuery(n);if(!o)throw new Error("Invalid or missing MediaQuery!");const c=useMatchMedia(o,a),l=useMatches(c);return useIsUpdate(),reactExports.useEffect(()=>{},[l]),reactExports.useEffect(()=>()=>{c&&c.dispose()},[]),l},CustomCursor=()=>{const n=useMediaQuery({maxWidth:853});return reactExports.useEffect(()=>{if(n)return;const s={x:0,y:0},i=document.querySelectorAll(".circle"),a=["#18CCFC","#2BC5F9","#3EBEF6","#51B7F3","#64B0F0","#77A9ED","#8AA2EA","#9D9BE7","#B094E4","#C38DE1","#D686DE","#E97FDB","#FC78D8","#EF71D5","#E26AD2","#D563CF","#C85CCC","#BB55C9","#AE48FF","#A141FF"];i.forEach((c,l)=>{c.x=0,c.y=0,c.style.backgroundColor=a[l%a.length]}),window.addEventListener("mousemove",c=>{s.x=c.clientX,s.y=c.clientY});function o(){let c=s.x,l=s.y;i.forEach((f,u)=>{f.style.left=`${c-12}px`,f.style.top=`${l-12}px`,f.style.transform=`scale(${(i.length-u)/i.length})`,f.x=c,f.y=l;const h=i[u+1]||i[0];c+=(h.x-c)*.3,l+=(h.y-l)*.3}),requestAnimationFrame(o)}return o(),()=>{window.removeEventListener("mousemove",()=>{})}},[n]),n?null:jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:[...Array(20)].map((s,i)=>jsxRuntimeExports.jsx("div",{className:"circle"},i))})};function r(n){var s,i,a="";if(typeof n=="string"||typeof n=="number")a+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(s=0;s<o;s++)n[s]&&(i=r(n[s]))&&(a&&(a+=" "),a+=i)}else for(i in n)n[i]&&(a&&(a+=" "),a+=i);return a}function clsx(){for(var n,s,i=0,a="",o=arguments.length;i<o;i++)(n=arguments[i])&&(s=r(n))&&(a&&(a+=" "),a+=s);return a}const CLASS_PART_SEPARATOR="-",createClassGroupUtils=n=>{const s=createClassMap(n),{conflictingClassGroups:i,conflictingClassGroupModifiers:a}=n;return{getClassGroupId:l=>{const f=l.split(CLASS_PART_SEPARATOR);return f[0]===""&&f.length!==1&&f.shift(),getGroupRecursive(f,s)||getGroupIdForArbitraryProperty(l)},getConflictingClassGroupIds:(l,f)=>{const u=i[l]||[];return f&&a[l]?[...u,...a[l]]:u}}},getGroupRecursive=(n,s)=>{var l;if(n.length===0)return s.classGroupId;const i=n[0],a=s.nextPart.get(i),o=a?getGroupRecursive(n.slice(1),a):void 0;if(o)return o;if(s.validators.length===0)return;const c=n.join(CLASS_PART_SEPARATOR);return(l=s.validators.find(({validator:f})=>f(c)))==null?void 0:l.classGroupId},arbitraryPropertyRegex=/^\[(.+)\]$/,getGroupIdForArbitraryProperty=n=>{if(arbitraryPropertyRegex.test(n)){const s=arbitraryPropertyRegex.exec(n)[1],i=s==null?void 0:s.substring(0,s.indexOf(":"));if(i)return"arbitrary.."+i}},createClassMap=n=>{const{theme:s,classGroups:i}=n,a={nextPart:new Map,validators:[]};for(const o in i)processClassesRecursively(i[o],a,o,s);return a},processClassesRecursively=(n,s,i,a)=>{n.forEach(o=>{if(typeof o=="string"){const c=o===""?s:getPart(s,o);c.classGroupId=i;return}if(typeof o=="function"){if(isThemeGetter(o)){processClassesRecursively(o(a),s,i,a);return}s.validators.push({validator:o,classGroupId:i});return}Object.entries(o).forEach(([c,l])=>{processClassesRecursively(l,getPart(s,c),i,a)})})},getPart=(n,s)=>{let i=n;return s.split(CLASS_PART_SEPARATOR).forEach(a=>{i.nextPart.has(a)||i.nextPart.set(a,{nextPart:new Map,validators:[]}),i=i.nextPart.get(a)}),i},isThemeGetter=n=>n.isThemeGetter,createLruCache=n=>{if(n<1)return{get:()=>{},set:()=>{}};let s=0,i=new Map,a=new Map;const o=(c,l)=>{i.set(c,l),s++,s>n&&(s=0,a=i,i=new Map)};return{get(c){let l=i.get(c);if(l!==void 0)return l;if((l=a.get(c))!==void 0)return o(c,l),l},set(c,l){i.has(c)?i.set(c,l):o(c,l)}}},IMPORTANT_MODIFIER="!",MODIFIER_SEPARATOR=":",MODIFIER_SEPARATOR_LENGTH=MODIFIER_SEPARATOR.length,createParseClassName=n=>{const{prefix:s,experimentalParseClassName:i}=n;let a=o=>{const c=[];let l=0,f=0,u=0,h;for(let E=0;E<o.length;E++){let P=o[E];if(l===0&&f===0){if(P===MODIFIER_SEPARATOR){c.push(o.slice(u,E)),u=E+MODIFIER_SEPARATOR_LENGTH;continue}if(P==="/"){h=E;continue}}P==="["?l++:P==="]"?l--:P==="("?f++:P===")"&&f--}const d=c.length===0?o:o.substring(u),g=stripImportantModifier(d),m=g!==d,b=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:b}};if(s){const o=s+MODIFIER_SEPARATOR,c=a;a=l=>l.startsWith(o)?c(l.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(i){const o=a;a=c=>i({className:c,parseClassName:o})}return a},stripImportantModifier=n=>n.endsWith(IMPORTANT_MODIFIER)?n.substring(0,n.length-1):n.startsWith(IMPORTANT_MODIFIER)?n.substring(1):n,createSortModifiers=n=>{const s=Object.fromEntries(n.orderSensitiveModifiers.map(a=>[a,!0]));return a=>{if(a.length<=1)return a;const o=[];let c=[];return a.forEach(l=>{l[0]==="["||s[l]?(o.push(...c.sort(),l),c=[]):c.push(l)}),o.push(...c.sort()),o}},createConfigUtils=n=>({cache:createLruCache(n.cacheSize),parseClassName:createParseClassName(n),sortModifiers:createSortModifiers(n),...createClassGroupUtils(n)}),SPLIT_CLASSES_REGEX=/\s+/,mergeClassList=(n,s)=>{const{parseClassName:i,getClassGroupId:a,getConflictingClassGroupIds:o,sortModifiers:c}=s,l=[],f=n.trim().split(SPLIT_CLASSES_REGEX);let u="";for(let h=f.length-1;h>=0;h-=1){const d=f[h],{isExternal:g,modifiers:m,hasImportantModifier:b,baseClassName:E,maybePostfixModifierPosition:P}=i(d);if(g){u=d+(u.length>0?" "+u:u);continue}let v=!!P,x=a(v?E.substring(0,P):E);if(!x){if(!v){u=d+(u.length>0?" "+u:u);continue}if(x=a(E),!x){u=d+(u.length>0?" "+u:u);continue}v=!1}const T=c(m).join(":"),y=b?T+IMPORTANT_MODIFIER:T,C=y+x;if(l.includes(C))continue;l.push(C);const p=o(x,v);for(let A=0;A<p.length;++A){const R=p[A];l.push(y+R)}u=d+(u.length>0?" "+u:u)}return u};function twJoin(){let n=0,s,i,a="";for(;n<arguments.length;)(s=arguments[n++])&&(i=toValue(s))&&(a&&(a+=" "),a+=i);return a}const toValue=n=>{if(typeof n=="string")return n;let s,i="";for(let a=0;a<n.length;a++)n[a]&&(s=toValue(n[a]))&&(i&&(i+=" "),i+=s);return i};function createTailwindMerge(n,...s){let i,a,o,c=l;function l(u){const h=s.reduce((d,g)=>g(d),n());return i=createConfigUtils(h),a=i.cache.get,o=i.cache.set,c=f,f(u)}function f(u){const h=a(u);if(h)return h;const d=mergeClassList(u,i);return o(u,d),d}return function(){return c(twJoin.apply(null,arguments))}}const fromTheme=n=>{const s=i=>i[n]||[];return s.isThemeGetter=!0,s},arbitraryValueRegex=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,arbitraryVariableRegex=/^\((?:(\w[\w-]*):)?(.+)\)$/i,fractionRegex=/^\d+\/\d+$/,tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,colorFunctionRegex=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,shadowRegex=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,imageRegex=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,isFraction=n=>fractionRegex.test(n),isNumber=n=>!!n&&!Number.isNaN(Number(n)),isInteger=n=>!!n&&Number.isInteger(Number(n)),isPercent=n=>n.endsWith("%")&&isNumber(n.slice(0,-1)),isTshirtSize=n=>tshirtUnitRegex.test(n),isAny=()=>!0,isLengthOnly=n=>lengthUnitRegex.test(n)&&!colorFunctionRegex.test(n),isNever=()=>!1,isShadow=n=>shadowRegex.test(n),isImage=n=>imageRegex.test(n),isAnyNonArbitrary=n=>!isArbitraryValue(n)&&!isArbitraryVariable(n),isArbitrarySize=n=>getIsArbitraryValue(n,isLabelSize,isNever),isArbitraryValue=n=>arbitraryValueRegex.test(n),isArbitraryLength=n=>getIsArbitraryValue(n,isLabelLength,isLengthOnly),isArbitraryNumber=n=>getIsArbitraryValue(n,isLabelNumber,isNumber),isArbitraryPosition=n=>getIsArbitraryValue(n,isLabelPosition,isNever),isArbitraryImage=n=>getIsArbitraryValue(n,isLabelImage,isImage),isArbitraryShadow=n=>getIsArbitraryValue(n,isNever,isShadow),isArbitraryVariable=n=>arbitraryVariableRegex.test(n),isArbitraryVariableLength=n=>getIsArbitraryVariable(n,isLabelLength),isArbitraryVariableFamilyName=n=>getIsArbitraryVariable(n,isLabelFamilyName),isArbitraryVariablePosition=n=>getIsArbitraryVariable(n,isLabelPosition),isArbitraryVariableSize=n=>getIsArbitraryVariable(n,isLabelSize),isArbitraryVariableImage=n=>getIsArbitraryVariable(n,isLabelImage),isArbitraryVariableShadow=n=>getIsArbitraryVariable(n,isLabelShadow,!0),getIsArbitraryValue=(n,s,i)=>{const a=arbitraryValueRegex.exec(n);return a?a[1]?s(a[1]):i(a[2]):!1},getIsArbitraryVariable=(n,s,i=!1)=>{const a=arbitraryVariableRegex.exec(n);return a?a[1]?s(a[1]):i:!1},isLabelPosition=n=>n==="position",imageLabels=new Set(["image","url"]),isLabelImage=n=>imageLabels.has(n),sizeLabels=new Set(["length","size","percentage"]),isLabelSize=n=>sizeLabels.has(n),isLabelLength=n=>n==="length",isLabelNumber=n=>n==="number",isLabelFamilyName=n=>n==="family-name",isLabelShadow=n=>n==="shadow",getDefaultConfig=()=>{const n=fromTheme("color"),s=fromTheme("font"),i=fromTheme("text"),a=fromTheme("font-weight"),o=fromTheme("tracking"),c=fromTheme("leading"),l=fromTheme("breakpoint"),f=fromTheme("container"),u=fromTheme("spacing"),h=fromTheme("radius"),d=fromTheme("shadow"),g=fromTheme("inset-shadow"),m=fromTheme("drop-shadow"),b=fromTheme("blur"),E=fromTheme("perspective"),P=fromTheme("aspect"),v=fromTheme("ease"),x=fromTheme("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],C=()=>["auto","hidden","clip","visible","scroll"],p=()=>["auto","contain","none"],A=()=>[isFraction,"px","full","auto",isArbitraryVariable,isArbitraryValue,u],R=()=>[isInteger,"none","subgrid",isArbitraryVariable,isArbitraryValue],S=()=>["auto",{span:["full",isInteger,isArbitraryVariable,isArbitraryValue]},isArbitraryVariable,isArbitraryValue],L=()=>[isInteger,"auto",isArbitraryVariable,isArbitraryValue],V=()=>["auto","min","max","fr",isArbitraryVariable,isArbitraryValue],X=()=>[isArbitraryVariable,isArbitraryValue,u],it=()=>["start","end","center","between","around","evenly","stretch","baseline"],gt=()=>["start","end","center","stretch"],K=()=>[isArbitraryVariable,isArbitraryValue,u],lt=()=>["px",...K()],tt=()=>["px","auto",...K()],G=()=>[isFraction,"auto","px","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",isArbitraryVariable,isArbitraryValue,u],W=()=>[n,isArbitraryVariable,isArbitraryValue],at=()=>[isPercent,isArbitraryLength],ct=()=>["","none","full",h,isArbitraryVariable,isArbitraryValue],j=()=>["",isNumber,isArbitraryVariableLength,isArbitraryLength],k=()=>["solid","dashed","dotted","double"],_=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["","none",b,isArbitraryVariable,isArbitraryValue],U=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",isArbitraryVariable,isArbitraryValue],z=()=>["none",isNumber,isArbitraryVariable,isArbitraryValue],N=()=>["none",isNumber,isArbitraryVariable,isArbitraryValue],Z=()=>[isNumber,isArbitraryVariable,isArbitraryValue],rt=()=>[isFraction,"full","px",isArbitraryVariable,isArbitraryValue,u];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[isTshirtSize],breakpoint:[isTshirtSize],color:[isAny],container:[isTshirtSize],"drop-shadow":[isTshirtSize],ease:["in","out","in-out"],font:[isAnyNonArbitrary],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[isTshirtSize],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[isTshirtSize],shadow:[isTshirtSize],spacing:[isNumber],text:[isTshirtSize],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",isFraction,isArbitraryValue,isArbitraryVariable,P]}],container:["container"],columns:[{columns:[isNumber,isArbitraryValue,isArbitraryVariable,f]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...y(),isArbitraryValue,isArbitraryVariable]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:p()}],"overscroll-x":[{"overscroll-x":p()}],"overscroll-y":[{"overscroll-y":p()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:A()}],"inset-x":[{"inset-x":A()}],"inset-y":[{"inset-y":A()}],start:[{start:A()}],end:[{end:A()}],top:[{top:A()}],right:[{right:A()}],bottom:[{bottom:A()}],left:[{left:A()}],visibility:["visible","invisible","collapse"],z:[{z:[isInteger,"auto",isArbitraryVariable,isArbitraryValue]}],basis:[{basis:[isFraction,"full","auto",isArbitraryVariable,isArbitraryValue,f,u]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[isNumber,isFraction,"auto","initial","none",isArbitraryValue]}],grow:[{grow:["",isNumber,isArbitraryVariable,isArbitraryValue]}],shrink:[{shrink:["",isNumber,isArbitraryVariable,isArbitraryValue]}],order:[{order:[isInteger,"first","last","none",isArbitraryVariable,isArbitraryValue]}],"grid-cols":[{"grid-cols":R()}],"col-start-end":[{col:S()}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":R()}],"row-start-end":[{row:S()}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":V()}],"auto-rows":[{"auto-rows":V()}],gap:[{gap:X()}],"gap-x":[{"gap-x":X()}],"gap-y":[{"gap-y":X()}],"justify-content":[{justify:[...it(),"normal"]}],"justify-items":[{"justify-items":[...gt(),"normal"]}],"justify-self":[{"justify-self":["auto",...gt()]}],"align-content":[{content:["normal",...it()]}],"align-items":[{items:[...gt(),"baseline"]}],"align-self":[{self:["auto",...gt(),"baseline"]}],"place-content":[{"place-content":it()}],"place-items":[{"place-items":[...gt(),"baseline"]}],"place-self":[{"place-self":["auto",...gt()]}],p:[{p:lt()}],px:[{px:lt()}],py:[{py:lt()}],ps:[{ps:lt()}],pe:[{pe:lt()}],pt:[{pt:lt()}],pr:[{pr:lt()}],pb:[{pb:lt()}],pl:[{pl:lt()}],m:[{m:tt()}],mx:[{mx:tt()}],my:[{my:tt()}],ms:[{ms:tt()}],me:[{me:tt()}],mt:[{mt:tt()}],mr:[{mr:tt()}],mb:[{mb:tt()}],ml:[{ml:tt()}],"space-x":[{"space-x":K()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":K()}],"space-y-reverse":["space-y-reverse"],size:[{size:G()}],w:[{w:[f,"screen",...G()]}],"min-w":[{"min-w":[f,"screen","none",...G()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[l]},...G()]}],h:[{h:["screen",...G()]}],"min-h":[{"min-h":["screen","none",...G()]}],"max-h":[{"max-h":["screen",...G()]}],"font-size":[{text:["base",i,isArbitraryVariableLength,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,isArbitraryVariable,isArbitraryNumber]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",isPercent,isArbitraryValue]}],"font-family":[{font:[isArbitraryVariableFamilyName,isArbitraryValue,s]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,isArbitraryVariable,isArbitraryValue]}],"line-clamp":[{"line-clamp":[isNumber,"none",isArbitraryVariable,isArbitraryNumber]}],leading:[{leading:[isArbitraryVariable,isArbitraryValue,c,u]}],"list-image":[{"list-image":["none",isArbitraryVariable,isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",isArbitraryVariable,isArbitraryValue]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:W()}],"text-color":[{text:W()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...k(),"wavy"]}],"text-decoration-thickness":[{decoration:[isNumber,"from-font","auto",isArbitraryVariable,isArbitraryLength]}],"text-decoration-color":[{decoration:W()}],"underline-offset":[{"underline-offset":[isNumber,"auto",isArbitraryVariable,isArbitraryValue]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:["px",...K()]}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryVariable,isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryVariable,isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...y(),isArbitraryVariablePosition,isArbitraryPosition]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",isArbitraryVariableSize,isArbitrarySize]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},isInteger,isArbitraryVariable,isArbitraryValue],radial:["",isArbitraryVariable,isArbitraryValue],conic:[isInteger,isArbitraryVariable,isArbitraryValue]},isArbitraryVariableImage,isArbitraryImage]}],"bg-color":[{bg:W()}],"gradient-from-pos":[{from:at()}],"gradient-via-pos":[{via:at()}],"gradient-to-pos":[{to:at()}],"gradient-from":[{from:W()}],"gradient-via":[{via:W()}],"gradient-to":[{to:W()}],rounded:[{rounded:ct()}],"rounded-s":[{"rounded-s":ct()}],"rounded-e":[{"rounded-e":ct()}],"rounded-t":[{"rounded-t":ct()}],"rounded-r":[{"rounded-r":ct()}],"rounded-b":[{"rounded-b":ct()}],"rounded-l":[{"rounded-l":ct()}],"rounded-ss":[{"rounded-ss":ct()}],"rounded-se":[{"rounded-se":ct()}],"rounded-ee":[{"rounded-ee":ct()}],"rounded-es":[{"rounded-es":ct()}],"rounded-tl":[{"rounded-tl":ct()}],"rounded-tr":[{"rounded-tr":ct()}],"rounded-br":[{"rounded-br":ct()}],"rounded-bl":[{"rounded-bl":ct()}],"border-w":[{border:j()}],"border-w-x":[{"border-x":j()}],"border-w-y":[{"border-y":j()}],"border-w-s":[{"border-s":j()}],"border-w-e":[{"border-e":j()}],"border-w-t":[{"border-t":j()}],"border-w-r":[{"border-r":j()}],"border-w-b":[{"border-b":j()}],"border-w-l":[{"border-l":j()}],"divide-x":[{"divide-x":j()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":j()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...k(),"hidden","none"]}],"divide-style":[{divide:[...k(),"hidden","none"]}],"border-color":[{border:W()}],"border-color-x":[{"border-x":W()}],"border-color-y":[{"border-y":W()}],"border-color-s":[{"border-s":W()}],"border-color-e":[{"border-e":W()}],"border-color-t":[{"border-t":W()}],"border-color-r":[{"border-r":W()}],"border-color-b":[{"border-b":W()}],"border-color-l":[{"border-l":W()}],"divide-color":[{divide:W()}],"outline-style":[{outline:[...k(),"none","hidden"]}],"outline-offset":[{"outline-offset":[isNumber,isArbitraryVariable,isArbitraryValue]}],"outline-w":[{outline:["",isNumber,isArbitraryVariableLength,isArbitraryLength]}],"outline-color":[{outline:[n]}],shadow:[{shadow:["","none",d,isArbitraryVariableShadow,isArbitraryShadow]}],"shadow-color":[{shadow:W()}],"inset-shadow":[{"inset-shadow":["none",isArbitraryVariable,isArbitraryValue,g]}],"inset-shadow-color":[{"inset-shadow":W()}],"ring-w":[{ring:j()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:W()}],"ring-offset-w":[{"ring-offset":[isNumber,isArbitraryLength]}],"ring-offset-color":[{"ring-offset":W()}],"inset-ring-w":[{"inset-ring":j()}],"inset-ring-color":[{"inset-ring":W()}],opacity:[{opacity:[isNumber,isArbitraryVariable,isArbitraryValue]}],"mix-blend":[{"mix-blend":[..._(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":_()}],filter:[{filter:["","none",isArbitraryVariable,isArbitraryValue]}],blur:[{blur:I()}],brightness:[{brightness:[isNumber,isArbitraryVariable,isArbitraryValue]}],contrast:[{contrast:[isNumber,isArbitraryVariable,isArbitraryValue]}],"drop-shadow":[{"drop-shadow":["","none",m,isArbitraryVariable,isArbitraryValue]}],grayscale:[{grayscale:["",isNumber,isArbitraryVariable,isArbitraryValue]}],"hue-rotate":[{"hue-rotate":[isNumber,isArbitraryVariable,isArbitraryValue]}],invert:[{invert:["",isNumber,isArbitraryVariable,isArbitraryValue]}],saturate:[{saturate:[isNumber,isArbitraryVariable,isArbitraryValue]}],sepia:[{sepia:["",isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-filter":[{"backdrop-filter":["","none",isArbitraryVariable,isArbitraryValue]}],"backdrop-blur":[{"backdrop-blur":I()}],"backdrop-brightness":[{"backdrop-brightness":[isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-contrast":[{"backdrop-contrast":[isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-grayscale":[{"backdrop-grayscale":["",isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-invert":[{"backdrop-invert":["",isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-opacity":[{"backdrop-opacity":[isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-saturate":[{"backdrop-saturate":[isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-sepia":[{"backdrop-sepia":["",isNumber,isArbitraryVariable,isArbitraryValue]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":K()}],"border-spacing-x":[{"border-spacing-x":K()}],"border-spacing-y":[{"border-spacing-y":K()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",isArbitraryVariable,isArbitraryValue]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[isNumber,"initial",isArbitraryVariable,isArbitraryValue]}],ease:[{ease:["linear","initial",v,isArbitraryVariable,isArbitraryValue]}],delay:[{delay:[isNumber,isArbitraryVariable,isArbitraryValue]}],animate:[{animate:["none",x,isArbitraryVariable,isArbitraryValue]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[E,isArbitraryVariable,isArbitraryValue]}],"perspective-origin":[{"perspective-origin":U()}],rotate:[{rotate:z()}],"rotate-x":[{"rotate-x":z()}],"rotate-y":[{"rotate-y":z()}],"rotate-z":[{"rotate-z":z()}],scale:[{scale:N()}],"scale-x":[{"scale-x":N()}],"scale-y":[{"scale-y":N()}],"scale-z":[{"scale-z":N()}],"scale-3d":["scale-3d"],skew:[{skew:Z()}],"skew-x":[{"skew-x":Z()}],"skew-y":[{"skew-y":Z()}],transform:[{transform:[isArbitraryVariable,isArbitraryValue,"","none","gpu","cpu"]}],"transform-origin":[{origin:U()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:rt()}],"translate-x":[{"translate-x":rt()}],"translate-y":[{"translate-y":rt()}],"translate-z":[{"translate-z":rt()}],"translate-none":["translate-none"],accent:[{accent:W()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:W()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryVariable,isArbitraryValue]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":K()}],"scroll-mx":[{"scroll-mx":K()}],"scroll-my":[{"scroll-my":K()}],"scroll-ms":[{"scroll-ms":K()}],"scroll-me":[{"scroll-me":K()}],"scroll-mt":[{"scroll-mt":K()}],"scroll-mr":[{"scroll-mr":K()}],"scroll-mb":[{"scroll-mb":K()}],"scroll-ml":[{"scroll-ml":K()}],"scroll-p":[{"scroll-p":K()}],"scroll-px":[{"scroll-px":K()}],"scroll-py":[{"scroll-py":K()}],"scroll-ps":[{"scroll-ps":K()}],"scroll-pe":[{"scroll-pe":K()}],"scroll-pt":[{"scroll-pt":K()}],"scroll-pr":[{"scroll-pr":K()}],"scroll-pb":[{"scroll-pb":K()}],"scroll-pl":[{"scroll-pl":K()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryVariable,isArbitraryValue]}],fill:[{fill:["none",...W()]}],"stroke-w":[{stroke:[isNumber,isArbitraryVariableLength,isArbitraryLength,isArbitraryNumber]}],stroke:[{stroke:["none",...W()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},twMerge=createTailwindMerge(getDefaultConfig);function cn(...n){return twMerge(clsx(n))}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var __assign=function(){return __assign=Object.assign||function(s){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(s[c]=i[c])}return s},__assign.apply(this,arguments)};function __rest(n,s){var i={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&s.indexOf(a)<0&&(i[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(n);o<a.length;o++)s.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(n,a[o])&&(i[a[o]]=n[a[o]]);return i}var hashFragment="",observer=null,asyncTimerId=null,scrollFunction=null;function reset(){hashFragment="",observer!==null&&observer.disconnect(),asyncTimerId!==null&&(window.clearTimeout(asyncTimerId),asyncTimerId=null)}function isInteractiveElement(n){var s=["BUTTON","INPUT","SELECT","TEXTAREA"],i=["A","AREA"];return s.includes(n.tagName)&&!n.hasAttribute("disabled")||i.includes(n.tagName)&&n.hasAttribute("href")}function getElAndScroll(){var n=null;if(hashFragment==="#")n=document.body;else{var s=hashFragment.replace("#","");n=document.getElementById(s),n===null&&hashFragment==="#top"&&(n=document.body)}if(n!==null){scrollFunction(n);var i=n.getAttribute("tabindex");return i===null&&!isInteractiveElement(n)&&n.setAttribute("tabindex",-1),n.focus({preventScroll:!0}),i===null&&!isInteractiveElement(n)&&(n.blur(),n.removeAttribute("tabindex")),reset(),!0}return!1}function hashLinkScroll(n){window.setTimeout(function(){getElAndScroll()===!1&&(observer===null&&(observer=new MutationObserver(getElAndScroll)),observer.observe(document,{attributes:!0,childList:!0,subtree:!0}),asyncTimerId=window.setTimeout(function(){reset()},n||1e4))},0)}function genericHashLink(n){return React.forwardRef(function(s,i){var a="";typeof s.to=="string"&&s.to.includes("#")?a="#"+s.to.split("#").slice(1).join("#"):typeof s.to=="object"&&typeof s.to.hash=="string"&&(a=s.to.hash);var o={};n===NavLink&&(o.isActive=function(f,u){return f&&f.isExact&&u.hash===a});function c(f){reset(),hashFragment=s.elementId?"#"+s.elementId:a,s.onClick&&s.onClick(f),hashFragment!==""&&!f.defaultPrevented&&f.button===0&&(!s.target||s.target==="_self")&&!(f.metaKey||f.altKey||f.ctrlKey||f.shiftKey)&&(scrollFunction=s.scroll||function(u){return s.smooth?u.scrollIntoView({behavior:"smooth"}):u.scrollIntoView()},hashLinkScroll(s.timeout))}var l=__rest(s,["scroll","smooth","timeout","elementId"]);return React.createElement(n,__assign({},o,l,{onClick:c,ref:i}),s.children)})}var HashLink=genericHashLink(Link);genericHashLink(NavLink);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const createReactComponent=(n,s,i,a)=>{const o=reactExports.forwardRef(({color:c="currentColor",size:l=24,stroke:f=2,title:u,className:h,children:d,...g},m)=>reactExports.createElement("svg",{ref:m,...defaultAttributes[n],width:l,height:l,className:["tabler-icon",`tabler-icon-${s}`,h].join(" "),strokeWidth:f,stroke:c,...g},[u&&reactExports.createElement("title",{key:"svg-title"},u),...a.map(([b,E])=>reactExports.createElement(b,E)),...Array.isArray(d)?d:[d]]));return o.displayName=`${i}`,o};/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconBrandGithub=createReactComponent("outline","brand-github","IconBrandGithub",[["path",{d:"M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconBrandLinkedin=createReactComponent("outline","brand-linkedin","IconBrandLinkedin",[["path",{d:"M8 11v5",key:"svg-0"}],["path",{d:"M8 8v.01",key:"svg-1"}],["path",{d:"M12 16v-5",key:"svg-2"}],["path",{d:"M16 16v-3a2 2 0 1 0 -4 0",key:"svg-3"}],["path",{d:"M3 7a4 4 0 0 1 4 -4h10a4 4 0 0 1 4 4v10a4 4 0 0 1 -4 4h-10a4 4 0 0 1 -4 -4z",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconExchange=createReactComponent("outline","exchange","IconExchange",[["path",{d:"M5 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M19 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M19 8v5a5 5 0 0 1 -5 5h-3l3 -3m0 6l-3 -3",key:"svg-2"}],["path",{d:"M5 16v-5a5 5 0 0 1 5 -5h3l-3 -3m0 6l3 -3",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconFileText=createReactComponent("outline","file-text","IconFileText",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z",key:"svg-1"}],["path",{d:"M9 9l1 0",key:"svg-2"}],["path",{d:"M9 13l6 0",key:"svg-3"}],["path",{d:"M9 17l6 0",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconHome=createReactComponent("outline","home","IconHome",[["path",{d:"M5 12l-2 0l9 -9l9 9l-2 0",key:"svg-0"}],["path",{d:"M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7",key:"svg-1"}],["path",{d:"M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconLayoutNavbarCollapse=createReactComponent("outline","layout-navbar-collapse","IconLayoutNavbarCollapse",[["path",{d:"M4 18v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M4 9h16",key:"svg-1"}],["path",{d:"M10 16l2 -2l2 2",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconNewSection=createReactComponent("outline","new-section","IconNewSection",[["path",{d:"M9 12l6 0",key:"svg-0"}],["path",{d:"M12 9l0 6",key:"svg-1"}],["path",{d:"M4 6v-1a1 1 0 0 1 1 -1h1m5 0h2m5 0h1a1 1 0 0 1 1 1v1m0 5v2m0 5v1a1 1 0 0 1 -1 1h-1m-5 0h-2m-5 0h-1a1 1 0 0 1 -1 -1v-1m0 -5v-2m0 -5",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconSearch=createReactComponent("outline","search","IconSearch",[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconTerminal2=createReactComponent("outline","terminal-2","IconTerminal2",[["path",{d:"M8 9l3 3l-3 3",key:"svg-0"}],["path",{d:"M13 15l3 0",key:"svg-1"}],["path",{d:"M3 4m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-2"}]]);const LayoutGroupContext$1=reactExports.createContext({});function useConstant$1(n){const s=reactExports.useRef(null);return s.current===null&&(s.current=n()),s.current}const PresenceContext$1=reactExports.createContext(null),MotionConfigContext$1=reactExports.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});let PopChildMeasure$1=class extends reactExports.Component{getSnapshotBeforeUpdate(s){const i=this.props.childRef.current;if(i&&s.isPresent&&!this.props.isPresent){const a=i.offsetParent,o=a instanceof HTMLElement&&a.offsetWidth||0,c=this.props.sizeRef.current;c.height=i.offsetHeight||0,c.width=i.offsetWidth||0,c.top=i.offsetTop,c.left=i.offsetLeft,c.right=o-c.width-c.left}return null}componentDidUpdate(){}render(){return this.props.children}};function PopChild$1({children:n,isPresent:s,anchorX:i}){const a=reactExports.useId(),o=reactExports.useRef(null),c=reactExports.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=reactExports.useContext(MotionConfigContext$1);return reactExports.useInsertionEffect(()=>{const{width:f,height:u,top:h,left:d,right:g}=c.current;if(s||!o.current||!f||!u)return;const m=i==="left"?`left: ${d}`:`right: ${g}`;o.current.dataset.motionPopId=a;const b=document.createElement("style");return l&&(b.nonce=l),document.head.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${u}px !important;
            ${m}px !important;
            top: ${h}px !important;
          }
        `),()=>{document.head.removeChild(b)}},[s]),jsxRuntimeExports.jsx(PopChildMeasure$1,{isPresent:s,childRef:o,sizeRef:c,children:reactExports.cloneElement(n,{ref:o})})}const PresenceChild$1=({children:n,initial:s,isPresent:i,onExitComplete:a,custom:o,presenceAffectsLayout:c,mode:l,anchorX:f})=>{const u=useConstant$1(newChildrenMap$1),h=reactExports.useId(),d=reactExports.useCallback(m=>{u.set(m,!0);for(const b of u.values())if(!b)return;a&&a()},[u,a]),g=reactExports.useMemo(()=>({id:h,initial:s,isPresent:i,custom:o,onExitComplete:d,register:m=>(u.set(m,!1),()=>u.delete(m))}),c?[Math.random(),d]:[i,d]);return reactExports.useMemo(()=>{u.forEach((m,b)=>u.set(b,!1))},[i]),reactExports.useEffect(()=>{!i&&!u.size&&a&&a()},[i]),l==="popLayout"&&(n=jsxRuntimeExports.jsx(PopChild$1,{isPresent:i,anchorX:f,children:n})),jsxRuntimeExports.jsx(PresenceContext$1.Provider,{value:g,children:n})};function newChildrenMap$1(){return new Map}function usePresence$1(n=!0){const s=reactExports.useContext(PresenceContext$1);if(s===null)return[!0,null];const{isPresent:i,onExitComplete:a,register:o}=s,c=reactExports.useId();reactExports.useEffect(()=>{n&&o(c)},[n]);const l=reactExports.useCallback(()=>n&&a&&a(c),[c,a,n]);return!i&&a?[!1,l]:[!0]}const getChildKey$1=n=>n.key||"";function onlyElements$1(n){const s=[];return reactExports.Children.forEach(n,i=>{reactExports.isValidElement(i)&&s.push(i)}),s}const useIsomorphicLayoutEffect$1=isBrowser$3?reactExports.useLayoutEffect:reactExports.useEffect,AnimatePresence$1=({children:n,custom:s,initial:i=!0,onExitComplete:a,presenceAffectsLayout:o=!0,mode:c="sync",propagate:l=!1,anchorX:f="left"})=>{const[u,h]=usePresence$1(l),d=reactExports.useMemo(()=>onlyElements$1(n),[n]),g=l&&!u?[]:d.map(getChildKey$1),m=reactExports.useRef(!0),b=reactExports.useRef(d),E=useConstant$1(()=>new Map),[P,v]=reactExports.useState(d),[x,T]=reactExports.useState(d);useIsomorphicLayoutEffect$1(()=>{m.current=!1,b.current=d;for(let p=0;p<x.length;p++){const A=getChildKey$1(x[p]);g.includes(A)?E.delete(A):E.get(A)!==!0&&E.set(A,!1)}},[x,g.length,g.join("-")]);const y=[];if(d!==P){let p=[...d];for(let A=0;A<x.length;A++){const R=x[A],S=getChildKey$1(R);g.includes(S)||(p.splice(A,0,R),y.push(R))}return c==="wait"&&y.length&&(p=y),T(onlyElements$1(p)),v(d),null}const{forceRender:C}=reactExports.useContext(LayoutGroupContext$1);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:x.map(p=>{const A=getChildKey$1(p),R=l&&!u?!1:d===x||g.includes(A),S=()=>{if(E.has(A))E.set(A,!0);else return;let L=!0;E.forEach(V=>{V||(L=!1)}),L&&(C==null||C(),T(b.current),l&&(h==null||h()),a&&a())};return jsxRuntimeExports.jsx(PresenceChild$1,{isPresent:R,initial:!m.current||i?void 0:!1,custom:s,presenceAffectsLayout:o,mode:c,onExitComplete:R?void 0:S,anchorX:f,children:p},A)})})},LazyContext$1=reactExports.createContext({strict:!1});function loadFeatures$1(n){for(const s in n)featureDefinitions$1[s]={...featureDefinitions$1[s],...n[s]}}const validMotionProps$1=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp$1(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||validMotionProps$1.has(n)}let shouldForward$1=n=>!isValidMotionProp$1(n);function loadExternalIsValidProp$1(n){n&&(shouldForward$1=s=>s.startsWith("on")?!isValidMotionProp$1(s):n(s))}try{loadExternalIsValidProp$1(require("@emotion/is-prop-valid").default)}catch{}function filterProps$1(n,s,i){const a={};for(const o in n)o==="values"&&typeof n.values=="object"||(shouldForward$1(o)||i===!0&&isValidMotionProp$1(o)||!s&&!isValidMotionProp$1(o)||n.draggable&&o.startsWith("onDrag"))&&(a[o]=n[o]);return a}function createDOMMotionComponentProxy$1(n){if(typeof Proxy>"u")return n;const s=new Map,i=(...a)=>n(...a);return new Proxy(i,{get:(a,o)=>o==="create"?n:(s.has(o)||s.set(o,n(o)),s.get(o))})}const MotionContext$1=reactExports.createContext({});function getCurrentTreeVariants$1(n,s){if(isControllingVariants$1(n)){const{initial:i,animate:a}=n;return{initial:i===!1||isVariantLabel$1(i)?i:void 0,animate:isVariantLabel$1(a)?a:void 0}}return n.inherit!==!1?s:{}}function useCreateMotionContext$1(n){const{initial:s,animate:i}=getCurrentTreeVariants$1(n,reactExports.useContext(MotionContext$1));return reactExports.useMemo(()=>({initial:s,animate:i}),[variantLabelsAsDependency$1(s),variantLabelsAsDependency$1(i)])}function variantLabelsAsDependency$1(n){return Array.isArray(n)?n.join(" "):n}const motionComponentSymbol$1=Symbol.for("motionComponentSymbol");function isRefObject$1(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function useMotionRef$1(n,s,i){return reactExports.useCallback(a=>{a&&n.onMount&&n.onMount(a),s&&(a?s.mount(a):s.unmount()),i&&(typeof i=="function"?i(a):isRefObject$1(i)&&(i.current=a))},[s])}const{schedule:microtask$1}=createRenderBatcher$1(queueMicrotask,!1),SwitchLayoutGroupContext$1=reactExports.createContext({});function useVisualElement$1(n,s,i,a,o){var c,l;const{visualElement:f}=reactExports.useContext(MotionContext$1),u=reactExports.useContext(LazyContext$1),h=reactExports.useContext(PresenceContext$1),d=reactExports.useContext(MotionConfigContext$1).reducedMotion,g=reactExports.useRef(null);a=a||u.renderer,!g.current&&a&&(g.current=a(n,{visualState:s,parent:f,props:i,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:d}));const m=g.current,b=reactExports.useContext(SwitchLayoutGroupContext$1);m&&!m.projection&&o&&(m.type==="html"||m.type==="svg")&&createProjectionNode$3(g.current,i,o,b);const E=reactExports.useRef(!1);reactExports.useInsertionEffect(()=>{m&&E.current&&m.update(i,h)});const P=i[optimizedAppearDataAttribute$1],v=reactExports.useRef(!!P&&!(!((c=window.MotionHandoffIsComplete)===null||c===void 0)&&c.call(window,P))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,P)));return useIsomorphicLayoutEffect$1(()=>{m&&(E.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),microtask$1.render(m.render),v.current&&m.animationState&&m.animationState.animateChanges())}),reactExports.useEffect(()=>{m&&(!v.current&&m.animationState&&m.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)===null||x===void 0||x.call(window,P)}),v.current=!1))}),m}function createProjectionNode$3(n,s,i,a){const{layoutId:o,layout:c,drag:l,dragConstraints:f,layoutScroll:u,layoutRoot:h}=s;n.projection=new i(n.latestValues,s["data-framer-portal-id"]?void 0:getClosestProjectingNode$1(n.parent)),n.projection.setOptions({layoutId:o,layout:c,alwaysMeasureLayout:!!l||f&&isRefObject$1(f),visualElement:n,animationType:typeof c=="string"?c:"both",initialPromotionConfig:a,layoutScroll:u,layoutRoot:h})}function getClosestProjectingNode$1(n){if(n)return n.options.allowProjection!==!1?n.projection:getClosestProjectingNode$1(n.parent)}function createRendererMotionComponent$1({preloadedFeatures:n,createVisualElement:s,useRender:i,useVisualState:a,Component:o}){var c,l;n&&loadFeatures$1(n);function f(h,d){let g;const m={...reactExports.useContext(MotionConfigContext$1),...h,layoutId:useLayoutId$1(h)},{isStatic:b}=m,E=useCreateMotionContext$1(h),P=a(h,b);if(!b&&isBrowser$3){useStrictMode$1();const v=getProjectionFunctionality$1(m);g=v.MeasureLayout,E.visualElement=useVisualElement$1(o,P,m,s,v.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext$1.Provider,{value:E,children:[g&&E.visualElement?jsxRuntimeExports.jsx(g,{visualElement:E.visualElement,...m}):null,i(o,h,useMotionRef$1(P,E.visualElement,d),P,b,E.visualElement)]})}f.displayName=`motion.${typeof o=="string"?o:`create(${(l=(c=o.displayName)!==null&&c!==void 0?c:o.name)!==null&&l!==void 0?l:""})`}`;const u=reactExports.forwardRef(f);return u[motionComponentSymbol$1]=o,u}function useLayoutId$1({layoutId:n}){const s=reactExports.useContext(LayoutGroupContext$1).id;return s&&n!==void 0?s+"-"+n:n}function useStrictMode$1(n,s){reactExports.useContext(LazyContext$1).strict}function getProjectionFunctionality$1(n){const{drag:s,layout:i}=featureDefinitions$1;if(!s&&!i)return{};const a={...s,...i};return{MeasureLayout:s!=null&&s.isEnabled(n)||i!=null&&i.isEnabled(n)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}const createHtmlRenderState$1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly$1(n,s,i){for(const a in s)!isMotionValue$1(s[a])&&!isForcedMotionValue$1(a,i)&&(n[a]=s[a])}function useInitialMotionValues$1({transformTemplate:n},s){return reactExports.useMemo(()=>{const i=createHtmlRenderState$1();return buildHTMLStyles$1(i,s,n),Object.assign({},i.vars,i.style)},[s])}function useStyle$1(n,s){const i=n.style||{},a={};return copyRawValuesOnly$1(a,i,n),Object.assign(a,useInitialMotionValues$1(n,s)),a}function useHTMLProps$1(n,s){const i={},a=useStyle$1(n,s);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=a,i}const lowercaseSVGElements$1=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent$1(n){return typeof n!="string"||n.includes("-")?!1:!!(lowercaseSVGElements$1.indexOf(n)>-1||/[A-Z]/u.test(n))}const createSvgRenderState$1=()=>({...createHtmlRenderState$1(),attrs:{}});function useSVGProps$1(n,s,i,a){const o=reactExports.useMemo(()=>{const c=createSvgRenderState$1();return buildSVGAttrs$1(c,s,isSVGTag$1(a),n.transformTemplate),{...c.attrs,style:{...c.style}}},[s]);if(n.style){const c={};copyRawValuesOnly$1(c,n.style,n),o.style={...c,...o.style}}return o}function createUseRender$1(n=!1){return(i,a,o,{latestValues:c},l)=>{const u=(isSVGComponent$1(i)?useSVGProps$1:useHTMLProps$1)(a,c,l,i),h=filterProps$1(a,typeof i=="string",n),d=i!==reactExports.Fragment?{...h,...u,ref:o}:{},{children:g}=a,m=reactExports.useMemo(()=>isMotionValue$1(g)?g.get():g,[g]);return reactExports.createElement(i,{...d,children:m})}}function resolveMotionValue$1(n){const s=isMotionValue$1(n)?n.get():n;return isCustomValue$1(s)?s.toValue():s}function makeState$1({scrapeMotionValuesFromProps:n,createRenderState:s,onUpdate:i},a,o,c){const l={latestValues:makeLatestValues$1(a,o,c,n),renderState:s()};return i&&(l.onMount=f=>i({props:a,current:f,...l}),l.onUpdate=f=>i(f)),l}const makeUseVisualState$1=n=>(s,i)=>{const a=reactExports.useContext(MotionContext$1),o=reactExports.useContext(PresenceContext$1),c=()=>makeState$1(n,s,a,o);return i?c():useConstant$1(c)};function makeLatestValues$1(n,s,i,a){const o={},c=a(n,{});for(const m in c)o[m]=resolveMotionValue$1(c[m]);let{initial:l,animate:f}=n;const u=isControllingVariants$1(n),h=isVariantNode$1(n);s&&h&&!u&&n.inherit!==!1&&(l===void 0&&(l=s.initial),f===void 0&&(f=s.animate));let d=i?i.initial===!1:!1;d=d||l===!1;const g=d?f:l;if(g&&typeof g!="boolean"&&!isAnimationControls$1(g)){const m=Array.isArray(g)?g:[g];for(let b=0;b<m.length;b++){const E=resolveVariantFromProps$1(n,m[b]);if(E){const{transitionEnd:P,transition:v,...x}=E;for(const T in x){let y=x[T];if(Array.isArray(y)){const C=d?y.length-1:0;y=y[C]}y!==null&&(o[T]=y)}for(const T in P)o[T]=P[T]}}}return o}const htmlMotionConfig$1={useVisualState:makeUseVisualState$1({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$2,createRenderState:createHtmlRenderState$1})},layoutProps$1=["x","y","width","height","cx","cy","r"],svgMotionConfig$1={useVisualState:makeUseVisualState$1({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$3,createRenderState:createSvgRenderState$1,onUpdate:({props:n,prevProps:s,current:i,renderState:a,latestValues:o})=>{if(!i)return;let c=!!n.drag;if(!c){for(const f in o)if(transformProps$1.has(f)){c=!0;break}}if(!c)return;let l=!s;if(s)for(let f=0;f<layoutProps$1.length;f++){const u=layoutProps$1[f];n[u]!==s[u]&&(l=!0)}l&&frame$1.read(()=>{updateSVGDimensions$1(i,a),frame$1.render(()=>{buildSVGAttrs$1(a,o,isSVGTag$1(i.tagName),n.transformTemplate),renderSVG$1(i,a)})})}})};function createMotionComponentFactory$1(n,s){return function(a,{forwardMotionProps:o}={forwardMotionProps:!1}){const l={...isSVGComponent$1(a)?svgMotionConfig$1:htmlMotionConfig$1,preloadedFeatures:n,useRender:createUseRender$1(o),createVisualElement:s,Component:a};return createRendererMotionComponent$1(l)}}function animateVariant$1(n,s,i={}){var a;const o=resolveVariant$1(n,s,i.type==="exit"?(a=n.presenceContext)===null||a===void 0?void 0:a.custom:void 0);let{transition:c=n.getDefaultTransition()||{}}=o||{};i.transitionOverride&&(c=i.transitionOverride);const l=o?()=>Promise.all(animateTarget$1(n,o,i)):()=>Promise.resolve(),f=n.variantChildren&&n.variantChildren.size?(h=0)=>{const{delayChildren:d=0,staggerChildren:g,staggerDirection:m}=c;return animateChildren$1(n,s,d+h,g,m,i)}:()=>Promise.resolve(),{when:u}=c;if(u){const[h,d]=u==="beforeChildren"?[l,f]:[f,l];return h().then(()=>d())}else return Promise.all([l(),f(i.delay)])}function animateChildren$1(n,s,i=0,a=0,o=1,c){const l=[],f=(n.variantChildren.size-1)*a,u=o===1?(h=0)=>h*a:(h=0)=>f-h*a;return Array.from(n.variantChildren).sort(sortByTreeOrder$1).forEach((h,d)=>{h.notify("AnimationStart",s),l.push(animateVariant$1(h,s,{...c,delay:i+u(d)}).then(()=>h.notify("AnimationComplete",s)))}),Promise.all(l)}function sortByTreeOrder$1(n,s){return n.sortNodePosition(s)}function animateVisualElement$1(n,s,i={}){n.notify("AnimationStart",s);let a;if(Array.isArray(s)){const o=s.map(c=>animateVariant$1(n,c,i));a=Promise.all(o)}else if(typeof s=="string")a=animateVariant$1(n,s,i);else{const o=typeof s=="function"?resolveVariant$1(n,s,i.custom):s;a=Promise.all(animateTarget$1(n,o,i))}return a.then(()=>{n.notify("AnimationComplete",s)})}function shallowCompare$1(n,s){if(!Array.isArray(s))return!1;const i=s.length;if(i!==n.length)return!1;for(let a=0;a<i;a++)if(s[a]!==n[a])return!1;return!0}const numVariantProps$1=variantProps$1.length;function getVariantContext$1(n){if(!n)return;if(!n.isControllingVariants){const i=n.parent?getVariantContext$1(n.parent)||{}:{};return n.props.initial!==void 0&&(i.initial=n.props.initial),i}const s={};for(let i=0;i<numVariantProps$1;i++){const a=variantProps$1[i],o=n.props[a];(isVariantLabel$1(o)||o===!1)&&(s[a]=o)}return s}const reversePriorityOrder$1=[...variantPriorityOrder$1].reverse(),numAnimationTypes$1=variantPriorityOrder$1.length;function animateList$1(n){return s=>Promise.all(s.map(({animation:i,options:a})=>animateVisualElement$1(n,i,a)))}function createAnimationState$1(n){let s=animateList$1(n),i=createState$1(),a=!0;const o=u=>(h,d)=>{var g;const m=resolveVariant$1(n,d,u==="exit"?(g=n.presenceContext)===null||g===void 0?void 0:g.custom:void 0);if(m){const{transition:b,transitionEnd:E,...P}=m;h={...h,...P,...E}}return h};function c(u){s=u(n)}function l(u){const{props:h}=n,d=getVariantContext$1(n.parent)||{},g=[],m=new Set;let b={},E=1/0;for(let v=0;v<numAnimationTypes$1;v++){const x=reversePriorityOrder$1[v],T=i[x],y=h[x]!==void 0?h[x]:d[x],C=isVariantLabel$1(y),p=x===u?T.isActive:null;p===!1&&(E=v);let A=y===d[x]&&y!==h[x]&&C;if(A&&a&&n.manuallyAnimateOnMount&&(A=!1),T.protectedKeys={...b},!T.isActive&&p===null||!y&&!T.prevProp||isAnimationControls$1(y)||typeof y=="boolean")continue;const R=checkVariantsDidChange$1(T.prevProp,y);let S=R||x===u&&T.isActive&&!A&&C||v>E&&C,L=!1;const V=Array.isArray(y)?y:[y];let X=V.reduce(o(x),{});p===!1&&(X={});const{prevResolvedValues:it={}}=T,gt={...it,...X},K=G=>{S=!0,m.has(G)&&(L=!0,m.delete(G)),T.needsAnimating[G]=!0;const W=n.getValue(G);W&&(W.liveStyle=!1)};for(const G in gt){const W=X[G],at=it[G];if(b.hasOwnProperty(G))continue;let ct=!1;isKeyframesTarget$1(W)&&isKeyframesTarget$1(at)?ct=!shallowCompare$1(W,at):ct=W!==at,ct?W!=null?K(G):m.add(G):W!==void 0&&m.has(G)?K(G):T.protectedKeys[G]=!0}T.prevProp=y,T.prevResolvedValues=X,T.isActive&&(b={...b,...X}),a&&n.blockInitialAnimation&&(S=!1),S&&(!(A&&R)||L)&&g.push(...V.map(G=>({animation:G,options:{type:x}})))}if(m.size){const v={};if(typeof h.initial!="boolean"){const x=resolveVariant$1(n,Array.isArray(h.initial)?h.initial[0]:h.initial);x&&x.transition&&(v.transition=x.transition)}m.forEach(x=>{const T=n.getBaseTarget(x),y=n.getValue(x);y&&(y.liveStyle=!0),v[x]=T??null}),g.push({animation:v})}let P=!!g.length;return a&&(h.initial===!1||h.initial===h.animate)&&!n.manuallyAnimateOnMount&&(P=!1),a=!1,P?s(g):Promise.resolve()}function f(u,h){var d;if(i[u].isActive===h)return Promise.resolve();(d=n.variantChildren)===null||d===void 0||d.forEach(m=>{var b;return(b=m.animationState)===null||b===void 0?void 0:b.setActive(u,h)}),i[u].isActive=h;const g=l(u);for(const m in i)i[m].protectedKeys={};return g}return{animateChanges:l,setActive:f,setAnimateFunction:c,getState:()=>i,reset:()=>{i=createState$1(),a=!0}}}function checkVariantsDidChange$1(n,s){return typeof s=="string"?s!==n:Array.isArray(s)?!shallowCompare$1(s,n):!1}function createTypeState$1(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState$1(){return{animate:createTypeState$1(!0),whileInView:createTypeState$1(),whileHover:createTypeState$1(),whileTap:createTypeState$1(),whileDrag:createTypeState$1(),whileFocus:createTypeState$1(),exit:createTypeState$1()}}let Feature$1=class{constructor(s){this.isMounted=!1,this.node=s}update(){}},AnimationFeature$1=class extends Feature$1{constructor(s){super(s),s.animationState||(s.animationState=createAnimationState$1(s))}updateAnimationControlsSubscription(){const{animate:s}=this.node.getProps();isAnimationControls$1(s)&&(this.unmountControls=s.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:s}=this.node.getProps(),{animate:i}=this.node.prevProps||{};s!==i&&this.updateAnimationControlsSubscription()}unmount(){var s;this.node.animationState.reset(),(s=this.unmountControls)===null||s===void 0||s.call(this)}},id$3=0,ExitAnimationFeature$1=class extends Feature$1{constructor(){super(...arguments),this.id=id$3++}update(){if(!this.node.presenceContext)return;const{isPresent:s,onExitComplete:i}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||s===a)return;const o=this.node.animationState.setActive("exit",!s);i&&!s&&o.then(()=>{i(this.id)})}mount(){const{register:s,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),s&&(this.unmount=s(this.id))}unmount(){}};const animations$1={animation:{Feature:AnimationFeature$1},exit:{Feature:ExitAnimationFeature$1}};function setDragLock$1(n){return n==="x"||n==="y"?isDragging$1[n]?null:(isDragging$1[n]=!0,()=>{isDragging$1[n]=!1}):isDragging$1.x||isDragging$1.y?null:(isDragging$1.x=isDragging$1.y=!0,()=>{isDragging$1.x=isDragging$1.y=!1})}function addDomEvent$1(n,s,i,a={passive:!0}){return n.addEventListener(s,i,a),()=>n.removeEventListener(s,i)}function extractEventInfo$1(n){return{point:{x:n.pageX,y:n.pageY}}}const addPointerInfo$1=n=>s=>isPrimaryPointer$1(s)&&n(s,extractEventInfo$1(s));function addPointerEvent$1(n,s,i,a){return addDomEvent$1(n,s,addPointerInfo$1(i),a)}const SCALE_PRECISION$1=1e-4,SCALE_MIN$1=1-SCALE_PRECISION$1,SCALE_MAX$1=1+SCALE_PRECISION$1,TRANSLATE_PRECISION$1=.01,TRANSLATE_MIN$1=0-TRANSLATE_PRECISION$1,TRANSLATE_MAX$1=0+TRANSLATE_PRECISION$1;function calcLength$1(n){return n.max-n.min}function isNear$1(n,s,i){return Math.abs(n-s)<=i}function calcAxisDelta$1(n,s,i,a=.5){n.origin=a,n.originPoint=mixNumber$2(s.min,s.max,n.origin),n.scale=calcLength$1(i)/calcLength$1(s),n.translate=mixNumber$2(i.min,i.max,n.origin)-n.originPoint,(n.scale>=SCALE_MIN$1&&n.scale<=SCALE_MAX$1||isNaN(n.scale))&&(n.scale=1),(n.translate>=TRANSLATE_MIN$1&&n.translate<=TRANSLATE_MAX$1||isNaN(n.translate))&&(n.translate=0)}function calcBoxDelta$1(n,s,i,a){calcAxisDelta$1(n.x,s.x,i.x,a?a.originX:void 0),calcAxisDelta$1(n.y,s.y,i.y,a?a.originY:void 0)}function calcRelativeAxis$1(n,s,i){n.min=i.min+s.min,n.max=n.min+calcLength$1(s)}function calcRelativeBox$1(n,s,i){calcRelativeAxis$1(n.x,s.x,i.x),calcRelativeAxis$1(n.y,s.y,i.y)}function calcRelativeAxisPosition$1(n,s,i){n.min=s.min-i.min,n.max=n.min+calcLength$1(s)}function calcRelativePosition$1(n,s,i){calcRelativeAxisPosition$1(n.x,s.x,i.x),calcRelativeAxisPosition$1(n.y,s.y,i.y)}function eachAxis$1(n){return[n("x"),n("y")]}let PanSession$1=class{constructor(s,i,{transformPagePoint:a,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=getPanInfo$1(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,m=distance2D$1(d.offset,{x:0,y:0})>=3;if(!g&&!m)return;const{point:b}=d,{timestamp:E}=frameData$1;this.history.push({...b,timestamp:E});const{onStart:P,onMove:v}=this.handlers;g||(P&&P(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,d)},this.handlePointerMove=(d,g)=>{if(d.currentTarget instanceof Element&&d.currentTarget.hasPointerCapture&&d.pointerId!==void 0)try{if(!d.currentTarget.hasPointerCapture(d.pointerId))return}catch{}this.lastMoveEvent=d,this.lastMoveEventInfo=transformPoint$1(g,this.transformPagePoint),frame$1.update(this.updatePoint,!0)},this.handlePointerUp=(d,g)=>{capturePointer$1(d,"release"),this.end();const{onEnd:m,onSessionEnd:b,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=getPanInfo$1(d.type==="pointercancel"||d.type==="lostpointercapture"?this.lastMoveEventInfo:transformPoint$1(g,this.transformPagePoint),this.history);this.startEvent&&m&&m(d,P),b&&b(d,P)},!isPrimaryPointer$1(s))return;this.dragSnapToOrigin=o,this.handlers=i,this.transformPagePoint=a;const c=extractEventInfo$1(s),l=transformPoint$1(c,this.transformPagePoint),{point:f}=l,{timestamp:u}=frameData$1;this.history=[{...f,timestamp:u}];const{onSessionStart:h}=i;h&&h(s,getPanInfo$1(l,this.history)),capturePointer$1(s,"set"),this.removeListeners=pipe$1(addPointerEvent$1(s.currentTarget,"pointermove",this.handlePointerMove),addPointerEvent$1(s.currentTarget,"pointerup",this.handlePointerUp),addPointerEvent$1(s.currentTarget,"pointercancel",this.handlePointerUp),addPointerEvent$1(s.currentTarget,"lostpointercapture",this.handlePointerUp))}updateHandlers(s){this.handlers=s}end(){this.removeListeners&&this.removeListeners(),cancelFrame$1(this.updatePoint)}};function transformPoint$1(n,s){return s?{point:s(n.point)}:n}function subtractPoint$1(n,s){return{x:n.x-s.x,y:n.y-s.y}}function getPanInfo$1({point:n},s){return{point:n,delta:subtractPoint$1(n,lastDevicePoint$1(s)),offset:subtractPoint$1(n,startDevicePoint$1(s)),velocity:getVelocity$1(s,.1)}}function startDevicePoint$1(n){return n[0]}function lastDevicePoint$1(n){return n[n.length-1]}function getVelocity$1(n,s){if(n.length<2)return{x:0,y:0};let i=n.length-1,a=null;const o=lastDevicePoint$1(n);for(;i>=0&&(a=n[i],!(o.timestamp-a.timestamp>secondsToMilliseconds$1(s)));)i--;if(!a)return{x:0,y:0};const c=millisecondsToSeconds$1(o.timestamp-a.timestamp);if(c===0)return{x:0,y:0};const l={x:(o.x-a.x)/c,y:(o.y-a.y)/c};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function applyConstraints$1(n,{min:s,max:i},a){return s!==void 0&&n<s?n=a?mixNumber$2(s,n,a.min):Math.max(n,s):i!==void 0&&n>i&&(n=a?mixNumber$2(i,n,a.max):Math.min(n,i)),n}function calcRelativeAxisConstraints$1(n,s,i){return{min:s!==void 0?n.min+s:void 0,max:i!==void 0?n.max+i-(n.max-n.min):void 0}}function calcRelativeConstraints$1(n,{top:s,left:i,bottom:a,right:o}){return{x:calcRelativeAxisConstraints$1(n.x,i,o),y:calcRelativeAxisConstraints$1(n.y,s,a)}}function calcViewportAxisConstraints$1(n,s){let i=s.min-n.min,a=s.max-n.max;return s.max-s.min<n.max-n.min&&([i,a]=[a,i]),{min:i,max:a}}function calcViewportConstraints$1(n,s){return{x:calcViewportAxisConstraints$1(n.x,s.x),y:calcViewportAxisConstraints$1(n.y,s.y)}}function calcOrigin$2(n,s){let i=.5;const a=calcLength$1(n),o=calcLength$1(s);return o>a?i=progress$1(s.min,s.max-a,n.min):a>o&&(i=progress$1(n.min,n.max-o,s.min)),clamp$1(0,1,i)}function rebaseAxisConstraints$1(n,s){const i={};return s.min!==void 0&&(i.min=s.min-n.min),s.max!==void 0&&(i.max=s.max-n.min),i}const defaultElastic$1=.35;function resolveDragElastic$1(n=defaultElastic$1){return n===!1?n=0:n===!0&&(n=defaultElastic$1),{x:resolveAxisElastic$1(n,"left","right"),y:resolveAxisElastic$1(n,"top","bottom")}}function resolveAxisElastic$1(n,s,i){return{min:resolvePointElastic$1(n,s),max:resolvePointElastic$1(n,i)}}function resolvePointElastic$1(n,s){return typeof n=="number"?n:n[s]||0}const elementDragControls$1=new WeakMap;let VisualElementDragControls$1=class{constructor(s){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox$1(),this.visualElement=s}start(s,{snapToCursor:i=!1}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const o=d=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(extractEventInfo$1(d).point)},c=(d,g)=>{const{drag:m,dragPropagation:b,onDragStart:E}=this.getProps();if(m&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=setDragLock$1(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis$1(v=>{let x=this.getAxisMotionValue(v).get()||0;if(percent$1.test(x)){const{projection:T}=this.visualElement;if(T&&T.layout){const y=T.layout.layoutBox[v];y&&(x=calcLength$1(y)*(parseFloat(x)/100))}}this.originPoint[v]=x}),E&&frame$1.postRender(()=>E(d,g)),addValueToWillChange$1(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},l=(d,g)=>{const{dragPropagation:m,dragDirectionLock:b,onDirectionLock:E,onDrag:P}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:v}=g;if(b&&this.currentDirection===null){this.currentDirection=getCurrentDirection$1(v),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",g.point,v),this.updateAxis("y",g.point,v),this.visualElement.render(),P&&P(d,g)},f=(d,g)=>this.stop(d,g),u=()=>eachAxis$1(d=>{var g;return this.getAnimationState(d)==="paused"&&((g=this.getAxisMotionValue(d).animation)===null||g===void 0?void 0:g.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new PanSession$1(s,{onSessionStart:o,onStart:c,onMove:l,onSessionEnd:f,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h})}stop(s,i){const a=this.isDragging;if(this.cancel(),!a)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:c}=this.getProps();c&&frame$1.postRender(()=>c(s,i))}cancel(){this.isDragging=!1;const{projection:s,animationState:i}=this.visualElement;s&&(s.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(s,i,a){const{drag:o}=this.getProps();if(!a||!shouldDrag$1(s,o,this.currentDirection))return;const c=this.getAxisMotionValue(s);let l=this.originPoint[s]+a[s];this.constraints&&this.constraints[s]&&(l=applyConstraints$1(l,this.constraints[s],this.elastic[s])),c.set(l)}resolveConstraints(){var s;const{dragConstraints:i,dragElastic:a}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)===null||s===void 0?void 0:s.layout,c=this.constraints;i&&isRefObject$1(i)?this.constraints||(this.constraints=this.resolveRefConstraints()):i&&o?this.constraints=calcRelativeConstraints$1(o.layoutBox,i):this.constraints=!1,this.elastic=resolveDragElastic$1(a),c!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&eachAxis$1(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=rebaseAxisConstraints$1(o.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:s,onMeasureDragConstraints:i}=this.getProps();if(!s||!isRefObject$1(s))return!1;const a=s.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const c=measurePageBox$1(a,o.root,this.visualElement.getTransformPagePoint());let l=calcViewportConstraints$1(o.layout.layoutBox,c);if(i){const f=i(convertBoxToBoundingBox$1(l));this.hasMutatedConstraints=!!f,f&&(l=convertBoundingBoxToBox$1(f))}return l}startAnimation(s){const{drag:i,dragMomentum:a,dragElastic:o,dragTransition:c,dragSnapToOrigin:l,onDragTransitionEnd:f}=this.getProps(),u=this.constraints||{},h=eachAxis$1(d=>{if(!shouldDrag$1(d,i,this.currentDirection))return;let g=u&&u[d]||{};l&&(g={min:0,max:0});const m=o?200:1e6,b=o?40:1e7,E={type:"inertia",velocity:a?s[d]:0,bounceStiffness:m,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...c,...g};return this.startAxisValueAnimation(d,E)});return Promise.all(h).then(f)}startAxisValueAnimation(s,i){const a=this.getAxisMotionValue(s);return addValueToWillChange$1(this.visualElement,s),a.start(animateMotionValue$1(s,a,0,i,this.visualElement,!1))}stopAnimation(){eachAxis$1(s=>this.getAxisMotionValue(s).stop())}pauseAnimation(){eachAxis$1(s=>{var i;return(i=this.getAxisMotionValue(s).animation)===null||i===void 0?void 0:i.pause()})}getAnimationState(s){var i;return(i=this.getAxisMotionValue(s).animation)===null||i===void 0?void 0:i.state}getAxisMotionValue(s){const i=`_drag${s.toUpperCase()}`,a=this.visualElement.getProps(),o=a[i];return o||this.visualElement.getValue(s,(a.initial?a.initial[s]:void 0)||0)}snapToCursor(s){eachAxis$1(i=>{const{drag:a}=this.getProps();if(!shouldDrag$1(i,a,this.currentDirection))return;const{projection:o}=this.visualElement,c=this.getAxisMotionValue(i);if(o&&o.layout){const{min:l,max:f}=o.layout.layoutBox[i];c.set(s[i]-mixNumber$2(l,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:s,dragConstraints:i}=this.getProps(),{projection:a}=this.visualElement;if(!isRefObject$1(i)||!a||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};eachAxis$1(l=>{const f=this.getAxisMotionValue(l);if(f&&this.constraints!==!1){const u=f.get();o[l]=calcOrigin$2({min:u,max:u},this.constraints[l])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),eachAxis$1(l=>{if(!shouldDrag$1(l,s,null))return;const f=this.getAxisMotionValue(l),{min:u,max:h}=this.constraints[l];f.set(mixNumber$2(u,h,o[l]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls$1.set(this.visualElement,this);const s=this.visualElement.current,i=addPointerEvent$1(s,"pointerdown",u=>{const{drag:h,dragListener:d=!0}=this.getProps();h&&d&&this.start(u)}),a=()=>{const{dragConstraints:u}=this.getProps();isRefObject$1(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,c=o.addEventListener("measure",a);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),frame$1.read(a);const l=addDomEvent$1(window,"resize",()=>this.scalePositionWithinConstraints()),f=o.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h})=>{this.isDragging&&h&&(eachAxis$1(d=>{const g=this.getAxisMotionValue(d);g&&(this.originPoint[d]+=u[d].translate,g.set(g.get()+u[d].translate))}),this.visualElement.render())});return()=>{l(),i(),c(),f&&f()}}getProps(){const s=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:a=!1,dragPropagation:o=!1,dragConstraints:c=!1,dragElastic:l=defaultElastic$1,dragMomentum:f=!0}=s;return{...s,drag:i,dragDirectionLock:a,dragPropagation:o,dragConstraints:c,dragElastic:l,dragMomentum:f}}};function shouldDrag$1(n,s,i){return(s===!0||s===n)&&(i===null||i===n)}function getCurrentDirection$1(n,s=10){let i=null;return Math.abs(n.y)>s?i="y":Math.abs(n.x)>s&&(i="x"),i}let DragGesture$1=class extends Feature$1{constructor(s){super(s),this.removeGroupControls=noop$1,this.removeListeners=noop$1,this.controls=new VisualElementDragControls$1(s)}mount(){const{dragControls:s}=this.node.getProps();s&&(this.removeGroupControls=s.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop$1}unmount(){this.removeGroupControls(),this.removeListeners()}};const asyncHandler$1=n=>(s,i)=>{n&&frame$1.postRender(()=>n(s,i))};let PanGesture$1=class extends Feature$1{constructor(){super(...arguments),this.removePointerDownListener=noop$1}onPointerDown(s){this.session=new PanSession$1(s,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:s,onPanStart:i,onPan:a,onPanEnd:o}=this.node.getProps();return{onSessionStart:asyncHandler$1(s),onStart:asyncHandler$1(i),onMove:a,onEnd:(c,l)=>{delete this.session,o&&frame$1.postRender(()=>o(c,l))}}}mount(){this.removePointerDownListener=addPointerEvent$1(this.node.current,"pointerdown",s=>this.onPointerDown(s))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}};const globalProjectionState$1={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent$1(n,s){return s.max===s.min?0:n/(s.max-s.min)*100}const correctBorderRadius$1={correct:(n,s)=>{if(!s.target)return n;if(typeof n=="string")if(px$1.test(n))n=parseFloat(n);else return n;const i=pixelsToPercent$1(n,s.target.x),a=pixelsToPercent$1(n,s.target.y);return`${i}% ${a}%`}},correctBoxShadow$1={correct:(n,{treeScale:s,projectionDelta:i})=>{const a=n,o=complex$1.parse(n);if(o.length>5)return a;const c=complex$1.createTransformer(n),l=typeof o[0]!="number"?1:0,f=i.x.scale*s.x,u=i.y.scale*s.y;o[0+l]/=f,o[1+l]/=u;const h=mixNumber$2(f,u,.5);return typeof o[2+l]=="number"&&(o[2+l]/=h),typeof o[3+l]=="number"&&(o[3+l]/=h),c(o)}};let MeasureLayoutWithContext$1=class extends reactExports.Component{componentDidMount(){const{visualElement:s,layoutGroup:i,switchLayoutGroup:a,layoutId:o}=this.props,{projection:c}=s;addScaleCorrector$1(defaultScaleCorrectors$1),c&&(i.group&&i.group.add(c),a&&a.register&&o&&a.register(c),c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState$1.hasEverUpdated=!0}getSnapshotBeforeUpdate(s){const{layoutDependency:i,visualElement:a,drag:o,isPresent:c}=this.props,l=a.projection;return l&&(l.isPresent=c,o||s.layoutDependency!==i||i===void 0?l.willUpdate():this.safeToRemove(),s.isPresent!==c&&(c?l.promote():l.relegate()||frame$1.postRender(()=>{const f=l.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:s}=this.props.visualElement;s&&(s.root.didUpdate(),microtask$1.postRender(()=>{!s.currentAnimation&&s.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:s,layoutGroup:i,switchLayoutGroup:a}=this.props,{projection:o}=s;o&&(o.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(o),a&&a.deregister&&a.deregister(o))}safeToRemove(){const{safeToRemove:s}=this.props;s&&s()}render(){return null}};function MeasureLayout$1(n){const[s,i]=usePresence$1(),a=reactExports.useContext(LayoutGroupContext$1);return jsxRuntimeExports.jsx(MeasureLayoutWithContext$1,{...n,layoutGroup:a,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext$1),isPresent:s,safeToRemove:i})}const defaultScaleCorrectors$1={borderRadius:{...correctBorderRadius$1,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius$1,borderTopRightRadius:correctBorderRadius$1,borderBottomLeftRadius:correctBorderRadius$1,borderBottomRightRadius:correctBorderRadius$1,boxShadow:correctBoxShadow$1},compareByDepth$1=(n,s)=>n.depth-s.depth;let FlatTree$1=class{constructor(){this.children=[],this.isDirty=!1}add(s){addUniqueItem$1(this.children,s),this.isDirty=!0}remove(s){removeItem$1(this.children,s),this.isDirty=!0}forEach(s){this.isDirty&&this.children.sort(compareByDepth$1),this.isDirty=!1,this.children.forEach(s)}};const borders$1=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders$1=borders$1.length,asNumber$2=n=>typeof n=="string"?parseFloat(n):n,isPx$1=n=>typeof n=="number"||px$1.test(n);function mixValues$1(n,s,i,a,o,c){o?(n.opacity=mixNumber$2(0,i.opacity!==void 0?i.opacity:1,easeCrossfadeIn$1(a)),n.opacityExit=mixNumber$2(s.opacity!==void 0?s.opacity:1,0,easeCrossfadeOut$1(a))):c&&(n.opacity=mixNumber$2(s.opacity!==void 0?s.opacity:1,i.opacity!==void 0?i.opacity:1,a));for(let l=0;l<numBorders$1;l++){const f=`border${borders$1[l]}Radius`;let u=getRadius$1(s,f),h=getRadius$1(i,f);if(u===void 0&&h===void 0)continue;u||(u=0),h||(h=0),u===0||h===0||isPx$1(u)===isPx$1(h)?(n[f]=Math.max(mixNumber$2(asNumber$2(u),asNumber$2(h),a),0),(percent$1.test(h)||percent$1.test(u))&&(n[f]+="%")):n[f]=h}(s.rotate||i.rotate)&&(n.rotate=mixNumber$2(s.rotate||0,i.rotate||0,a))}function getRadius$1(n,s){return n[s]!==void 0?n[s]:n.borderRadius}const easeCrossfadeIn$1=compress$1(0,.5,circOut$1),easeCrossfadeOut$1=compress$1(.5,.95,noop$1);function compress$1(n,s,i){return a=>a<n?0:a>s?1:i(progress$1(n,s,a))}function copyAxisInto$1(n,s){n.min=s.min,n.max=s.max}function copyBoxInto$1(n,s){copyAxisInto$1(n.x,s.x),copyAxisInto$1(n.y,s.y)}function copyAxisDeltaInto$1(n,s){n.translate=s.translate,n.scale=s.scale,n.originPoint=s.originPoint,n.origin=s.origin}function removePointDelta$1(n,s,i,a,o){return n-=s,n=scalePoint$1(n,1/i,a),o!==void 0&&(n=scalePoint$1(n,1/o,a)),n}function removeAxisDelta$1(n,s=0,i=1,a=.5,o,c=n,l=n){if(percent$1.test(s)&&(s=parseFloat(s),s=mixNumber$2(l.min,l.max,s/100)-l.min),typeof s!="number")return;let f=mixNumber$2(c.min,c.max,a);n===c&&(f-=s),n.min=removePointDelta$1(n.min,s,i,f,o),n.max=removePointDelta$1(n.max,s,i,f,o)}function removeAxisTransforms$1(n,s,[i,a,o],c,l){removeAxisDelta$1(n,s[i],s[a],s[o],s.scale,c,l)}const xKeys$1=["x","scaleX","originX"],yKeys$1=["y","scaleY","originY"];function removeBoxTransforms$1(n,s,i,a){removeAxisTransforms$1(n.x,s,xKeys$1,i?i.x:void 0,a?a.x:void 0),removeAxisTransforms$1(n.y,s,yKeys$1,i?i.y:void 0,a?a.y:void 0)}function isAxisDeltaZero$1(n){return n.translate===0&&n.scale===1}function isDeltaZero$1(n){return isAxisDeltaZero$1(n.x)&&isAxisDeltaZero$1(n.y)}function axisEquals$1(n,s){return n.min===s.min&&n.max===s.max}function boxEquals$1(n,s){return axisEquals$1(n.x,s.x)&&axisEquals$1(n.y,s.y)}function axisEqualsRounded$1(n,s){return Math.round(n.min)===Math.round(s.min)&&Math.round(n.max)===Math.round(s.max)}function boxEqualsRounded$1(n,s){return axisEqualsRounded$1(n.x,s.x)&&axisEqualsRounded$1(n.y,s.y)}function aspectRatio$1(n){return calcLength$1(n.x)/calcLength$1(n.y)}function axisDeltaEquals$1(n,s){return n.translate===s.translate&&n.scale===s.scale&&n.originPoint===s.originPoint}let NodeStack$1=class{constructor(){this.members=[]}add(s){addUniqueItem$1(this.members,s),s.scheduleRender()}remove(s){if(removeItem$1(this.members,s),s===this.prevLead&&(this.prevLead=void 0),s===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(s){const i=this.members.findIndex(o=>s===o);if(i===0)return!1;let a;for(let o=i;o>=0;o--){const c=this.members[o];if(c.isPresent!==!1){a=c;break}}return a?(this.promote(a),!0):!1}promote(s,i){const a=this.lead;if(s!==a&&(this.prevLead=a,this.lead=s,s.show(),a)){a.instance&&a.scheduleRender(),s.scheduleRender(),s.resumeFrom=a,i&&(s.resumeFrom.preserveOpacity=!0),a.snapshot&&(s.snapshot=a.snapshot,s.snapshot.latestValues=a.animationValues||a.latestValues),s.root&&s.root.isUpdating&&(s.isLayoutDirty=!0);const{crossfade:o}=s.options;o===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(s=>{const{options:i,resumingFrom:a}=s;i.onExitComplete&&i.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(s=>{s.instance&&s.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}};function buildProjectionTransform$1(n,s,i){let a="";const o=n.x.translate/s.x,c=n.y.translate/s.y,l=(i==null?void 0:i.z)||0;if((o||c||l)&&(a=`translate3d(${o}px, ${c}px, ${l}px) `),(s.x!==1||s.y!==1)&&(a+=`scale(${1/s.x}, ${1/s.y}) `),i){const{transformPerspective:h,rotate:d,rotateX:g,rotateY:m,skewX:b,skewY:E}=i;h&&(a=`perspective(${h}px) ${a}`),d&&(a+=`rotate(${d}deg) `),g&&(a+=`rotateX(${g}deg) `),m&&(a+=`rotateY(${m}deg) `),b&&(a+=`skewX(${b}deg) `),E&&(a+=`skewY(${E}deg) `)}const f=n.x.scale*s.x,u=n.y.scale*s.y;return(f!==1||u!==1)&&(a+=`scale(${f}, ${u})`),a||"none"}const transformAxes$1=["","X","Y","Z"],hiddenVisibility$1={visibility:"hidden"},animationTarget$1=1e3;let id$2=0;function resetDistortingTransform$1(n,s,i,a){const{latestValues:o}=s;o[n]&&(i[n]=o[n],s.setStaticValue(n,0),a&&(a[n]=0))}function cancelTreeOptimisedTransformAnimations$1(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:s}=n.options;if(!s)return;const i=getOptimisedAppearId$1(s);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:o,layoutId:c}=n.options;window.MotionCancelOptimisedAnimation(i,"transform",frame$1,!(o||c))}const{parent:a}=n;a&&!a.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations$1(a)}function createProjectionNode$2({attachResizeListener:n,defaultParent:s,measureScroll:i,checkIsScrollRoot:a,resetTransform:o}){return class{constructor(l={},f=s==null?void 0:s()){this.id=id$2++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(propagateDirtyNodes$1),this.nodes.forEach(resolveTargetDelta$1),this.nodes.forEach(calcProjection$1),this.nodes.forEach(cleanDirtyNodes$1)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree$1)}addEventListener(l,f){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new SubscriptionManager$1),this.eventHandlers.get(l).add(f)}notifyListeners(l,...f){const u=this.eventHandlers.get(l);u&&u.notify(...f)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,f=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement$1(l),this.instance=l;const{layoutId:u,layout:h,visualElement:d}=this.options;if(d&&!d.current&&d.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),f&&(h||u)&&(this.isLayoutDirty=!0),n){let g;const m=()=>this.root.updateBlockedByResize=!1;n(l,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=delay$1(m,250),globalProjectionState$1.hasAnimatedSinceResize&&(globalProjectionState$1.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation$1))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&d&&(u||h)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:m,hasRelativeLayoutChanged:b,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const P=this.options.transition||d.getDefaultTransition()||defaultLayoutTransition$1,{onLayoutAnimationStart:v,onLayoutAnimationComplete:x}=d.getProps(),T=!this.targetLayout||!boxEqualsRounded$1(this.targetLayout,E),y=!m&&b;if(this.options.layoutRoot||this.resumeFrom||y||m&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,y);const C={...getValueTransition$1(P,"layout"),onPlay:v,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else m||finishAnimation$1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelFrame$1(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation$1),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations$1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const g=this.path[d];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:f,layout:u}=this.options;if(f===void 0&&!u)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements$1);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty$1),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle$1),this.nodes.forEach(updateLayout$1),this.nodes.forEach(notifyLayoutUpdate$1),this.clearAllSnapshots();const f=time$1.now();frameData$1.delta=clamp$1(0,1e3/60,f-frameData$1.timestamp),frameData$1.timestamp=f,frameData$1.isProcessing=!0,frameSteps$1.update.process(frameData$1),frameSteps$1.preRender.process(frameData$1),frameSteps$1.render.process(frameData$1),frameData$1.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask$1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot$1),this.sharedNodes.forEach(removeLeadSnapshots$1)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame$1.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame$1.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!calcLength$1(this.snapshot.measuredBox.x)&&!calcLength$1(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox$1(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(f=!1),f){const u=a(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:u,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!o)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!isDeltaZero$1(this.projectionDelta),u=this.getTransformTemplate(),h=u?u(this.latestValues,""):void 0,d=h!==this.prevTransformTemplateValue;l&&(f||hasTransform$1(this.latestValues)||d)&&(o(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const f=this.measurePageBox();let u=this.removeElementScroll(f);return l&&(u=this.removeTransform(u)),roundBox$1(u),{animationId:this.root.animationId,measuredBox:f,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:f}=this.options;if(!f)return createBox$1();const u=f.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(checkNodeWasScrollRoot$1))){const{scroll:d}=this.root;d&&(translateAxis$1(u.x,d.offset.x),translateAxis$1(u.y,d.offset.y))}return u}removeElementScroll(l){var f;const u=createBox$1();if(copyBoxInto$1(u,l),!((f=this.scroll)===null||f===void 0)&&f.wasRoot)return u;for(let h=0;h<this.path.length;h++){const d=this.path[h],{scroll:g,options:m}=d;d!==this.root&&g&&m.layoutScroll&&(g.wasRoot&&copyBoxInto$1(u,l),translateAxis$1(u.x,g.offset.x),translateAxis$1(u.y,g.offset.y))}return u}applyTransform(l,f=!1){const u=createBox$1();copyBoxInto$1(u,l);for(let h=0;h<this.path.length;h++){const d=this.path[h];!f&&d.options.layoutScroll&&d.scroll&&d!==d.root&&transformBox$1(u,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),hasTransform$1(d.latestValues)&&transformBox$1(u,d.latestValues)}return hasTransform$1(this.latestValues)&&transformBox$1(u,this.latestValues),u}removeTransform(l){const f=createBox$1();copyBoxInto$1(f,l);for(let u=0;u<this.path.length;u++){const h=this.path[u];if(!h.instance||!hasTransform$1(h.latestValues))continue;hasScale$1(h.latestValues)&&h.updateSnapshot();const d=createBox$1(),g=h.measurePageBox();copyBoxInto$1(d,g),removeBoxTransforms$1(f,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,d)}return hasTransform$1(this.latestValues)&&removeBoxTransforms$1(f,this.latestValues),f}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData$1.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var f;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||!((f=this.parent)===null||f===void 0)&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:m}=this.options;if(!(!this.layout||!(g||m))){if(this.resolvedRelativeTargetAt=frameData$1.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox$1(),this.relativeTargetOrigin=createBox$1(),calcRelativePosition$1(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),copyBoxInto$1(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=createBox$1(),this.targetWithTransforms=createBox$1()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox$1(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto$1(this.target,this.layout.layoutBox),applyBoxDelta$1(this.target,this.targetDelta)):copyBoxInto$1(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox$1(),this.relativeTargetOrigin=createBox$1(),calcRelativePosition$1(this.relativeTargetOrigin,this.target,b.target),copyBoxInto$1(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||hasScale$1(this.parent.latestValues)||has2DTranslate$1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const f=this.getLead(),u=!!this.resumingFrom||this!==f;let h=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===frameData$1.timestamp&&(h=!1),h)return;const{layout:d,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||g))return;copyBoxInto$1(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,b=this.treeScale.y;applyTreeDeltas$1(this.layoutCorrected,this.treeScale,this.path,u),f.layout&&!f.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(f.target=f.layout.layoutBox,f.targetWithTransforms=createBox$1());const{target:E}=f;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto$1(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto$1(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta$1(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==b||!axisDeltaEquals$1(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals$1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var f;if((f=this.options.visualElement)===null||f===void 0||f.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta$1(),this.projectionDelta=createDelta$1(),this.projectionDeltaWithTransform=createDelta$1()}setAnimationOrigin(l,f=!1){const u=this.snapshot,h=u?u.latestValues:{},d={...this.latestValues},g=createDelta$1();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const m=createBox$1(),b=u?u.source:void 0,E=this.layout?this.layout.source:void 0,P=b!==E,v=this.getStack(),x=!v||v.members.length<=1,T=!!(P&&!x&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade$1));this.animationProgress=0;let y;this.mixTargetDelta=C=>{const p=C/1e3;mixAxisDelta$1(g.x,l.x,p),mixAxisDelta$1(g.y,l.y,p),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition$1(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox$1(this.relativeTarget,this.relativeTargetOrigin,m,p),y&&boxEquals$1(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=createBox$1()),copyBoxInto$1(y,this.relativeTarget)),P&&(this.animationValues=d,mixValues$1(d,h,this.latestValues,p,T,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=p},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelFrame$1(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame$1.update(()=>{globalProjectionState$1.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue$1(0,animationTarget$1,{...l,onUpdate:f=>{this.mixTargetDelta(f),l.onUpdate&&l.onUpdate(f)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget$1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:f,target:u,layout:h,latestValues:d}=l;if(!(!f||!u||!h)){if(this!==l&&this.layout&&h&&shouldAnimatePositionOnly$1(this.options.animationType,this.layout.layoutBox,h.layoutBox)){u=this.target||createBox$1();const g=calcLength$1(this.layout.layoutBox.x);u.x.min=l.target.x.min,u.x.max=u.x.min+g;const m=calcLength$1(this.layout.layoutBox.y);u.y.min=l.target.y.min,u.y.max=u.y.min+m}copyBoxInto$1(f,u),transformBox$1(f,d),calcBoxDelta$1(this.projectionDeltaWithTransform,this.layoutCorrected,f,d)}}registerSharedNode(l,f){this.sharedNodes.has(l)||this.sharedNodes.set(l,new NodeStack$1),this.sharedNodes.get(l).add(f);const h=f.options.initialPromotionConfig;f.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(f):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:f}=this.options;return f?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:f}=this.options;return f?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:f,preserveFollowOpacity:u}={}){const h=this.getStack();h&&h.promote(this,u),l&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let f=!1;const{latestValues:u}=l;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(f=!0),!f)return;const h={};u.z&&resetDistortingTransform$1("z",l,h,this.animationValues);for(let d=0;d<transformAxes$1.length;d++)resetDistortingTransform$1(`rotate${transformAxes$1[d]}`,l,h,this.animationValues),resetDistortingTransform$1(`skew${transformAxes$1[d]}`,l,h,this.animationValues);l.render();for(const d in h)l.setStaticValue(d,h[d]),this.animationValues&&(this.animationValues[d]=h[d]);l.scheduleRender()}getProjectionStyles(l){var f,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility$1;const h={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=resolveMotionValue$1(l==null?void 0:l.pointerEvents)||"",h.transform=d?d(this.latestValues,""):"none",h;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const P={};return this.options.layoutId&&(P.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,P.pointerEvents=resolveMotionValue$1(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!hasTransform$1(this.latestValues)&&(P.transform=d?d({},""):"none",this.hasProjected=!1),P}const m=g.animationValues||g.latestValues;this.applyTransformsToTarget(),h.transform=buildProjectionTransform$1(this.projectionDeltaWithTransform,this.treeScale,m),d&&(h.transform=d(m,h.transform));const{x:b,y:E}=this.projectionDelta;h.transformOrigin=`${b.origin*100}% ${E.origin*100}% 0`,g.animationValues?h.opacity=g===this?(u=(f=m.opacity)!==null&&f!==void 0?f:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:h.opacity=g===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const P in scaleCorrectors$1){if(m[P]===void 0)continue;const{correct:v,applyTo:x,isCSSVariable:T}=scaleCorrectors$1[P],y=h.transform==="none"?m[P]:v(m[P],g);if(x){const C=x.length;for(let p=0;p<C;p++)h[x[p]]=y}else T?this.options.visualElement.renderState.vars[P]=y:h[P]=y}return this.options.layoutId&&(h.pointerEvents=g===this?resolveMotionValue$1(l==null?void 0:l.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var f;return(f=l.currentAnimation)===null||f===void 0?void 0:f.stop()}),this.root.nodes.forEach(clearMeasurements$1),this.root.sharedNodes.clear()}}}function updateLayout$1(n){n.updateLayout()}function notifyLayoutUpdate$1(n){var s;const i=((s=n.resumeFrom)===null||s===void 0?void 0:s.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&i&&n.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:o}=n.layout,{animationType:c}=n.options,l=i.source!==n.layout.source;c==="size"?eachAxis$1(g=>{const m=l?i.measuredBox[g]:i.layoutBox[g],b=calcLength$1(m);m.min=a[g].min,m.max=m.min+b}):shouldAnimatePositionOnly$1(c,i.layoutBox,a)&&eachAxis$1(g=>{const m=l?i.measuredBox[g]:i.layoutBox[g],b=calcLength$1(a[g]);m.max=m.min+b,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[g].max=n.relativeTarget[g].min+b)});const f=createDelta$1();calcBoxDelta$1(f,a,i.layoutBox);const u=createDelta$1();l?calcBoxDelta$1(u,n.applyTransform(o,!0),i.measuredBox):calcBoxDelta$1(u,a,i.layoutBox);const h=!isDeltaZero$1(f);let d=!1;if(!n.resumeFrom){const g=n.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:m,layout:b}=g;if(m&&b){const E=createBox$1();calcRelativePosition$1(E,i.layoutBox,m.layoutBox);const P=createBox$1();calcRelativePosition$1(P,a,b.layoutBox),boxEqualsRounded$1(E,P)||(d=!0),g.options.layoutRoot&&(n.relativeTarget=P,n.relativeTargetOrigin=E,n.relativeParent=g)}}}n.notifyListeners("didUpdate",{layout:a,snapshot:i,delta:u,layoutDelta:f,hasLayoutChanged:h,hasRelativeLayoutChanged:d})}else if(n.isLead()){const{onExitComplete:a}=n.options;a&&a()}n.options.transition=void 0}function propagateDirtyNodes$1(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function cleanDirtyNodes$1(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function clearSnapshot$1(n){n.clearSnapshot()}function clearMeasurements$1(n){n.clearMeasurements()}function clearIsLayoutDirty$1(n){n.isLayoutDirty=!1}function resetTransformStyle$1(n){const{visualElement:s}=n.options;s&&s.getProps().onBeforeLayoutMeasure&&s.notify("BeforeLayoutMeasure"),n.resetTransform()}function finishAnimation$1(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function resolveTargetDelta$1(n){n.resolveTargetDelta()}function calcProjection$1(n){n.calcProjection()}function resetSkewAndRotation$1(n){n.resetSkewAndRotation()}function removeLeadSnapshots$1(n){n.removeLeadSnapshot()}function mixAxisDelta$1(n,s,i){n.translate=mixNumber$2(s.translate,0,i),n.scale=mixNumber$2(s.scale,1,i),n.origin=s.origin,n.originPoint=s.originPoint}function mixAxis$1(n,s,i,a){n.min=mixNumber$2(s.min,i.min,a),n.max=mixNumber$2(s.max,i.max,a)}function mixBox$1(n,s,i,a){mixAxis$1(n.x,s.x,i.x,a),mixAxis$1(n.y,s.y,i.y,a)}function hasOpacityCrossfade$1(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const defaultLayoutTransition$1={duration:.45,ease:[.4,0,.1,1]},userAgentContains$1=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),roundPoint$1=userAgentContains$1("applewebkit/")&&!userAgentContains$1("chrome/")?Math.round:noop$1;function roundAxis$1(n){n.min=roundPoint$1(n.min),n.max=roundPoint$1(n.max)}function roundBox$1(n){roundAxis$1(n.x),roundAxis$1(n.y)}function shouldAnimatePositionOnly$1(n,s,i){return n==="position"||n==="preserve-aspect"&&!isNear$1(aspectRatio$1(s),aspectRatio$1(i),.2)}function checkNodeWasScrollRoot$1(n){var s;return n!==n.root&&((s=n.scroll)===null||s===void 0?void 0:s.wasRoot)}const DocumentProjectionNode$1=createProjectionNode$2({attachResizeListener:(n,s)=>addDomEvent$1(n,"resize",s),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode$1={current:void 0},HTMLProjectionNode$1=createProjectionNode$2({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!rootProjectionNode$1.current){const n=new DocumentProjectionNode$1({});n.mount(window),n.setOptions({layoutScroll:!0}),rootProjectionNode$1.current=n}return rootProjectionNode$1.current},resetTransform:(n,s)=>{n.style.transform=s!==void 0?s:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),drag$1={pan:{Feature:PanGesture$1},drag:{Feature:DragGesture$1,ProjectionNode:HTMLProjectionNode$1,MeasureLayout:MeasureLayout$1}};function handleHoverEvent$1(n,s,i){const{props:a}=n;n.animationState&&a.whileHover&&n.animationState.setActive("whileHover",i==="Start");const o="onHover"+i,c=a[o];c&&frame$1.postRender(()=>c(s,extractEventInfo$1(s)))}let HoverGesture$1=class extends Feature$1{mount(){const{current:s}=this.node;s&&(this.unmount=hover$1(s,(i,a)=>(handleHoverEvent$1(this.node,a,"Start"),o=>handleHoverEvent$1(this.node,o,"End"))))}unmount(){}},FocusGesture$1=class extends Feature$1{constructor(){super(...arguments),this.isActive=!1}onFocus(){let s=!1;try{s=this.node.current.matches(":focus-visible")}catch{s=!0}!s||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe$1(addDomEvent$1(this.node.current,"focus",()=>this.onFocus()),addDomEvent$1(this.node.current,"blur",()=>this.onBlur()))}unmount(){}};function handlePressEvent$1(n,s,i){const{props:a}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&a.whileTap&&n.animationState.setActive("whileTap",i==="Start");const o="onTap"+(i==="End"?"":i),c=a[o];c&&frame$1.postRender(()=>c(s,extractEventInfo$1(s)))}let PressGesture$1=class extends Feature$1{mount(){const{current:s}=this.node;s&&(this.unmount=press$1(s,(i,a)=>(handlePressEvent$1(this.node,a,"Start"),(o,{success:c})=>handlePressEvent$1(this.node,o,c?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}};const observerCallbacks$1=new WeakMap,observers$1=new WeakMap,fireObserverCallback$1=n=>{const s=observerCallbacks$1.get(n.target);s&&s(n)},fireAllObserverCallbacks$1=n=>{n.forEach(fireObserverCallback$1)};function initIntersectionObserver$1({root:n,...s}){const i=n||document;observers$1.has(i)||observers$1.set(i,{});const a=observers$1.get(i),o=JSON.stringify(s);return a[o]||(a[o]=new IntersectionObserver(fireAllObserverCallbacks$1,{root:n,...s})),a[o]}function observeIntersection$1(n,s,i){const a=initIntersectionObserver$1(s);return observerCallbacks$1.set(n,i),a.observe(n),()=>{observerCallbacks$1.delete(n),a.unobserve(n)}}const thresholdNames$1={some:0,all:1};let InViewFeature$1=class extends Feature$1{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:s={}}=this.node.getProps(),{root:i,margin:a,amount:o="some",once:c}=s,l={root:i?i.current:void 0,rootMargin:a,threshold:typeof o=="number"?o:thresholdNames$1[o]},f=u=>{const{isIntersecting:h}=u;if(this.isInView===h||(this.isInView=h,c&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:d,onViewportLeave:g}=this.node.getProps(),m=h?d:g;m&&m(u)};return observeIntersection$1(this.node.current,l,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:s,prevProps:i}=this.node;["amount","margin","root"].some(hasViewportOptionChanged$1(s,i))&&this.startObserver()}unmount(){}};function hasViewportOptionChanged$1({viewport:n={}},{viewport:s={}}={}){return i=>n[i]!==s[i]}const gestureAnimations$1={inView:{Feature:InViewFeature$1},tap:{Feature:PressGesture$1},focus:{Feature:FocusGesture$1},hover:{Feature:HoverGesture$1}},layout$1={layout:{ProjectionNode:HTMLProjectionNode$1,MeasureLayout:MeasureLayout$1}},createDomVisualElement$1=(n,s)=>isSVGComponent$1(n)?new SVGVisualElement$1(s):new HTMLVisualElement$1(s,{allowProjection:n!==reactExports.Fragment}),createMotionComponent$1=createMotionComponentFactory$1({...animations$1,...gestureAnimations$1,...drag$1,...layout$1},createDomVisualElement$1),motion$1=createDOMMotionComponentProxy$1(createMotionComponent$1);function refWarning(n,s){warning$2(!!(!s||s.current))}const createScrollMotionValues=()=>({scrollX:motionValue$1(0),scrollY:motionValue$1(0),scrollXProgress:motionValue$1(0),scrollYProgress:motionValue$1(0)});function useScroll({container:n,target:s,layoutEffect:i=!0,...a}={}){const o=useConstant$1(createScrollMotionValues);return(i?useIsomorphicLayoutEffect$1:reactExports.useEffect)(()=>(refWarning("target",s),refWarning("container",n),scroll((l,{x:f,y:u})=>{o.scrollX.set(f.current),o.scrollXProgress.set(f.progress),o.scrollY.set(u.current),o.scrollYProgress.set(u.progress)},{...a,container:(n==null?void 0:n.current)||void 0,target:(s==null?void 0:s.current)||void 0})),[n,s,JSON.stringify(a.offset)]),o}function useMotionValue(n){const s=useConstant$1(()=>motionValue$1(n)),{isStatic:i}=reactExports.useContext(MotionConfigContext$1);if(i){const[,a]=reactExports.useState(n);reactExports.useEffect(()=>s.on("change",a),[])}return s}function useCombineMotionValues(n,s){const i=useMotionValue(s()),a=()=>i.set(s());return a(),useIsomorphicLayoutEffect$1(()=>{const o=()=>frame$1.preRender(a,!1,!0),c=n.map(l=>l.on("change",o));return()=>{c.forEach(l=>l()),cancelFrame$1(a)}}),i}function useSpring(n,s={}){const{isStatic:i}=reactExports.useContext(MotionConfigContext$1),a=reactExports.useRef(null),o=useConstant$1(()=>isMotionValue$1(n)?n.get():n),c=useConstant$1(()=>typeof o=="string"?o.replace(/[\d.-]/g,""):void 0),l=useMotionValue(o),f=reactExports.useRef(o),u=reactExports.useRef(noop$1),h=()=>{d(),a.current=animateValue({keyframes:[asNumber$1(l.get()),asNumber$1(f.current)],velocity:l.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...s,onUpdate:u.current})},d=()=>{a.current&&a.current.stop()};return reactExports.useInsertionEffect(()=>l.attach((g,m)=>i?m(g):(f.current=g,u.current=b=>m(parseValue(b,c)),frame$1.postRender(h),l.get()),d),[JSON.stringify(s)]),useIsomorphicLayoutEffect$1(()=>{if(isMotionValue$1(n))return n.on("change",g=>l.set(parseValue(g,c)))},[l,c]),l}function parseValue(n,s){return s?n+s:n}function asNumber$1(n){return typeof n=="number"?n:parseFloat(n)}function useComputed(n){collectMotionValues$1.current=[],n();const s=useCombineMotionValues(collectMotionValues$1.current,n);return collectMotionValues$1.current=void 0,s}function useTransform(n,s,i,a){if(typeof n=="function")return useComputed(n);const o=typeof s=="function"?s:transform(s,i,a);return Array.isArray(n)?useListTransform(n,o):useListTransform([n],([c])=>o(c))}function useListTransform(n,s){const i=useConstant$1(()=>[]);return useCombineMotionValues(n,()=>{i.length=0;const a=n.length;for(let o=0;o<a;o++)i[o]=n[o].get();return s(i)})}const FloatingDock=({items:n,desktopClassName:s,mobileClassName:i})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(FloatingDockDesktop,{items:n,className:s}),jsxRuntimeExports.jsx(FloatingDockMobile,{items:n,className:i})]}),FloatingDockMobile=({items:n,className:s})=>{const[i,a]=reactExports.useState(!1),o=n.slice(5);return jsxRuntimeExports.jsxs("div",{className:cn("fixed bottom-4 left-1/2 -translate-x-1/2 z-50 block md:hidden",s),children:[jsxRuntimeExports.jsxs(motion$1.div,{className:"flex items-center justify-center gap-2 px-4 py-2 rounded-full bg-gray-50/30 backdrop-blur-sm dark:bg-neutral-900/30",initial:{y:100,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:200,damping:20},children:[n.slice(0,5).map(c=>jsxRuntimeExports.jsx(MobileNavItem,{item:c},c.title)),jsxRuntimeExports.jsx(motion$1.button,{className:"flex h-10 w-10 items-center justify-center rounded-full bg-gray-200/50 backdrop-blur-sm dark:bg-neutral-800/50",whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>a(!i),children:jsxRuntimeExports.jsx(IconLayoutNavbarCollapse,{className:"h-5 w-5 text-neutral-500 dark:text-neutral-400"})})]}),jsxRuntimeExports.jsx(AnimatePresence$1,{children:i&&jsxRuntimeExports.jsx(motion$1.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{type:"spring",stiffness:200,damping:20},className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 p-2 rounded-xl bg-gray-50/30 backdrop-blur-sm dark:bg-neutral-900/30",children:jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-2",children:o.map(c=>jsxRuntimeExports.jsx(MobileNavItem,{item:c,expanded:!0},c.title))})})})]})},MobileNavItem=({item:n,expanded:s=!1})=>{const i=s?"flex items-center gap-2 px-3 py-2 rounded-lg bg-gray-200/50 backdrop-blur-sm dark:bg-neutral-800/50 hover:bg-gray-300/50 dark:hover:bg-neutral-700/50":"flex h-10 w-10 items-center justify-center rounded-full bg-gray-200/50 backdrop-blur-sm dark:bg-neutral-800/50",a=()=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"h-5 w-5",children:n.icon}),s&&jsxRuntimeExports.jsx("span",{className:"text-sm text-neutral-700 dark:text-neutral-300",children:n.title})]}),o={whileHover:{scale:s?1.05:1.1},whileTap:{scale:.95},className:i};switch(n.type){case"hash":return jsxRuntimeExports.jsx(motion$1.div,{...o,children:jsxRuntimeExports.jsx(HashLink,{smooth:!0,to:n.to,children:a()})});case"link":return jsxRuntimeExports.jsx(motion$1.div,{...o,children:jsxRuntimeExports.jsx(Link,{to:n.to,children:a()})});case"external":return jsxRuntimeExports.jsx(motion$1.a,{...o,href:n.to,target:"_blank",rel:"noopener noreferrer",children:a()});case"button":return jsxRuntimeExports.jsx(motion$1.button,{...o,onClick:n.onClick,children:a()});default:return null}},FloatingDockDesktop=({items:n,className:s})=>{let i=useMotionValue(1/0);return jsxRuntimeExports.jsx(motion$1.div,{onMouseMove:a=>i.set(a.pageX),onMouseLeave:()=>i.set(1/0),className:cn("mx-auto hidden h-16 items-end gap-4 rounded-2xl bg-gray-50/30 backdrop-blur-sm px-4 pb-3 md:flex dark:bg-neutral-900/30",s),children:n.map(a=>jsxRuntimeExports.jsx(IconContainer,{mouseX:i,...a},a.title))})};function IconContainer({mouseX:n,title:s,icon:i,to:a,type:o,onClick:c}){let l=reactExports.useRef(null),f=useTransform(n,y=>{var p;let C=((p=l.current)==null?void 0:p.getBoundingClientRect())??{x:0,width:0};return y-C.x-C.width/2}),u=useTransform(f,[-150,0,150],[40,80,40]),h=useTransform(f,[-150,0,150],[40,80,40]),d=useTransform(f,[-150,0,150],[20,40,20]),g=useTransform(f,[-150,0,150],[20,40,20]),m=useSpring(u,{mass:.1,stiffness:150,damping:12}),b=useSpring(h,{mass:.1,stiffness:150,damping:12}),E=useSpring(d,{mass:.1,stiffness:150,damping:12}),P=useSpring(g,{mass:.1,stiffness:150,damping:12});const[v,x]=reactExports.useState(!1),T=jsxRuntimeExports.jsxs(motion$1.div,{ref:l,style:{width:m,height:b},onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),className:"relative flex aspect-square items-center justify-center rounded-full bg-gray-200/50 backdrop-blur-sm dark:bg-neutral-800/50",children:[jsxRuntimeExports.jsx(AnimatePresence$1,{children:v&&jsxRuntimeExports.jsx(motion$1.div,{initial:{opacity:0,y:-10,x:"-50%"},animate:{opacity:1,y:0,x:"-50%"},exit:{opacity:0,y:-2,x:"-50%"},className:"absolute top-full mt-2 left-1/2 w-fit rounded-md border border-gray-200/50 bg-gray-100/50 backdrop-blur-sm px-2 py-0.5 text-xs whitespace-pre text-neutral-700 dark:border-neutral-900/50 dark:bg-neutral-800/50 dark:text-white",children:s})}),jsxRuntimeExports.jsx(motion$1.div,{style:{width:E,height:P},className:"flex items-center justify-center",children:i})]});switch(o){case"hash":return jsxRuntimeExports.jsx(HashLink,{smooth:!0,to:a,children:T});case"link":return jsxRuntimeExports.jsx(Link,{to:a,children:T});case"external":return jsxRuntimeExports.jsx("a",{href:a,target:"_blank",rel:"noopener noreferrer",children:T});case"button":return jsxRuntimeExports.jsx("button",{onClick:c,children:T});default:return T}}const LayoutGroupContext=reactExports.createContext({});function useConstant(n){const s=reactExports.useRef(null);return s.current===null&&(s.current=n()),s.current}const PresenceContext=reactExports.createContext(null),MotionConfigContext=reactExports.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(s){const i=this.props.childRef.current;if(i&&s.isPresent&&!this.props.isPresent){const a=i.offsetParent,o=a instanceof HTMLElement&&a.offsetWidth||0,c=this.props.sizeRef.current;c.height=i.offsetHeight||0,c.width=i.offsetWidth||0,c.top=i.offsetTop,c.left=i.offsetLeft,c.right=o-c.width-c.left}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:n,isPresent:s,anchorX:i}){const a=reactExports.useId(),o=reactExports.useRef(null),c=reactExports.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=reactExports.useContext(MotionConfigContext);return reactExports.useInsertionEffect(()=>{const{width:f,height:u,top:h,left:d,right:g}=c.current;if(s||!o.current||!f||!u)return;const m=i==="left"?`left: ${d}`:`right: ${g}`;o.current.dataset.motionPopId=a;const b=document.createElement("style");return l&&(b.nonce=l),document.head.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${u}px !important;
            ${m}px !important;
            top: ${h}px !important;
          }
        `),()=>{document.head.removeChild(b)}},[s]),jsxRuntimeExports.jsx(PopChildMeasure,{isPresent:s,childRef:o,sizeRef:c,children:reactExports.cloneElement(n,{ref:o})})}const PresenceChild=({children:n,initial:s,isPresent:i,onExitComplete:a,custom:o,presenceAffectsLayout:c,mode:l,anchorX:f})=>{const u=useConstant(newChildrenMap),h=reactExports.useId(),d=reactExports.useCallback(m=>{u.set(m,!0);for(const b of u.values())if(!b)return;a&&a()},[u,a]),g=reactExports.useMemo(()=>({id:h,initial:s,isPresent:i,custom:o,onExitComplete:d,register:m=>(u.set(m,!1),()=>u.delete(m))}),c?[Math.random(),d]:[i,d]);return reactExports.useMemo(()=>{u.forEach((m,b)=>u.set(b,!1))},[i]),reactExports.useEffect(()=>{!i&&!u.size&&a&&a()},[i]),l==="popLayout"&&(n=jsxRuntimeExports.jsx(PopChild,{isPresent:i,anchorX:f,children:n})),jsxRuntimeExports.jsx(PresenceContext.Provider,{value:g,children:n})};function newChildrenMap(){return new Map}function usePresence(n=!0){const s=reactExports.useContext(PresenceContext);if(s===null)return[!0,null];const{isPresent:i,onExitComplete:a,register:o}=s,c=reactExports.useId();reactExports.useEffect(()=>{n&&o(c)},[n]);const l=reactExports.useCallback(()=>n&&a&&a(c),[c,a,n]);return!i&&a?[!1,l]:[!0]}const getChildKey=n=>n.key||"";function onlyElements(n){const s=[];return reactExports.Children.forEach(n,i=>{reactExports.isValidElement(i)&&s.push(i)}),s}const isBrowser$1=typeof window<"u",useIsomorphicLayoutEffect=isBrowser$1?reactExports.useLayoutEffect:reactExports.useEffect,AnimatePresence=({children:n,custom:s,initial:i=!0,onExitComplete:a,presenceAffectsLayout:o=!0,mode:c="sync",propagate:l=!1,anchorX:f="left"})=>{const[u,h]=usePresence(l),d=reactExports.useMemo(()=>onlyElements(n),[n]),g=l&&!u?[]:d.map(getChildKey),m=reactExports.useRef(!0),b=reactExports.useRef(d),E=useConstant(()=>new Map),[P,v]=reactExports.useState(d),[x,T]=reactExports.useState(d);useIsomorphicLayoutEffect(()=>{m.current=!1,b.current=d;for(let p=0;p<x.length;p++){const A=getChildKey(x[p]);g.includes(A)?E.delete(A):E.get(A)!==!0&&E.set(A,!1)}},[x,g.length,g.join("-")]);const y=[];if(d!==P){let p=[...d];for(let A=0;A<x.length;A++){const R=x[A],S=getChildKey(R);g.includes(S)||(p.splice(A,0,R),y.push(R))}return c==="wait"&&y.length&&(p=y),T(onlyElements(p)),v(d),null}const{forceRender:C}=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:x.map(p=>{const A=getChildKey(p),R=l&&!u?!1:d===x||g.includes(A),S=()=>{if(E.has(A))E.set(A,!0);else return;let L=!0;E.forEach(V=>{V||(L=!1)}),L&&(C==null||C(),T(b.current),l&&(h==null||h()),a&&a())};return jsxRuntimeExports.jsx(PresenceChild,{isPresent:R,initial:!m.current||i?void 0:!1,custom:s,presenceAffectsLayout:o,mode:c,onExitComplete:R?void 0:S,anchorX:f,children:p},A)})})},noop=n=>n;let warning=noop,invariant=noop;function memo(n){let s;return()=>(s===void 0&&(s=n()),s)}const progress=(n,s,i)=>{const a=s-n;return a===0?1:(i-n)/a},secondsToMilliseconds=n=>n*1e3,millisecondsToSeconds=n=>n/1e3,MotionGlobalConfig={useManualTiming:!1},stepsOrder=["read","resolveKeyframes","update","preRender","render","postRender"];function createRenderStep(n,s){let i=new Set,a=new Set,o=!1,c=!1;const l=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function u(d){l.has(d)&&(h.schedule(d),n()),d(f)}const h={schedule:(d,g=!1,m=!1)=>{const E=m&&o?i:a;return g&&l.add(d),E.has(d)||E.add(d),d},cancel:d=>{a.delete(d),l.delete(d)},process:d=>{if(f=d,o){c=!0;return}o=!0,[i,a]=[a,i],i.forEach(u),i.clear(),o=!1,c&&(c=!1,h.process(d))}};return h}const maxElapsed=40;function createRenderBatcher(n,s){let i=!1,a=!0;const o={delta:0,timestamp:0,isProcessing:!1},c=()=>i=!0,l=stepsOrder.reduce((x,T)=>(x[T]=createRenderStep(c),x),{}),{read:f,resolveKeyframes:u,update:h,preRender:d,render:g,postRender:m}=l,b=()=>{const x=performance.now();i=!1,o.delta=a?1e3/60:Math.max(Math.min(x-o.timestamp,maxElapsed),1),o.timestamp=x,o.isProcessing=!0,f.process(o),u.process(o),h.process(o),d.process(o),g.process(o),m.process(o),o.isProcessing=!1,i&&s&&(a=!1,n(b))},E=()=>{i=!0,a=!0,o.isProcessing||n(b)};return{schedule:stepsOrder.reduce((x,T)=>{const y=l[T];return x[T]=(C,p=!1,A=!1)=>(i||E(),y.schedule(C,p,A)),x},{}),cancel:x=>{for(let T=0;T<stepsOrder.length;T++)l[stepsOrder[T]].cancel(x)},state:o,steps:l}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps:frameSteps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop,!0),LazyContext=reactExports.createContext({strict:!1}),featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const n in featureProps)featureDefinitions[n]={isEnabled:s=>featureProps[n].some(i=>!!s[i])};function loadFeatures(n){for(const s in n)featureDefinitions[s]={...featureDefinitions[s],...n[s]}}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||validMotionProps.has(n)}let shouldForward=n=>!isValidMotionProp(n);function loadExternalIsValidProp(n){n&&(shouldForward=s=>s.startsWith("on")?!isValidMotionProp(s):n(s))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(n,s,i){const a={};for(const o in n)o==="values"&&typeof n.values=="object"||(shouldForward(o)||i===!0&&isValidMotionProp(o)||!s&&!isValidMotionProp(o)||n.draggable&&o.startsWith("onDrag"))&&(a[o]=n[o]);return a}function createDOMMotionComponentProxy(n){if(typeof Proxy>"u")return n;const s=new Map,i=(...a)=>n(...a);return new Proxy(i,{get:(a,o)=>o==="create"?n:(s.has(o)||s.set(o,n(o)),s.get(o))})}const MotionContext=reactExports.createContext({});function isAnimationControls(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function isVariantLabel(n){return typeof n=="string"||Array.isArray(n)}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(n){return isAnimationControls(n.animate)||variantProps.some(s=>isVariantLabel(n[s]))}function isVariantNode(n){return!!(isControllingVariants(n)||n.variants)}function getCurrentTreeVariants(n,s){if(isControllingVariants(n)){const{initial:i,animate:a}=n;return{initial:i===!1||isVariantLabel(i)?i:void 0,animate:isVariantLabel(a)?a:void 0}}return n.inherit!==!1?s:{}}function useCreateMotionContext(n){const{initial:s,animate:i}=getCurrentTreeVariants(n,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:s,animate:i}),[variantLabelsAsDependency(s),variantLabelsAsDependency(i)])}function variantLabelsAsDependency(n){return Array.isArray(n)?n.join(" "):n}const motionComponentSymbol=Symbol.for("motionComponentSymbol");function isRefObject(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function useMotionRef(n,s,i){return reactExports.useCallback(a=>{a&&n.onMount&&n.onMount(a),s&&(a?s.mount(a):s.unmount()),i&&(typeof i=="function"?i(a):isRefObject(i)&&(i.current=a))},[s])}const camelToDash=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId),{schedule:microtask}=createRenderBatcher(queueMicrotask,!1),SwitchLayoutGroupContext=reactExports.createContext({});function useVisualElement(n,s,i,a,o){var c,l;const{visualElement:f}=reactExports.useContext(MotionContext),u=reactExports.useContext(LazyContext),h=reactExports.useContext(PresenceContext),d=reactExports.useContext(MotionConfigContext).reducedMotion,g=reactExports.useRef(null);a=a||u.renderer,!g.current&&a&&(g.current=a(n,{visualState:s,parent:f,props:i,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:d}));const m=g.current,b=reactExports.useContext(SwitchLayoutGroupContext);m&&!m.projection&&o&&(m.type==="html"||m.type==="svg")&&createProjectionNode$1(g.current,i,o,b);const E=reactExports.useRef(!1);reactExports.useInsertionEffect(()=>{m&&E.current&&m.update(i,h)});const P=i[optimizedAppearDataAttribute],v=reactExports.useRef(!!P&&!(!((c=window.MotionHandoffIsComplete)===null||c===void 0)&&c.call(window,P))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,P)));return useIsomorphicLayoutEffect(()=>{m&&(E.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),microtask.render(m.render),v.current&&m.animationState&&m.animationState.animateChanges())}),reactExports.useEffect(()=>{m&&(!v.current&&m.animationState&&m.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)===null||x===void 0||x.call(window,P)}),v.current=!1))}),m}function createProjectionNode$1(n,s,i,a){const{layoutId:o,layout:c,drag:l,dragConstraints:f,layoutScroll:u,layoutRoot:h}=s;n.projection=new i(n.latestValues,s["data-framer-portal-id"]?void 0:getClosestProjectingNode(n.parent)),n.projection.setOptions({layoutId:o,layout:c,alwaysMeasureLayout:!!l||f&&isRefObject(f),visualElement:n,animationType:typeof c=="string"?c:"both",initialPromotionConfig:a,layoutScroll:u,layoutRoot:h})}function getClosestProjectingNode(n){if(n)return n.options.allowProjection!==!1?n.projection:getClosestProjectingNode(n.parent)}function createRendererMotionComponent({preloadedFeatures:n,createVisualElement:s,useRender:i,useVisualState:a,Component:o}){var c,l;n&&loadFeatures(n);function f(h,d){let g;const m={...reactExports.useContext(MotionConfigContext),...h,layoutId:useLayoutId(h)},{isStatic:b}=m,E=useCreateMotionContext(h),P=a(h,b);if(!b&&isBrowser$1){useStrictMode();const v=getProjectionFunctionality(m);g=v.MeasureLayout,E.visualElement=useVisualElement(o,P,m,s,v.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:E,children:[g&&E.visualElement?jsxRuntimeExports.jsx(g,{visualElement:E.visualElement,...m}):null,i(o,h,useMotionRef(P,E.visualElement,d),P,b,E.visualElement)]})}f.displayName=`motion.${typeof o=="string"?o:`create(${(l=(c=o.displayName)!==null&&c!==void 0?c:o.name)!==null&&l!==void 0?l:""})`}`;const u=reactExports.forwardRef(f);return u[motionComponentSymbol]=o,u}function useLayoutId({layoutId:n}){const s=reactExports.useContext(LayoutGroupContext).id;return s&&n!==void 0?s+"-"+n:n}function useStrictMode(n,s){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(n){const{drag:s,layout:i}=featureDefinitions;if(!s&&!i)return{};const a={...s,...i};return{MeasureLayout:s!=null&&s.isEnabled(n)||i!=null&&i.isEnabled(n)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}const checkStringStartsWith=n=>s=>typeof s=="string"&&s.startsWith(n),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=n=>startsAsVariableToken(n)?singleCssVariableRegex.test(n.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,scaleCorrectors={};function addScaleCorrector(n){for(const s in n)scaleCorrectors[s]=n[s],isCSSVariableName(s)&&(scaleCorrectors[s].isCSSVariable=!0)}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder);function isForcedMotionValue(n,{layout:s,layoutId:i}){return transformProps.has(n)||n.startsWith("origin")||(s||i!==void 0)&&(!!scaleCorrectors[n]||n==="opacity")}const isMotionValue=n=>!!(n&&n.getVelocity),getValueAsType=(n,s)=>s&&typeof n=="number"?s.transform(n):n,clamp=(n,s,i)=>i>s?s:i<n?n:i,number={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},alpha={...number,transform:n=>clamp(0,1,n)},scale={...number,default:1},createUnitType=n=>({test:s=>typeof s=="string"&&s.endsWith(n)&&s.split(" ").length===1,parse:parseFloat,transform:s=>`${s}${n}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:n=>percent.parse(n)/100,transform:n=>percent.transform(n*100)},browserNumberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,backgroundPositionX:px,backgroundPositionY:px},transformValueTypes={rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px},int={...number,transform:Math.round},numberValueTypes={...browserNumberValueTypes,...transformValueTypes,zIndex:int,size:px,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int},translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(n,s,i){let a="",o=!0;for(let c=0;c<numTransforms;c++){const l=transformPropOrder[c],f=n[l];if(f===void 0)continue;let u=!0;if(typeof f=="number"?u=f===(l.startsWith("scale")?1:0):u=parseFloat(f)===0,!u||i){const h=getValueAsType(f,numberValueTypes[l]);if(!u){o=!1;const d=translateAlias[l]||l;a+=`${d}(${h}) `}i&&(s[l]=h)}}return a=a.trim(),i?a=i(s,o?"":a):o&&(a="none"),a}function buildHTMLStyles(n,s,i){const{style:a,vars:o,transformOrigin:c}=n;let l=!1,f=!1;for(const u in s){const h=s[u];if(transformProps.has(u)){l=!0;continue}else if(isCSSVariableName(u)){o[u]=h;continue}else{const d=getValueAsType(h,numberValueTypes[u]);u.startsWith("origin")?(f=!0,c[u]=d):a[u]=d}}if(s.transform||(l||i?a.transform=buildTransform(s,n.transform,i):a.transform&&(a.transform="none")),f){const{originX:u="50%",originY:h="50%",originZ:d=0}=c;a.transformOrigin=`${u} ${h} ${d}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly(n,s,i){for(const a in s)!isMotionValue(s[a])&&!isForcedMotionValue(a,i)&&(n[a]=s[a])}function useInitialMotionValues({transformTemplate:n},s){return reactExports.useMemo(()=>{const i=createHtmlRenderState();return buildHTMLStyles(i,s,n),Object.assign({},i.vars,i.style)},[s])}function useStyle(n,s){const i=n.style||{},a={};return copyRawValuesOnly(a,i,n),Object.assign(a,useInitialMotionValues(n,s)),a}function useHTMLProps(n,s){const i={},a=useStyle(n,s);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=a,i}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(n){return typeof n!="string"||n.includes("-")?!1:!!(lowercaseSVGElements.indexOf(n)>-1||/[A-Z]/u.test(n))}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(n,s,i=1,a=0,o=!0){n.pathLength=1;const c=o?dashKeys:camelKeys;n[c.offset]=px.transform(-a);const l=px.transform(s),f=px.transform(i);n[c.array]=`${l} ${f}`}function calcOrigin$1(n,s,i){return typeof n=="string"?n:px.transform(s+i*n)}function calcSVGTransformOrigin(n,s,i){const a=calcOrigin$1(s,n.x,n.width),o=calcOrigin$1(i,n.y,n.height);return`${a} ${o}`}function buildSVGAttrs(n,{attrX:s,attrY:i,attrScale:a,originX:o,originY:c,pathLength:l,pathSpacing:f=1,pathOffset:u=0,...h},d,g){if(buildHTMLStyles(n,h,g),d){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:m,style:b,dimensions:E}=n;m.transform&&(E&&(b.transform=m.transform),delete m.transform),E&&(o!==void 0||c!==void 0||b.transform)&&(b.transformOrigin=calcSVGTransformOrigin(E,o!==void 0?o:.5,c!==void 0?c:.5)),s!==void 0&&(m.x=s),i!==void 0&&(m.y=i),a!==void 0&&(m.scale=a),l!==void 0&&buildSVGPath(m,l,f,u,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=n=>typeof n=="string"&&n.toLowerCase()==="svg";function useSVGProps(n,s,i,a){const o=reactExports.useMemo(()=>{const c=createSvgRenderState();return buildSVGAttrs(c,s,isSVGTag(a),n.transformTemplate),{...c.attrs,style:{...c.style}}},[s]);if(n.style){const c={};copyRawValuesOnly(c,n.style,n),o.style={...c,...o.style}}return o}function createUseRender(n=!1){return(i,a,o,{latestValues:c},l)=>{const u=(isSVGComponent(i)?useSVGProps:useHTMLProps)(a,c,l,i),h=filterProps(a,typeof i=="string",n),d=i!==reactExports.Fragment?{...h,...u,ref:o}:{},{children:g}=a,m=reactExports.useMemo(()=>isMotionValue(g)?g.get():g,[g]);return reactExports.createElement(i,{...d,children:m})}}function getValueState(n){const s=[{},{}];return n==null||n.values.forEach((i,a)=>{s[0][a]=i.get(),s[1][a]=i.getVelocity()}),s}function resolveVariantFromProps(n,s,i,a){if(typeof s=="function"){const[o,c]=getValueState(a);s=s(i!==void 0?i:n.custom,o,c)}if(typeof s=="string"&&(s=n.variants&&n.variants[s]),typeof s=="function"){const[o,c]=getValueState(a);s=s(i!==void 0?i:n.custom,o,c)}return s}const isKeyframesTarget=n=>Array.isArray(n),isCustomValue=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),resolveFinalValueInKeyframes=n=>isKeyframesTarget(n)?n[n.length-1]||0:n;function resolveMotionValue(n){const s=isMotionValue(n)?n.get():n;return isCustomValue(s)?s.toValue():s}function makeState({scrapeMotionValuesFromProps:n,createRenderState:s,onUpdate:i},a,o,c){const l={latestValues:makeLatestValues(a,o,c,n),renderState:s()};return i&&(l.onMount=f=>i({props:a,current:f,...l}),l.onUpdate=f=>i(f)),l}const makeUseVisualState=n=>(s,i)=>{const a=reactExports.useContext(MotionContext),o=reactExports.useContext(PresenceContext),c=()=>makeState(n,s,a,o);return i?c():useConstant(c)};function makeLatestValues(n,s,i,a){const o={},c=a(n,{});for(const m in c)o[m]=resolveMotionValue(c[m]);let{initial:l,animate:f}=n;const u=isControllingVariants(n),h=isVariantNode(n);s&&h&&!u&&n.inherit!==!1&&(l===void 0&&(l=s.initial),f===void 0&&(f=s.animate));let d=i?i.initial===!1:!1;d=d||l===!1;const g=d?f:l;if(g&&typeof g!="boolean"&&!isAnimationControls(g)){const m=Array.isArray(g)?g:[g];for(let b=0;b<m.length;b++){const E=resolveVariantFromProps(n,m[b]);if(E){const{transitionEnd:P,transition:v,...x}=E;for(const T in x){let y=x[T];if(Array.isArray(y)){const C=d?y.length-1:0;y=y[C]}y!==null&&(o[T]=y)}for(const T in P)o[T]=P[T]}}}return o}function scrapeMotionValuesFromProps$1(n,s,i){var a;const{style:o}=n,c={};for(const l in o)(isMotionValue(o[l])||s.style&&isMotionValue(s.style[l])||isForcedMotionValue(l,n)||((a=i==null?void 0:i.getValue(l))===null||a===void 0?void 0:a.liveStyle)!==void 0)&&(c[l]=o[l]);return c}const htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function updateSVGDimensions(n,s){try{s.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{s.dimensions={x:0,y:0,width:0,height:0}}}function renderHTML(n,{style:s,vars:i},a,o){Object.assign(n.style,s,o&&o.getProjectionStyles(a));for(const c in i)n.style.setProperty(c,i[c])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(n,s,i,a){renderHTML(n,s,void 0,a);for(const o in s.attrs)n.setAttribute(camelCaseAttributes.has(o)?o:camelToDash(o),s.attrs[o])}function scrapeMotionValuesFromProps(n,s,i){const a=scrapeMotionValuesFromProps$1(n,s,i);for(const o in n)if(isMotionValue(n[o])||isMotionValue(s[o])){const c=transformPropOrder.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;a[c]=n[o]}return a}const layoutProps=["x","y","width","height","cx","cy","r"],svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onUpdate:({props:n,prevProps:s,current:i,renderState:a,latestValues:o})=>{if(!i)return;let c=!!n.drag;if(!c){for(const f in o)if(transformProps.has(f)){c=!0;break}}if(!c)return;let l=!s;if(s)for(let f=0;f<layoutProps.length;f++){const u=layoutProps[f];n[u]!==s[u]&&(l=!0)}l&&frame.read(()=>{updateSVGDimensions(i,a),frame.render(()=>{buildSVGAttrs(a,o,isSVGTag(i.tagName),n.transformTemplate),renderSVG(i,a)})})}})};function createMotionComponentFactory(n,s){return function(a,{forwardMotionProps:o}={forwardMotionProps:!1}){const l={...isSVGComponent(a)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:n,useRender:createUseRender(o),createVisualElement:s,Component:a};return createRendererMotionComponent(l)}}function resolveVariant(n,s,i){const a=n.getProps();return resolveVariantFromProps(a,s,i!==void 0?i:a.custom,n)}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0);class BaseGroupPlaybackControls{constructor(s){this.stop=()=>this.runAll("stop"),this.animations=s.filter(Boolean)}get finished(){return Promise.all(this.animations.map(s=>"finished"in s?s.finished:s))}getAll(s){return this.animations[0][s]}setAll(s,i){for(let a=0;a<this.animations.length;a++)this.animations[a][s]=i}attachTimeline(s,i){const a=this.animations.map(o=>{if(supportsScrollTimeline()&&o.attachTimeline)return o.attachTimeline(s);if(typeof i=="function")return i(o)});return()=>{a.forEach((o,c)=>{o&&o(),this.animations[c].stop()})}}get time(){return this.getAll("time")}set time(s){this.setAll("time",s)}get speed(){return this.getAll("speed")}set speed(s){this.setAll("speed",s)}get startTime(){return this.getAll("startTime")}get duration(){let s=0;for(let i=0;i<this.animations.length;i++)s=Math.max(s,this.animations[i].duration);return s}runAll(s){this.animations.forEach(i=>i[s]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class GroupPlaybackControls extends BaseGroupPlaybackControls{then(s,i){return Promise.all(this.animations).then(s).catch(i)}}function getValueTransition(n,s){return n?n[s]||n.default||n:void 0}const maxGeneratorDuration=2e4;function calcGeneratorDuration(n){let s=0;const i=50;let a=n.next(s);for(;!a.done&&s<maxGeneratorDuration;)s+=i,a=n.next(s);return s>=maxGeneratorDuration?1/0:s}function isGenerator(n){return typeof n=="function"}function attachTimeline(n,s){n.timeline=s,n.onfinish=null}const isBezierDefinition=n=>Array.isArray(n)&&typeof n[0]=="number",supportsFlags={linearEasing:void 0};function memoSupports(n,s){const i=memo(n);return()=>{var a;return(a=supportsFlags[s])!==null&&a!==void 0?a:i()}}const supportsLinearEasing=memoSupports(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),generateLinearEasing=(n,s,i=10)=>{let a="";const o=Math.max(Math.round(s/i),2);for(let c=0;c<o;c++)a+=n(progress(0,o-1,c))+", ";return`linear(${a.substring(0,a.length-2)})`};function isWaapiSupportedEasing(n){return!!(typeof n=="function"&&supportsLinearEasing()||!n||typeof n=="string"&&(n in supportedWaapiEasing||supportsLinearEasing())||isBezierDefinition(n)||Array.isArray(n)&&n.every(isWaapiSupportedEasing))}const cubicBezierAsString=([n,s,i,a])=>`cubic-bezier(${n}, ${s}, ${i}, ${a})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(n,s){if(n)return typeof n=="function"&&supportsLinearEasing()?generateLinearEasing(n,s):isBezierDefinition(n)?cubicBezierAsString(n):Array.isArray(n)?n.map(i=>mapEasingToNativeEasing(i,s)||supportedWaapiEasing.easeOut):supportedWaapiEasing[n]}const isDragging={x:!1,y:!1};function isDragActive(){return isDragging.x||isDragging.y}function resolveElements(n,s,i){var a;if(n instanceof EventTarget)return[n];if(typeof n=="string"){let o=document;const c=(a=void 0)!==null&&a!==void 0?a:o.querySelectorAll(n);return c?Array.from(c):[]}return Array.from(n)}function setupGesture(n,s){const i=resolveElements(n),a=new AbortController,o={passive:!0,...s,signal:a.signal};return[i,o,()=>a.abort()]}function isValidHover(n){return!(n.pointerType==="touch"||isDragActive())}function hover(n,s,i={}){const[a,o,c]=setupGesture(n,i),l=f=>{if(!isValidHover(f))return;const{target:u}=f,h=s(u,f);if(typeof h!="function"||!u)return;const d=g=>{isValidHover(g)&&(h(g),u.removeEventListener("pointerleave",d))};u.addEventListener("pointerleave",d,o)};return a.forEach(f=>{f.addEventListener("pointerenter",l,o)}),c}function capturePointer(n,s){const i=`${s}PointerCapture`;if(n.target instanceof Element&&i in n.target&&n.pointerId!==void 0)try{n.target[i](n.pointerId)}catch{}}const isNodeOrChild=(n,s)=>s?n===s?!0:isNodeOrChild(n,s.parentElement):!1,isPrimaryPointer=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,focusableElements=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function isElementKeyboardAccessible(n){return focusableElements.has(n.tagName)||n.tabIndex!==-1}const isPressing=new WeakSet;function filterEvents(n){return s=>{s.key==="Enter"&&n(s)}}function firePointerEvent(n,s){n.dispatchEvent(new PointerEvent("pointer"+s,{isPrimary:!0,bubbles:!0}))}const enableKeyboardPress=(n,s)=>{const i=n.currentTarget;if(!i)return;const a=filterEvents(()=>{if(isPressing.has(i))return;firePointerEvent(i,"down");const o=filterEvents(()=>{firePointerEvent(i,"up")}),c=()=>firePointerEvent(i,"cancel");i.addEventListener("keyup",o,s),i.addEventListener("blur",c,s)});i.addEventListener("keydown",a,s),i.addEventListener("blur",()=>i.removeEventListener("keydown",a),s)};function isValidPressEvent(n){return isPrimaryPointer(n)&&!isDragActive()}function press(n,s,i={}){const[a,o,c]=setupGesture(n,i),l=f=>{const u=f.currentTarget;if(!u||!isValidPressEvent(f)||isPressing.has(u))return;isPressing.add(u),capturePointer(f,"set");const h=s(u,f),d=(b,E)=>{u.removeEventListener("pointerup",g),u.removeEventListener("pointercancel",m),capturePointer(b,"release"),!(!isValidPressEvent(b)||!isPressing.has(u))&&(isPressing.delete(u),typeof h=="function"&&h(b,{success:E}))},g=b=>{(b.isTrusted?checkOutside(b,u instanceof Element?u.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?d(b,!1):d(b,!(u instanceof Element)||isNodeOrChild(u,b.target))},m=b=>{d(b,!1)};u.addEventListener("pointerup",g,o),u.addEventListener("pointercancel",m,o),u.addEventListener("lostpointercapture",m,o)};return a.forEach(f=>{f=i.useGlobalTarget?window:f;let u=!1;f instanceof HTMLElement&&(u=!0,!isElementKeyboardAccessible(f)&&f.getAttribute("tabindex")===null&&(f.tabIndex=0)),f.addEventListener("pointerdown",l,o),u&&f.addEventListener("focus",h=>enableKeyboardPress(h,o),o)}),c}function checkOutside(n,s){return n.clientX<s.left||n.clientX>s.right||n.clientY<s.top||n.clientY>s.bottom}function setDragLock(n){return n==="x"||n==="y"?isDragging[n]?null:(isDragging[n]=!0,()=>{isDragging[n]=!1}):isDragging.x||isDragging.y?null:(isDragging.x=isDragging.y=!0,()=>{isDragging.x=isDragging.y=!1})}const positionalKeys=new Set(["width","height","top","left","right","bottom",...transformPropOrder]);let now;function clearTime(){now=void 0}const time={now:()=>(now===void 0&&time.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now),set:n=>{now=n,queueMicrotask(clearTime)}};function addUniqueItem(n,s){n.indexOf(s)===-1&&n.push(s)}function removeItem(n,s){const i=n.indexOf(s);i>-1&&n.splice(i,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add(s){return addUniqueItem(this.subscriptions,s),()=>removeItem(this.subscriptions,s)}notify(s,i,a){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](s,i,a);else for(let c=0;c<o;c++){const l=this.subscriptions[c];l&&l(s,i,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function velocityPerSecond(n,s){return s?n*(1e3/s):0}const MAX_VELOCITY_DELTA=30,isFloat=n=>!isNaN(parseFloat(n)),collectMotionValues={current:void 0};class MotionValue{constructor(s,i={}){this.version="12.4.5",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(a,o=!0)=>{const c=time.now();this.updatedAt!==c&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(s),this.owner=i.owner}setCurrent(s){this.current=s,this.updatedAt=time.now(),this.canTrackVelocity===null&&s!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue(s=this.current){this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt}onChange(s){return this.on("change",s)}on(s,i){this.events[s]||(this.events[s]=new SubscriptionManager);const a=this.events[s].add(i);return s==="change"?()=>{a(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const s in this.events)this.events[s].clear()}attach(s,i){this.passiveEffect=s,this.stopPassiveEffect=i}set(s,i=!0){!i||!this.passiveEffect?this.updateAndNotify(s,i):this.passiveEffect(s,this.updateAndNotify)}setWithVelocity(s,i,a){this.set(i),this.prev=void 0,this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt-a}jump(s,i=!0){this.updateAndNotify(s),this.prev=s,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return collectMotionValues.current&&collectMotionValues.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const s=time.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||s-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(s){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=s(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(n,s){return new MotionValue(n,s)}function setMotionValue(n,s,i){n.hasValue(s)?n.getValue(s).set(i):n.addValue(s,motionValue(i))}function setTarget(n,s){const i=resolveVariant(n,s);let{transitionEnd:a={},transition:o={},...c}=i||{};c={...c,...a};for(const l in c){const f=resolveFinalValueInKeyframes(c[l]);setMotionValue(n,l,f)}}function isWillChangeMotionValue(n){return!!(isMotionValue(n)&&n.add)}function addValueToWillChange(n,s){const i=n.getValue("willChange");if(isWillChangeMotionValue(i))return i.add(s)}function getOptimisedAppearId(n){return n.props[optimizedAppearDataAttribute]}const calcBezier=(n,s,i)=>(((1-3*i+3*s)*n+(3*i-6*s))*n+3*s)*n,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(n,s,i,a,o){let c,l,f=0;do l=s+(i-s)/2,c=calcBezier(l,a,o)-n,c>0?i=l:s=l;while(Math.abs(c)>subdivisionPrecision&&++f<subdivisionMaxIterations);return l}function cubicBezier(n,s,i,a){if(n===s&&i===a)return noop;const o=c=>binarySubdivide(c,0,1,n,i);return c=>c===0||c===1?c:calcBezier(o(c),s,a)}const mirrorEasing=n=>s=>s<=.5?n(2*s)/2:(2-n(2*(1-s)))/2,reverseEasing=n=>s=>1-n(1-s),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=n=>(n*=2)<1?.5*backIn(n):.5*(2-Math.pow(2,-10*(n-1))),circIn=n=>1-Math.sin(Math.acos(n)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),isZeroValueString=n=>/^0[^.\s]+$/u.test(n);function isNone(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||isZeroValueString(n):!0}const sanitize=n=>Math.round(n*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function isNullish(n){return n==null}const singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,isColorString=(n,s)=>i=>!!(typeof i=="string"&&singleColorRegex.test(i)&&i.startsWith(n)||s&&!isNullish(i)&&Object.prototype.hasOwnProperty.call(i,s)),splitColor=(n,s,i)=>a=>{if(typeof a!="string")return a;const[o,c,l,f]=a.match(floatRegex);return{[n]:parseFloat(o),[s]:parseFloat(c),[i]:parseFloat(l),alpha:f!==void 0?parseFloat(f):1}},clampRgbUnit=n=>clamp(0,255,n),rgbUnit={...number,transform:n=>Math.round(clampRgbUnit(n))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:n,green:s,blue:i,alpha:a=1})=>"rgba("+rgbUnit.transform(n)+", "+rgbUnit.transform(s)+", "+rgbUnit.transform(i)+", "+sanitize(alpha.transform(a))+")"};function parseHex(n){let s="",i="",a="",o="";return n.length>5?(s=n.substring(1,3),i=n.substring(3,5),a=n.substring(5,7),o=n.substring(7,9)):(s=n.substring(1,2),i=n.substring(2,3),a=n.substring(3,4),o=n.substring(4,5),s+=s,i+=i,a+=a,o+=o),{red:parseInt(s,16),green:parseInt(i,16),blue:parseInt(a,16),alpha:o?parseInt(o,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:n,saturation:s,lightness:i,alpha:a=1})=>"hsla("+Math.round(n)+", "+percent.transform(sanitize(s))+", "+percent.transform(sanitize(i))+", "+sanitize(alpha.transform(a))+")"},color={test:n=>rgba.test(n)||hex.test(n)||hsla.test(n),parse:n=>rgba.test(n)?rgba.parse(n):hsla.test(n)?hsla.parse(n):hex.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?rgba.transform(n):hsla.transform(n)},colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function test(n){var s,i;return isNaN(n)&&typeof n=="string"&&(((s=n.match(floatRegex))===null||s===void 0?void 0:s.length)||0)+(((i=n.match(colorRegex))===null||i===void 0?void 0:i.length)||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(n){const s=n.toString(),i=[],a={color:[],number:[],var:[]},o=[];let c=0;const f=s.replace(complexRegex,u=>(color.test(u)?(a.color.push(c),o.push(COLOR_TOKEN),i.push(color.parse(u))):u.startsWith(VAR_FUNCTION_TOKEN)?(a.var.push(c),o.push(VAR_TOKEN),i.push(u)):(a.number.push(c),o.push(NUMBER_TOKEN),i.push(parseFloat(u))),++c,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:i,split:f,indexes:a,types:o}}function parseComplexValue(n){return analyseComplexValue(n).values}function createTransformer(n){const{split:s,types:i}=analyseComplexValue(n),a=s.length;return o=>{let c="";for(let l=0;l<a;l++)if(c+=s[l],o[l]!==void 0){const f=i[l];f===NUMBER_TOKEN?c+=sanitize(o[l]):f===COLOR_TOKEN?c+=color.transform(o[l]):c+=o[l]}return c}}const convertNumbersToZero=n=>typeof n=="number"?0:n;function getAnimatableNone$1(n){const s=parseComplexValue(n);return createTransformer(n)(s.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1},maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(n){const[s,i]=n.slice(0,-1).split("(");if(s==="drop-shadow")return n;const[a]=i.match(floatRegex)||[];if(!a)return n;const o=i.replace(a,"");let c=maxDefaults.has(s)?1:0;return a!==i&&(c*=100),s+"("+c+o+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter={...complex,getAnimatableNone:n=>{const s=n.match(functionRegex);return s?s.map(applyDefaultFilter).join(" "):n}},defaultValueTypes={...numberValueTypes,color,backgroundColor:color,outlineColor:color,fill:color,stroke:color,borderColor:color,borderTopColor:color,borderRightColor:color,borderBottomColor:color,borderLeftColor:color,filter,WebkitFilter:filter},getDefaultValueType=n=>defaultValueTypes[n];function getAnimatableNone(n,s){let i=getDefaultValueType(n);return i!==filter&&(i=complex),i.getAnimatableNone?i.getAnimatableNone(s):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(n,s,i){let a=0,o;for(;a<n.length&&!o;){const c=n[a];typeof c=="string"&&!invalidTemplates.has(c)&&analyseComplexValue(c).values.length&&(o=n[a]),a++}if(o&&i)for(const c of s)n[c]=getAnimatableNone(i,o)}const isNumOrPxType=n=>n===number||n===px,getPosFromMatrix=(n,s)=>parseFloat(n.split(", ")[s]),getTranslateFromMatrix=(n,s)=>(i,{transform:a})=>{if(a==="none"||!a)return 0;const o=a.match(/^matrix3d\((.+)\)$/u);if(o)return getPosFromMatrix(o[1],s);{const c=a.match(/^matrix\((.+)\)$/u);return c?getPosFromMatrix(c[1],n):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(n=>!transformKeys.has(n));function removeNonTranslationalTransform(n){const s=[];return nonTranslationalTransformKeys.forEach(i=>{const a=n.getValue(i);a!==void 0&&(s.push([i,a.get()]),a.set(i.startsWith("scale")?1:0))}),s}const positionalValues={width:({x:n},{paddingLeft:s="0",paddingRight:i="0"})=>n.max-n.min-parseFloat(s)-parseFloat(i),height:({y:n},{paddingTop:s="0",paddingBottom:i="0"})=>n.max-n.min-parseFloat(s)-parseFloat(i),top:(n,{top:s})=>parseFloat(s),left:(n,{left:s})=>parseFloat(s),bottom:({y:n},{top:s})=>parseFloat(s)+(n.max-n.min),right:({x:n},{left:s})=>parseFloat(s)+(n.max-n.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const n=Array.from(toResolve).filter(a=>a.needsMeasurement),s=new Set(n.map(a=>a.element)),i=new Map;s.forEach(a=>{const o=removeNonTranslationalTransform(a);o.length&&(i.set(a,o),a.render())}),n.forEach(a=>a.measureInitialState()),s.forEach(a=>{a.render();const o=i.get(a);o&&o.forEach(([c,l])=>{var f;(f=a.getValue(c))===null||f===void 0||f.set(l)})}),n.forEach(a=>a.measureEndState()),n.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(n=>n.complete()),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){readAllKeyframes(),measureAllKeyframes()}class KeyframeResolver{constructor(s,i,a,o,c,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...s],this.onComplete=i,this.name=a,this.motionValue=o,this.element=c,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:s,name:i,element:a,motionValue:o}=this;for(let c=0;c<s.length;c++)if(s[c]===null)if(c===0){const l=o==null?void 0:o.get(),f=s[s.length-1];if(l!==void 0)s[0]=l;else if(a&&i){const u=a.readValue(i,f);u!=null&&(s[0]=u)}s[0]===void 0&&(s[0]=f),o&&l===void 0&&o.set(s[0])}else s[c]=s[c-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),toResolve.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,toResolve.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const isNumericalString=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(n){const s=splitCSSVariableRegex.exec(n);if(!s)return[,];const[,i,a,o]=s;return[`--${i??a}`,o]}function getVariableValue(n,s,i=1){const[a,o]=parseCSSVariable(n);if(!a)return;const c=window.getComputedStyle(s).getPropertyValue(a);if(c){const l=c.trim();return isNumericalString(l)?parseFloat(l):l}return isCSSVariableToken(o)?getVariableValue(o,s,i+1):o}const testValueType=n=>s=>s.test(n),auto={test:n=>n==="auto",parse:n=>n},dimensionValueTypes=[number,px,percent,degrees,vw,vh,auto],findDimensionValueType=n=>dimensionValueTypes.find(testValueType(n));class DOMKeyframesResolver extends KeyframeResolver{constructor(s,i,a,o,c){super(s,i,a,o,c,!0)}readKeyframes(){const{unresolvedKeyframes:s,element:i,name:a}=this;if(!i||!i.current)return;super.readKeyframes();for(let u=0;u<s.length;u++){let h=s[u];if(typeof h=="string"&&(h=h.trim(),isCSSVariableToken(h))){const d=getVariableValue(h,i.current);d!==void 0&&(s[u]=d),u===s.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(a)||s.length!==2)return;const[o,c]=s,l=findDimensionValueType(o),f=findDimensionValueType(c);if(l!==f)if(isNumOrPxType(l)&&isNumOrPxType(f))for(let u=0;u<s.length;u++){const h=s[u];typeof h=="string"&&(s[u]=parseFloat(h))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:s,name:i}=this,a=[];for(let o=0;o<s.length;o++)isNone(s[o])&&a.push(o);a.length&&makeNoneKeyframesAnimatable(s,a,i)}measureInitialState(){const{element:s,unresolvedKeyframes:i,name:a}=this;if(!s||!s.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[a](s.measureViewportBox(),window.getComputedStyle(s.current)),i[0]=this.measuredOrigin;const o=i[i.length-1];o!==void 0&&s.getValue(a,o).jump(o,!1)}measureEndState(){var s;const{element:i,name:a,unresolvedKeyframes:o}=this;if(!i||!i.current)return;const c=i.getValue(a);c&&c.jump(this.measuredOrigin,!1);const l=o.length-1,f=o[l];o[l]=positionalValues[a](i.measureViewportBox(),window.getComputedStyle(i.current)),f!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=f),!((s=this.removedTransforms)===null||s===void 0)&&s.length&&this.removedTransforms.forEach(([u,h])=>{i.getValue(u).set(h)}),this.resolveNoneKeyframes()}}const isAnimatable=(n,s)=>s==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(complex.test(n)||n==="0")&&!n.startsWith("url("));function hasKeyframesChanged(n){const s=n[0];if(n.length===1)return!0;for(let i=0;i<n.length;i++)if(n[i]!==s)return!0}function canAnimate(n,s,i,a){const o=n[0];if(o===null)return!1;if(s==="display"||s==="visibility")return!0;const c=n[n.length-1],l=isAnimatable(o,s),f=isAnimatable(c,s);return!l||!f?!1:hasKeyframesChanged(n)||(i==="spring"||isGenerator(i))&&a}const isNotNull=n=>n!==null;function getFinalKeyframe(n,{repeat:s,repeatType:i="loop"},a){const o=n.filter(isNotNull),c=s&&i!=="loop"&&s%2===1?0:o.length-1;return!c||a===void 0?o[c]:a}const MAX_RESOLVE_DELAY=40;class BaseAnimation{constructor({autoplay:s=!0,delay:i=0,type:a="keyframes",repeat:o=0,repeatDelay:c=0,repeatType:l="loop",...f}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=time.now(),this.options={autoplay:s,delay:i,type:a,repeat:o,repeatDelay:c,repeatType:l,...f},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>MAX_RESOLVE_DELAY?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&flushKeyframeResolvers(),this._resolved}onKeyframesResolved(s,i){this.resolvedAt=time.now(),this.hasAttemptedResolve=!0;const{name:a,type:o,velocity:c,delay:l,onComplete:f,onUpdate:u,isGenerator:h}=this.options;if(!h&&!canAnimate(s,a,o,c))if(l)this.options.duration=0;else{u&&u(getFinalKeyframe(s,this.options,i)),f&&f(),this.resolveFinishedPromise();return}const d=this.initPlayback(s,i);d!==!1&&(this._resolved={keyframes:s,finalKeyframe:i,...d},this.onPostResolved())}onPostResolved(){}then(s,i){return this.currentFinishedPromise.then(s,i)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(s=>{this.resolveFinishedPromise=s})}}const mixNumber$1=(n,s,i)=>n+(s-n)*i;function hueToRgb(n,s,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?n+(s-n)*6*i:i<1/2?s:i<2/3?n+(s-n)*(2/3-i)*6:n}function hslaToRgba({hue:n,saturation:s,lightness:i,alpha:a}){n/=360,s/=100,i/=100;let o=0,c=0,l=0;if(!s)o=c=l=i;else{const f=i<.5?i*(1+s):i+s-i*s,u=2*i-f;o=hueToRgb(u,f,n+1/3),c=hueToRgb(u,f,n),l=hueToRgb(u,f,n-1/3)}return{red:Math.round(o*255),green:Math.round(c*255),blue:Math.round(l*255),alpha:a}}function mixImmediate(n,s){return i=>i>0?s:n}const mixLinearColor=(n,s,i)=>{const a=n*n,o=i*(s*s-a)+a;return o<0?0:Math.sqrt(o)},colorTypes=[hex,rgba,hsla],getColorType=n=>colorTypes.find(s=>s.test(n));function asRGBA(n){const s=getColorType(n);if(!s)return!1;let i=s.parse(n);return s===hsla&&(i=hslaToRgba(i)),i}const mixColor=(n,s)=>{const i=asRGBA(n),a=asRGBA(s);if(!i||!a)return mixImmediate(n,s);const o={...i};return c=>(o.red=mixLinearColor(i.red,a.red,c),o.green=mixLinearColor(i.green,a.green,c),o.blue=mixLinearColor(i.blue,a.blue,c),o.alpha=mixNumber$1(i.alpha,a.alpha,c),rgba.transform(o))},combineFunctions=(n,s)=>i=>s(n(i)),pipe=(...n)=>n.reduce(combineFunctions),invisibleValues=new Set(["none","hidden"]);function mixVisibility(n,s){return invisibleValues.has(n)?i=>i<=0?n:s:i=>i>=1?s:n}function mixNumber(n,s){return i=>mixNumber$1(n,s,i)}function getMixer(n){return typeof n=="number"?mixNumber:typeof n=="string"?isCSSVariableToken(n)?mixImmediate:color.test(n)?mixColor:mixComplex:Array.isArray(n)?mixArray:typeof n=="object"?color.test(n)?mixColor:mixObject:mixImmediate}function mixArray(n,s){const i=[...n],a=i.length,o=n.map((c,l)=>getMixer(c)(c,s[l]));return c=>{for(let l=0;l<a;l++)i[l]=o[l](c);return i}}function mixObject(n,s){const i={...n,...s},a={};for(const o in i)n[o]!==void 0&&s[o]!==void 0&&(a[o]=getMixer(n[o])(n[o],s[o]));return o=>{for(const c in a)i[c]=a[c](o);return i}}function matchOrder(n,s){var i;const a=[],o={color:0,var:0,number:0};for(let c=0;c<s.values.length;c++){const l=s.types[c],f=n.indexes[l][o[l]],u=(i=n.values[f])!==null&&i!==void 0?i:0;a[c]=u,o[l]++}return a}const mixComplex=(n,s)=>{const i=complex.createTransformer(s),a=analyseComplexValue(n),o=analyseComplexValue(s);return a.indexes.var.length===o.indexes.var.length&&a.indexes.color.length===o.indexes.color.length&&a.indexes.number.length>=o.indexes.number.length?invisibleValues.has(n)&&!o.values.length||invisibleValues.has(s)&&!a.values.length?mixVisibility(n,s):pipe(mixArray(matchOrder(a,o),o.values),i):mixImmediate(n,s)};function mix(n,s,i){return typeof n=="number"&&typeof s=="number"&&typeof i=="number"?mixNumber$1(n,s,i):getMixer(n)(n,s)}const velocitySampleDuration=5;function calcGeneratorVelocity(n,s,i){const a=Math.max(s-velocitySampleDuration,0);return velocityPerSecond(i-n(a),s-a)}const springDefaults={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},safeMin=.001;function findSpring({duration:n=springDefaults.duration,bounce:s=springDefaults.bounce,velocity:i=springDefaults.velocity,mass:a=springDefaults.mass}){let o,c,l=1-s;l=clamp(springDefaults.minDamping,springDefaults.maxDamping,l),n=clamp(springDefaults.minDuration,springDefaults.maxDuration,millisecondsToSeconds(n)),l<1?(o=h=>{const d=h*l,g=d*n,m=d-i,b=calcAngularFreq(h,l),E=Math.exp(-g);return safeMin-m/b*E},c=h=>{const g=h*l*n,m=g*i+i,b=Math.pow(l,2)*Math.pow(h,2)*n,E=Math.exp(-g),P=calcAngularFreq(Math.pow(h,2),l);return(-o(h)+safeMin>0?-1:1)*((m-b)*E)/P}):(o=h=>{const d=Math.exp(-h*n),g=(h-i)*n+1;return-.001+d*g},c=h=>{const d=Math.exp(-h*n),g=(i-h)*(n*n);return d*g});const f=5/n,u=approximateRoot(o,c,f);if(n=secondsToMilliseconds(n),isNaN(u))return{stiffness:springDefaults.stiffness,damping:springDefaults.damping,duration:n};{const h=Math.pow(u,2)*a;return{stiffness:h,damping:l*2*Math.sqrt(a*h),duration:n}}}const rootIterations=12;function approximateRoot(n,s,i){let a=i;for(let o=1;o<rootIterations;o++)a=a-n(a)/s(a);return a}function calcAngularFreq(n,s){return n*Math.sqrt(1-s*s)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(n,s){return s.some(i=>n[i]!==void 0)}function getSpringOptions(n){let s={velocity:springDefaults.velocity,stiffness:springDefaults.stiffness,damping:springDefaults.damping,mass:springDefaults.mass,isResolvedFromDuration:!1,...n};if(!isSpringType(n,physicsKeys)&&isSpringType(n,durationKeys))if(n.visualDuration){const i=n.visualDuration,a=2*Math.PI/(i*1.2),o=a*a,c=2*clamp(.05,1,1-(n.bounce||0))*Math.sqrt(o);s={...s,mass:springDefaults.mass,stiffness:o,damping:c}}else{const i=findSpring(n);s={...s,...i,mass:springDefaults.mass},s.isResolvedFromDuration=!0}return s}function spring(n=springDefaults.visualDuration,s=springDefaults.bounce){const i=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:s}:n;let{restSpeed:a,restDelta:o}=i;const c=i.keyframes[0],l=i.keyframes[i.keyframes.length-1],f={done:!1,value:c},{stiffness:u,damping:h,mass:d,duration:g,velocity:m,isResolvedFromDuration:b}=getSpringOptions({...i,velocity:-millisecondsToSeconds(i.velocity||0)}),E=m||0,P=h/(2*Math.sqrt(u*d)),v=l-c,x=millisecondsToSeconds(Math.sqrt(u/d)),T=Math.abs(v)<5;a||(a=T?springDefaults.restSpeed.granular:springDefaults.restSpeed.default),o||(o=T?springDefaults.restDelta.granular:springDefaults.restDelta.default);let y;if(P<1){const p=calcAngularFreq(x,P);y=A=>{const R=Math.exp(-P*x*A);return l-R*((E+P*x*v)/p*Math.sin(p*A)+v*Math.cos(p*A))}}else if(P===1)y=p=>l-Math.exp(-x*p)*(v+(E+x*v)*p);else{const p=x*Math.sqrt(P*P-1);y=A=>{const R=Math.exp(-P*x*A),S=Math.min(p*A,300);return l-R*((E+P*x*v)*Math.sinh(S)+p*v*Math.cosh(S))/p}}const C={calculatedDuration:b&&g||null,next:p=>{const A=y(p);if(b)f.done=p>=g;else{let R=0;P<1&&(R=p===0?secondsToMilliseconds(E):calcGeneratorVelocity(y,p,A));const S=Math.abs(R)<=a,L=Math.abs(l-A)<=o;f.done=S&&L}return f.value=f.done?l:A,f},toString:()=>{const p=Math.min(calcGeneratorDuration(C),maxGeneratorDuration),A=generateLinearEasing(R=>C.next(p*R).value,p,30);return p+"ms "+A}};return C}function inertia({keyframes:n,velocity:s=0,power:i=.8,timeConstant:a=325,bounceDamping:o=10,bounceStiffness:c=500,modifyTarget:l,min:f,max:u,restDelta:h=.5,restSpeed:d}){const g=n[0],m={done:!1,value:g},b=S=>f!==void 0&&S<f||u!==void 0&&S>u,E=S=>f===void 0?u:u===void 0||Math.abs(f-S)<Math.abs(u-S)?f:u;let P=i*s;const v=g+P,x=l===void 0?v:l(v);x!==v&&(P=x-g);const T=S=>-P*Math.exp(-S/a),y=S=>x+T(S),C=S=>{const L=T(S),V=y(S);m.done=Math.abs(L)<=h,m.value=m.done?x:V};let p,A;const R=S=>{b(m.value)&&(p=S,A=spring({keyframes:[m.value,E(m.value)],velocity:calcGeneratorVelocity(y,S,m.value),damping:o,stiffness:c,restDelta:h,restSpeed:d}))};return R(0),{calculatedDuration:null,next:S=>{let L=!1;return!A&&p===void 0&&(L=!0,C(S),R(S)),p!==void 0&&S>=p?A.next(S-p):(!L&&C(S),m)}}}const easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=n=>Array.isArray(n)&&typeof n[0]!="number",easingLookup={linear:noop,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=n=>{if(isBezierDefinition(n)){invariant(n.length===4);const[s,i,a,o]=n;return cubicBezier(s,i,a,o)}else if(typeof n=="string")return easingLookup[n];return n};function createMixers(n,s,i){const a=[],o=i||mix,c=n.length-1;for(let l=0;l<c;l++){let f=o(n[l],n[l+1]);if(s){const u=Array.isArray(s)?s[l]||noop:s;f=pipe(u,f)}a.push(f)}return a}function interpolate(n,s,{clamp:i=!0,ease:a,mixer:o}={}){const c=n.length;if(invariant(c===s.length),c===1)return()=>s[0];if(c===2&&s[0]===s[1])return()=>s[1];const l=n[0]===n[1];n[0]>n[c-1]&&(n=[...n].reverse(),s=[...s].reverse());const f=createMixers(s,a,o),u=f.length,h=d=>{if(l&&d<n[0])return s[0];let g=0;if(u>1)for(;g<n.length-2&&!(d<n[g+1]);g++);const m=progress(n[g],n[g+1],d);return f[g](m)};return i?d=>h(clamp(n[0],n[c-1],d)):h}function fillOffset(n,s){const i=n[n.length-1];for(let a=1;a<=s;a++){const o=progress(0,s,a);n.push(mixNumber$1(i,1,o))}}function defaultOffset(n){const s=[0];return fillOffset(s,n.length-1),s}function convertOffsetToTimes(n,s){return n.map(i=>i*s)}function defaultEasing(n,s){return n.map(()=>s||easeInOut).splice(0,n.length-1)}function keyframes({duration:n=300,keyframes:s,times:i,ease:a="easeInOut"}){const o=isEasingArray(a)?a.map(easingDefinitionToFunction):easingDefinitionToFunction(a),c={done:!1,value:s[0]},l=convertOffsetToTimes(i&&i.length===s.length?i:defaultOffset(s),n),f=interpolate(l,s,{ease:Array.isArray(o)?o:defaultEasing(s,o)});return{calculatedDuration:n,next:u=>(c.value=f(u),c.done=u>=n,c)}}const frameloopDriver=n=>{const s=({timestamp:i})=>n(i);return{start:()=>frame.update(s,!0),stop:()=>cancelFrame(s),now:()=>frameData.isProcessing?frameData.timestamp:time.now()}},generators={decay:inertia,inertia,tween:keyframes,keyframes,spring},percentToProgress=n=>n/100;class MainThreadAnimation extends BaseAnimation{constructor(s){super(s),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:u}=this.options;u&&u()};const{name:i,motionValue:a,element:o,keyframes:c}=this.options,l=(o==null?void 0:o.KeyframeResolver)||KeyframeResolver,f=(u,h)=>this.onKeyframesResolved(u,h);this.resolver=new l(c,f,i,a,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(s){const{type:i="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:c,velocity:l=0}=this.options,f=isGenerator(i)?i:generators[i]||keyframes;let u,h;f!==keyframes&&typeof s[0]!="number"&&(u=pipe(percentToProgress,mix(s[0],s[1])),s=[0,100]);const d=f({...this.options,keyframes:s});c==="mirror"&&(h=f({...this.options,keyframes:[...s].reverse(),velocity:-l})),d.calculatedDuration===null&&(d.calculatedDuration=calcGeneratorDuration(d));const{calculatedDuration:g}=d,m=g+o,b=m*(a+1)-o;return{generator:d,mirroredGenerator:h,mapPercentToKeyframes:u,calculatedDuration:g,resolvedDuration:m,totalDuration:b}}onPostResolved(){const{autoplay:s=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!s?this.pause():this.state=this.pendingPlayState}tick(s,i=!1){const{resolved:a}=this;if(!a){const{keyframes:S}=this.options;return{done:!0,value:S[S.length-1]}}const{finalKeyframe:o,generator:c,mirroredGenerator:l,mapPercentToKeyframes:f,keyframes:u,calculatedDuration:h,totalDuration:d,resolvedDuration:g}=a;if(this.startTime===null)return c.next(0);const{delay:m,repeat:b,repeatType:E,repeatDelay:P,onUpdate:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,s):this.speed<0&&(this.startTime=Math.min(s-d/this.speed,this.startTime)),i?this.currentTime=s:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(s-this.startTime)*this.speed;const x=this.currentTime-m*(this.speed>=0?1:-1),T=this.speed>=0?x<0:x>d;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let y=this.currentTime,C=c;if(b){const S=Math.min(this.currentTime,d)/g;let L=Math.floor(S),V=S%1;!V&&S>=1&&(V=1),V===1&&L--,L=Math.min(L,b+1),!!(L%2)&&(E==="reverse"?(V=1-V,P&&(V-=P/g)):E==="mirror"&&(C=l)),y=clamp(0,1,V)*g}const p=T?{done:!1,value:u[0]}:C.next(y);f&&(p.value=f(p.value));let{done:A}=p;!T&&h!==null&&(A=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&A);return R&&o!==void 0&&(p.value=getFinalKeyframe(u,this.options,o)),v&&v(p.value),R&&this.finish(),p}get duration(){const{resolved:s}=this;return s?millisecondsToSeconds(s.calculatedDuration):0}get time(){return millisecondsToSeconds(this.currentTime)}set time(s){s=secondsToMilliseconds(s),this.currentTime=s,this.holdTime!==null||this.speed===0?this.holdTime=s:this.driver&&(this.startTime=this.driver.now()-s/this.speed)}get speed(){return this.playbackSpeed}set speed(s){const i=this.playbackSpeed!==s;this.playbackSpeed=s,i&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:s=frameloopDriver,onPlay:i,startTime:a}=this.options;this.driver||(this.driver=s(c=>this.tick(c))),i&&i();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=a??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var s;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(s=this.currentTime)!==null&&s!==void 0?s:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:s}=this.options;s&&s()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(s){return this.startTime=0,this.tick(s,!0)}}const acceleratedValues=new Set(["opacity","clipPath","filter","transform"]);function startWaapiAnimation(n,s,i,{delay:a=0,duration:o=300,repeat:c=0,repeatType:l="loop",ease:f="easeInOut",times:u}={}){const h={[s]:i};u&&(h.offset=u);const d=mapEasingToNativeEasing(f,o);return Array.isArray(d)&&(h.easing=d),n.animate(h,{delay:a,duration:o,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:c+1,direction:l==="reverse"?"alternate":"normal"})}const supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sampleDelta=10,maxDuration=2e4;function requiresPregeneratedKeyframes(n){return isGenerator(n.type)||n.type==="spring"||!isWaapiSupportedEasing(n.ease)}function pregenerateKeyframes(n,s){const i=new MainThreadAnimation({...s,keyframes:n,repeat:0,delay:0,isGenerator:!0});let a={done:!1,value:n[0]};const o=[];let c=0;for(;!a.done&&c<maxDuration;)a=i.sample(c),o.push(a.value),c+=sampleDelta;return{times:void 0,keyframes:o,duration:c-sampleDelta,ease:"linear"}}const unsupportedEasingFunctions={anticipate,backInOut,circInOut};function isUnsupportedEase(n){return n in unsupportedEasingFunctions}class AcceleratedAnimation extends BaseAnimation{constructor(s){super(s);const{name:i,motionValue:a,element:o,keyframes:c}=this.options;this.resolver=new DOMKeyframesResolver(c,(l,f)=>this.onKeyframesResolved(l,f),i,a,o),this.resolver.scheduleResolve()}initPlayback(s,i){let{duration:a=300,times:o,ease:c,type:l,motionValue:f,name:u,startTime:h}=this.options;if(!f.owner||!f.owner.current)return!1;if(typeof c=="string"&&supportsLinearEasing()&&isUnsupportedEase(c)&&(c=unsupportedEasingFunctions[c]),requiresPregeneratedKeyframes(this.options)){const{onComplete:g,onUpdate:m,motionValue:b,element:E,...P}=this.options,v=pregenerateKeyframes(s,P);s=v.keyframes,s.length===1&&(s[1]=s[0]),a=v.duration,o=v.times,c=v.ease,l="keyframes"}const d=startWaapiAnimation(f.owner.current,u,s,{...this.options,duration:a,times:o,ease:c});return d.startTime=h??this.calcStartTime(),this.pendingTimeline?(attachTimeline(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:g}=this.options;f.set(getFinalKeyframe(s,this.options,i)),g&&g(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:a,times:o,type:l,ease:c,keyframes:s}}get duration(){const{resolved:s}=this;if(!s)return 0;const{duration:i}=s;return millisecondsToSeconds(i)}get time(){const{resolved:s}=this;if(!s)return 0;const{animation:i}=s;return millisecondsToSeconds(i.currentTime||0)}set time(s){const{resolved:i}=this;if(!i)return;const{animation:a}=i;a.currentTime=secondsToMilliseconds(s)}get speed(){const{resolved:s}=this;if(!s)return 1;const{animation:i}=s;return i.playbackRate}set speed(s){const{resolved:i}=this;if(!i)return;const{animation:a}=i;a.playbackRate=s}get state(){const{resolved:s}=this;if(!s)return"idle";const{animation:i}=s;return i.playState}get startTime(){const{resolved:s}=this;if(!s)return null;const{animation:i}=s;return i.startTime}attachTimeline(s){if(!this._resolved)this.pendingTimeline=s;else{const{resolved:i}=this;if(!i)return noop;const{animation:a}=i;attachTimeline(a,s)}return noop}play(){if(this.isStopped)return;const{resolved:s}=this;if(!s)return;const{animation:i}=s;i.playState==="finished"&&this.updateFinishedPromise(),i.play()}pause(){const{resolved:s}=this;if(!s)return;const{animation:i}=s;i.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:s}=this;if(!s)return;const{animation:i,keyframes:a,duration:o,type:c,ease:l,times:f}=s;if(i.playState==="idle"||i.playState==="finished")return;if(this.time){const{motionValue:h,onUpdate:d,onComplete:g,element:m,...b}=this.options,E=new MainThreadAnimation({...b,keyframes:a,duration:o,type:c,ease:l,times:f,isGenerator:!0}),P=secondsToMilliseconds(this.time);h.setWithVelocity(E.sample(P-sampleDelta).value,E.sample(P).value,sampleDelta)}const{onStop:u}=this.options;u&&u(),this.cancel()}complete(){const{resolved:s}=this;s&&s.animation.finish()}cancel(){const{resolved:s}=this;s&&s.animation.cancel()}static supports(s){const{motionValue:i,name:a,repeatDelay:o,repeatType:c,damping:l,type:f}=s;if(!i||!i.owner||!(i.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:h}=i.owner.getProps();return supportsWaapi()&&a&&acceleratedValues.has(a)&&!u&&!h&&!o&&c!=="mirror"&&l!==0&&f!=="inertia"}}const underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(n,{keyframes:s})=>s.length>2?keyframesTransition:transformProps.has(n)?n.startsWith("scale")?criticallyDampedSpring(s[1]):underDampedSpring:ease;function isTransitionDefined({when:n,delay:s,delayChildren:i,staggerChildren:a,staggerDirection:o,repeat:c,repeatType:l,repeatDelay:f,from:u,elapsed:h,...d}){return!!Object.keys(d).length}const animateMotionValue=(n,s,i,a={},o,c)=>l=>{const f=getValueTransition(a,n)||{},u=f.delay||a.delay||0;let{elapsed:h=0}=a;h=h-secondsToMilliseconds(u);let d={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:s.getVelocity(),...f,delay:-h,onUpdate:m=>{s.set(m),f.onUpdate&&f.onUpdate(m)},onComplete:()=>{l(),f.onComplete&&f.onComplete()},name:n,motionValue:s,element:c?void 0:o};isTransitionDefined(f)||(d={...d,...getDefaultTransition(n,d)}),d.duration&&(d.duration=secondsToMilliseconds(d.duration)),d.repeatDelay&&(d.repeatDelay=secondsToMilliseconds(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let g=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(g=!0)),g&&!c&&s.get()!==void 0){const m=getFinalKeyframe(d.keyframes,f);if(m!==void 0)return frame.update(()=>{d.onUpdate(m),d.onComplete()}),new GroupPlaybackControls([])}return!c&&AcceleratedAnimation.supports(d)?new AcceleratedAnimation(d):new MainThreadAnimation(d)};function shouldBlockAnimation({protectedKeys:n,needsAnimating:s},i){const a=n.hasOwnProperty(i)&&s[i]!==!0;return s[i]=!1,a}function animateTarget(n,s,{delay:i=0,transitionOverride:a,type:o}={}){var c;let{transition:l=n.getDefaultTransition(),transitionEnd:f,...u}=s;a&&(l=a);const h=[],d=o&&n.animationState&&n.animationState.getState()[o];for(const g in u){const m=n.getValue(g,(c=n.latestValues[g])!==null&&c!==void 0?c:null),b=u[g];if(b===void 0||d&&shouldBlockAnimation(d,g))continue;const E={delay:i,...getValueTransition(l||{},g)};let P=!1;if(window.MotionHandoffAnimation){const x=getOptimisedAppearId(n);if(x){const T=window.MotionHandoffAnimation(x,g,frame);T!==null&&(E.startTime=T,P=!0)}}addValueToWillChange(n,g),m.start(animateMotionValue(g,m,b,n.shouldReduceMotion&&positionalKeys.has(g)?{type:!1}:E,n,P));const v=m.animation;v&&h.push(v)}return f&&Promise.all(h).then(()=>{frame.update(()=>{f&&setTarget(n,f)})}),h}function animateVariant(n,s,i={}){var a;const o=resolveVariant(n,s,i.type==="exit"?(a=n.presenceContext)===null||a===void 0?void 0:a.custom:void 0);let{transition:c=n.getDefaultTransition()||{}}=o||{};i.transitionOverride&&(c=i.transitionOverride);const l=o?()=>Promise.all(animateTarget(n,o,i)):()=>Promise.resolve(),f=n.variantChildren&&n.variantChildren.size?(h=0)=>{const{delayChildren:d=0,staggerChildren:g,staggerDirection:m}=c;return animateChildren(n,s,d+h,g,m,i)}:()=>Promise.resolve(),{when:u}=c;if(u){const[h,d]=u==="beforeChildren"?[l,f]:[f,l];return h().then(()=>d())}else return Promise.all([l(),f(i.delay)])}function animateChildren(n,s,i=0,a=0,o=1,c){const l=[],f=(n.variantChildren.size-1)*a,u=o===1?(h=0)=>h*a:(h=0)=>f-h*a;return Array.from(n.variantChildren).sort(sortByTreeOrder).forEach((h,d)=>{h.notify("AnimationStart",s),l.push(animateVariant(h,s,{...c,delay:i+u(d)}).then(()=>h.notify("AnimationComplete",s)))}),Promise.all(l)}function sortByTreeOrder(n,s){return n.sortNodePosition(s)}function animateVisualElement(n,s,i={}){n.notify("AnimationStart",s);let a;if(Array.isArray(s)){const o=s.map(c=>animateVariant(n,c,i));a=Promise.all(o)}else if(typeof s=="string")a=animateVariant(n,s,i);else{const o=typeof s=="function"?resolveVariant(n,s,i.custom):s;a=Promise.all(animateTarget(n,o,i))}return a.then(()=>{n.notify("AnimationComplete",s)})}function shallowCompare(n,s){if(!Array.isArray(s))return!1;const i=s.length;if(i!==n.length)return!1;for(let a=0;a<i;a++)if(s[a]!==n[a])return!1;return!0}const numVariantProps=variantProps.length;function getVariantContext(n){if(!n)return;if(!n.isControllingVariants){const i=n.parent?getVariantContext(n.parent)||{}:{};return n.props.initial!==void 0&&(i.initial=n.props.initial),i}const s={};for(let i=0;i<numVariantProps;i++){const a=variantProps[i],o=n.props[a];(isVariantLabel(o)||o===!1)&&(s[a]=o)}return s}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(n){return s=>Promise.all(s.map(({animation:i,options:a})=>animateVisualElement(n,i,a)))}function createAnimationState(n){let s=animateList(n),i=createState(),a=!0;const o=u=>(h,d)=>{var g;const m=resolveVariant(n,d,u==="exit"?(g=n.presenceContext)===null||g===void 0?void 0:g.custom:void 0);if(m){const{transition:b,transitionEnd:E,...P}=m;h={...h,...P,...E}}return h};function c(u){s=u(n)}function l(u){const{props:h}=n,d=getVariantContext(n.parent)||{},g=[],m=new Set;let b={},E=1/0;for(let v=0;v<numAnimationTypes;v++){const x=reversePriorityOrder[v],T=i[x],y=h[x]!==void 0?h[x]:d[x],C=isVariantLabel(y),p=x===u?T.isActive:null;p===!1&&(E=v);let A=y===d[x]&&y!==h[x]&&C;if(A&&a&&n.manuallyAnimateOnMount&&(A=!1),T.protectedKeys={...b},!T.isActive&&p===null||!y&&!T.prevProp||isAnimationControls(y)||typeof y=="boolean")continue;const R=checkVariantsDidChange(T.prevProp,y);let S=R||x===u&&T.isActive&&!A&&C||v>E&&C,L=!1;const V=Array.isArray(y)?y:[y];let X=V.reduce(o(x),{});p===!1&&(X={});const{prevResolvedValues:it={}}=T,gt={...it,...X},K=G=>{S=!0,m.has(G)&&(L=!0,m.delete(G)),T.needsAnimating[G]=!0;const W=n.getValue(G);W&&(W.liveStyle=!1)};for(const G in gt){const W=X[G],at=it[G];if(b.hasOwnProperty(G))continue;let ct=!1;isKeyframesTarget(W)&&isKeyframesTarget(at)?ct=!shallowCompare(W,at):ct=W!==at,ct?W!=null?K(G):m.add(G):W!==void 0&&m.has(G)?K(G):T.protectedKeys[G]=!0}T.prevProp=y,T.prevResolvedValues=X,T.isActive&&(b={...b,...X}),a&&n.blockInitialAnimation&&(S=!1),S&&(!(A&&R)||L)&&g.push(...V.map(G=>({animation:G,options:{type:x}})))}if(m.size){const v={};if(typeof h.initial!="boolean"){const x=resolveVariant(n,Array.isArray(h.initial)?h.initial[0]:h.initial);x&&x.transition&&(v.transition=x.transition)}m.forEach(x=>{const T=n.getBaseTarget(x),y=n.getValue(x);y&&(y.liveStyle=!0),v[x]=T??null}),g.push({animation:v})}let P=!!g.length;return a&&(h.initial===!1||h.initial===h.animate)&&!n.manuallyAnimateOnMount&&(P=!1),a=!1,P?s(g):Promise.resolve()}function f(u,h){var d;if(i[u].isActive===h)return Promise.resolve();(d=n.variantChildren)===null||d===void 0||d.forEach(m=>{var b;return(b=m.animationState)===null||b===void 0?void 0:b.setActive(u,h)}),i[u].isActive=h;const g=l(u);for(const m in i)i[m].protectedKeys={};return g}return{animateChanges:l,setActive:f,setAnimateFunction:c,getState:()=>i,reset:()=>{i=createState(),a=!0}}}function checkVariantsDidChange(n,s){return typeof s=="string"?s!==n:Array.isArray(s)?!shallowCompare(s,n):!1}function createTypeState(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class Feature{constructor(s){this.isMounted=!1,this.node=s}update(){}}class AnimationFeature extends Feature{constructor(s){super(s),s.animationState||(s.animationState=createAnimationState(s))}updateAnimationControlsSubscription(){const{animate:s}=this.node.getProps();isAnimationControls(s)&&(this.unmountControls=s.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:s}=this.node.getProps(),{animate:i}=this.node.prevProps||{};s!==i&&this.updateAnimationControlsSubscription()}unmount(){var s;this.node.animationState.reset(),(s=this.unmountControls)===null||s===void 0||s.call(this)}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:s,onExitComplete:i}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||s===a)return;const o=this.node.animationState.setActive("exit",!s);i&&!s&&o.then(()=>{i(this.id)})}mount(){const{register:s,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),s&&(this.unmount=s(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}};function addDomEvent(n,s,i,a={passive:!0}){return n.addEventListener(s,i,a),()=>n.removeEventListener(s,i)}function extractEventInfo(n){return{point:{x:n.pageX,y:n.pageY}}}const addPointerInfo=n=>s=>isPrimaryPointer(s)&&n(s,extractEventInfo(s));function addPointerEvent(n,s,i,a){return addDomEvent(n,s,addPointerInfo(i),a)}function convertBoundingBoxToBox({top:n,left:s,right:i,bottom:a}){return{x:{min:s,max:i},y:{min:n,max:a}}}function convertBoxToBoundingBox({x:n,y:s}){return{top:s.min,right:n.max,bottom:s.max,left:n.min}}function transformBoxPoints(n,s){if(!s)return n;const i=s({x:n.left,y:n.top}),a=s({x:n.right,y:n.bottom});return{top:i.y,left:i.x,bottom:a.y,right:a.x}}const SCALE_PRECISION=1e-4,SCALE_MIN=1-SCALE_PRECISION,SCALE_MAX=1+SCALE_PRECISION,TRANSLATE_PRECISION=.01,TRANSLATE_MIN=0-TRANSLATE_PRECISION,TRANSLATE_MAX=0+TRANSLATE_PRECISION;function calcLength(n){return n.max-n.min}function isNear(n,s,i){return Math.abs(n-s)<=i}function calcAxisDelta(n,s,i,a=.5){n.origin=a,n.originPoint=mixNumber$1(s.min,s.max,n.origin),n.scale=calcLength(i)/calcLength(s),n.translate=mixNumber$1(i.min,i.max,n.origin)-n.originPoint,(n.scale>=SCALE_MIN&&n.scale<=SCALE_MAX||isNaN(n.scale))&&(n.scale=1),(n.translate>=TRANSLATE_MIN&&n.translate<=TRANSLATE_MAX||isNaN(n.translate))&&(n.translate=0)}function calcBoxDelta(n,s,i,a){calcAxisDelta(n.x,s.x,i.x,a?a.originX:void 0),calcAxisDelta(n.y,s.y,i.y,a?a.originY:void 0)}function calcRelativeAxis(n,s,i){n.min=i.min+s.min,n.max=n.min+calcLength(s)}function calcRelativeBox(n,s,i){calcRelativeAxis(n.x,s.x,i.x),calcRelativeAxis(n.y,s.y,i.y)}function calcRelativeAxisPosition(n,s,i){n.min=s.min-i.min,n.max=n.min+calcLength(s)}function calcRelativePosition(n,s,i){calcRelativeAxisPosition(n.x,s.x,i.x),calcRelativeAxisPosition(n.y,s.y,i.y)}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(n){return[n("x"),n("y")]}function isIdentityScale(n){return n===void 0||n===1}function hasScale({scale:n,scaleX:s,scaleY:i}){return!isIdentityScale(n)||!isIdentityScale(s)||!isIdentityScale(i)}function hasTransform(n){return hasScale(n)||has2DTranslate(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function has2DTranslate(n){return is2DTranslate(n.x)||is2DTranslate(n.y)}function is2DTranslate(n){return n&&n!=="0%"}function scalePoint(n,s,i){const a=n-i,o=s*a;return i+o}function applyPointDelta(n,s,i,a,o){return o!==void 0&&(n=scalePoint(n,o,a)),scalePoint(n,i,a)+s}function applyAxisDelta(n,s=0,i=1,a,o){n.min=applyPointDelta(n.min,s,i,a,o),n.max=applyPointDelta(n.max,s,i,a,o)}function applyBoxDelta(n,{x:s,y:i}){applyAxisDelta(n.x,s.translate,s.scale,s.originPoint),applyAxisDelta(n.y,i.translate,i.scale,i.originPoint)}const TREE_SCALE_SNAP_MIN=.999999999999,TREE_SCALE_SNAP_MAX=1.0000000000001;function applyTreeDeltas(n,s,i,a=!1){const o=i.length;if(!o)return;s.x=s.y=1;let c,l;for(let f=0;f<o;f++){c=i[f],l=c.projectionDelta;const{visualElement:u}=c.options;u&&u.props.style&&u.props.style.display==="contents"||(a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&transformBox(n,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),l&&(s.x*=l.x.scale,s.y*=l.y.scale,applyBoxDelta(n,l)),a&&hasTransform(c.latestValues)&&transformBox(n,c.latestValues))}s.x<TREE_SCALE_SNAP_MAX&&s.x>TREE_SCALE_SNAP_MIN&&(s.x=1),s.y<TREE_SCALE_SNAP_MAX&&s.y>TREE_SCALE_SNAP_MIN&&(s.y=1)}function translateAxis(n,s){n.min=n.min+s,n.max=n.max+s}function transformAxis(n,s,i,a,o=.5){const c=mixNumber$1(n.min,n.max,o);applyAxisDelta(n,s,i,c,a)}function transformBox(n,s){transformAxis(n.x,s.x,s.scaleX,s.scale,s.originX),transformAxis(n.y,s.y,s.scaleY,s.scale,s.originY)}function measureViewportBox(n,s){return convertBoundingBoxToBox(transformBoxPoints(n.getBoundingClientRect(),s))}function measurePageBox(n,s,i){const a=measureViewportBox(n,i),{scroll:o}=s;return o&&(translateAxis(a.x,o.offset.x),translateAxis(a.y,o.offset.y)),a}const distance=(n,s)=>Math.abs(n-s);function distance2D(n,s){const i=distance(n.x,s.x),a=distance(n.y,s.y);return Math.sqrt(i**2+a**2)}class PanSession{constructor(s,i,{transformPagePoint:a,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=getPanInfo(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,m=distance2D(d.offset,{x:0,y:0})>=3;if(!g&&!m)return;const{point:b}=d,{timestamp:E}=frameData;this.history.push({...b,timestamp:E});const{onStart:P,onMove:v}=this.handlers;g||(P&&P(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,d)},this.handlePointerMove=(d,g)=>{if(d.currentTarget instanceof Element&&d.currentTarget.hasPointerCapture&&d.pointerId!==void 0)try{if(!d.currentTarget.hasPointerCapture(d.pointerId))return}catch{}this.lastMoveEvent=d,this.lastMoveEventInfo=transformPoint(g,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(d,g)=>{capturePointer(d,"release"),this.end();const{onEnd:m,onSessionEnd:b,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=getPanInfo(d.type==="pointercancel"||d.type==="lostpointercapture"?this.lastMoveEventInfo:transformPoint(g,this.transformPagePoint),this.history);this.startEvent&&m&&m(d,P),b&&b(d,P)},!isPrimaryPointer(s))return;this.dragSnapToOrigin=o,this.handlers=i,this.transformPagePoint=a;const c=extractEventInfo(s),l=transformPoint(c,this.transformPagePoint),{point:f}=l,{timestamp:u}=frameData;this.history=[{...f,timestamp:u}];const{onSessionStart:h}=i;h&&h(s,getPanInfo(l,this.history)),capturePointer(s,"set"),this.removeListeners=pipe(addPointerEvent(s.currentTarget,"pointermove",this.handlePointerMove),addPointerEvent(s.currentTarget,"pointerup",this.handlePointerUp),addPointerEvent(s.currentTarget,"pointercancel",this.handlePointerUp),addPointerEvent(s.currentTarget,"lostpointercapture",this.handlePointerUp))}updateHandlers(s){this.handlers=s}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(n,s){return s?{point:s(n.point)}:n}function subtractPoint(n,s){return{x:n.x-s.x,y:n.y-s.y}}function getPanInfo({point:n},s){return{point:n,delta:subtractPoint(n,lastDevicePoint(s)),offset:subtractPoint(n,startDevicePoint(s)),velocity:getVelocity(s,.1)}}function startDevicePoint(n){return n[0]}function lastDevicePoint(n){return n[n.length-1]}function getVelocity(n,s){if(n.length<2)return{x:0,y:0};let i=n.length-1,a=null;const o=lastDevicePoint(n);for(;i>=0&&(a=n[i],!(o.timestamp-a.timestamp>secondsToMilliseconds(s)));)i--;if(!a)return{x:0,y:0};const c=millisecondsToSeconds(o.timestamp-a.timestamp);if(c===0)return{x:0,y:0};const l={x:(o.x-a.x)/c,y:(o.y-a.y)/c};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function applyConstraints(n,{min:s,max:i},a){return s!==void 0&&n<s?n=a?mixNumber$1(s,n,a.min):Math.max(n,s):i!==void 0&&n>i&&(n=a?mixNumber$1(i,n,a.max):Math.min(n,i)),n}function calcRelativeAxisConstraints(n,s,i){return{min:s!==void 0?n.min+s:void 0,max:i!==void 0?n.max+i-(n.max-n.min):void 0}}function calcRelativeConstraints(n,{top:s,left:i,bottom:a,right:o}){return{x:calcRelativeAxisConstraints(n.x,i,o),y:calcRelativeAxisConstraints(n.y,s,a)}}function calcViewportAxisConstraints(n,s){let i=s.min-n.min,a=s.max-n.max;return s.max-s.min<n.max-n.min&&([i,a]=[a,i]),{min:i,max:a}}function calcViewportConstraints(n,s){return{x:calcViewportAxisConstraints(n.x,s.x),y:calcViewportAxisConstraints(n.y,s.y)}}function calcOrigin(n,s){let i=.5;const a=calcLength(n),o=calcLength(s);return o>a?i=progress(s.min,s.max-a,n.min):a>o&&(i=progress(n.min,n.max-o,s.min)),clamp(0,1,i)}function rebaseAxisConstraints(n,s){const i={};return s.min!==void 0&&(i.min=s.min-n.min),s.max!==void 0&&(i.max=s.max-n.min),i}const defaultElastic=.35;function resolveDragElastic(n=defaultElastic){return n===!1?n=0:n===!0&&(n=defaultElastic),{x:resolveAxisElastic(n,"left","right"),y:resolveAxisElastic(n,"top","bottom")}}function resolveAxisElastic(n,s,i){return{min:resolvePointElastic(n,s),max:resolvePointElastic(n,i)}}function resolvePointElastic(n,s){return typeof n=="number"?n:n[s]||0}const elementDragControls=new WeakMap;class VisualElementDragControls{constructor(s){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=s}start(s,{snapToCursor:i=!1}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const o=d=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(extractEventInfo(d).point)},c=(d,g)=>{const{drag:m,dragPropagation:b,onDragStart:E}=this.getProps();if(m&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=setDragLock(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(v=>{let x=this.getAxisMotionValue(v).get()||0;if(percent.test(x)){const{projection:T}=this.visualElement;if(T&&T.layout){const y=T.layout.layoutBox[v];y&&(x=calcLength(y)*(parseFloat(x)/100))}}this.originPoint[v]=x}),E&&frame.postRender(()=>E(d,g)),addValueToWillChange(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},l=(d,g)=>{const{dragPropagation:m,dragDirectionLock:b,onDirectionLock:E,onDrag:P}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:v}=g;if(b&&this.currentDirection===null){this.currentDirection=getCurrentDirection(v),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",g.point,v),this.updateAxis("y",g.point,v),this.visualElement.render(),P&&P(d,g)},f=(d,g)=>this.stop(d,g),u=()=>eachAxis(d=>{var g;return this.getAnimationState(d)==="paused"&&((g=this.getAxisMotionValue(d).animation)===null||g===void 0?void 0:g.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new PanSession(s,{onSessionStart:o,onStart:c,onMove:l,onSessionEnd:f,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h})}stop(s,i){const a=this.isDragging;if(this.cancel(),!a)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:c}=this.getProps();c&&frame.postRender(()=>c(s,i))}cancel(){this.isDragging=!1;const{projection:s,animationState:i}=this.visualElement;s&&(s.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(s,i,a){const{drag:o}=this.getProps();if(!a||!shouldDrag(s,o,this.currentDirection))return;const c=this.getAxisMotionValue(s);let l=this.originPoint[s]+a[s];this.constraints&&this.constraints[s]&&(l=applyConstraints(l,this.constraints[s],this.elastic[s])),c.set(l)}resolveConstraints(){var s;const{dragConstraints:i,dragElastic:a}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)===null||s===void 0?void 0:s.layout,c=this.constraints;i&&isRefObject(i)?this.constraints||(this.constraints=this.resolveRefConstraints()):i&&o?this.constraints=calcRelativeConstraints(o.layoutBox,i):this.constraints=!1,this.elastic=resolveDragElastic(a),c!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=rebaseAxisConstraints(o.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:s,onMeasureDragConstraints:i}=this.getProps();if(!s||!isRefObject(s))return!1;const a=s.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const c=measurePageBox(a,o.root,this.visualElement.getTransformPagePoint());let l=calcViewportConstraints(o.layout.layoutBox,c);if(i){const f=i(convertBoxToBoundingBox(l));this.hasMutatedConstraints=!!f,f&&(l=convertBoundingBoxToBox(f))}return l}startAnimation(s){const{drag:i,dragMomentum:a,dragElastic:o,dragTransition:c,dragSnapToOrigin:l,onDragTransitionEnd:f}=this.getProps(),u=this.constraints||{},h=eachAxis(d=>{if(!shouldDrag(d,i,this.currentDirection))return;let g=u&&u[d]||{};l&&(g={min:0,max:0});const m=o?200:1e6,b=o?40:1e7,E={type:"inertia",velocity:a?s[d]:0,bounceStiffness:m,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...c,...g};return this.startAxisValueAnimation(d,E)});return Promise.all(h).then(f)}startAxisValueAnimation(s,i){const a=this.getAxisMotionValue(s);return addValueToWillChange(this.visualElement,s),a.start(animateMotionValue(s,a,0,i,this.visualElement,!1))}stopAnimation(){eachAxis(s=>this.getAxisMotionValue(s).stop())}pauseAnimation(){eachAxis(s=>{var i;return(i=this.getAxisMotionValue(s).animation)===null||i===void 0?void 0:i.pause()})}getAnimationState(s){var i;return(i=this.getAxisMotionValue(s).animation)===null||i===void 0?void 0:i.state}getAxisMotionValue(s){const i=`_drag${s.toUpperCase()}`,a=this.visualElement.getProps(),o=a[i];return o||this.visualElement.getValue(s,(a.initial?a.initial[s]:void 0)||0)}snapToCursor(s){eachAxis(i=>{const{drag:a}=this.getProps();if(!shouldDrag(i,a,this.currentDirection))return;const{projection:o}=this.visualElement,c=this.getAxisMotionValue(i);if(o&&o.layout){const{min:l,max:f}=o.layout.layoutBox[i];c.set(s[i]-mixNumber$1(l,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:s,dragConstraints:i}=this.getProps(),{projection:a}=this.visualElement;if(!isRefObject(i)||!a||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};eachAxis(l=>{const f=this.getAxisMotionValue(l);if(f&&this.constraints!==!1){const u=f.get();o[l]=calcOrigin({min:u,max:u},this.constraints[l])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),eachAxis(l=>{if(!shouldDrag(l,s,null))return;const f=this.getAxisMotionValue(l),{min:u,max:h}=this.constraints[l];f.set(mixNumber$1(u,h,o[l]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const s=this.visualElement.current,i=addPointerEvent(s,"pointerdown",u=>{const{drag:h,dragListener:d=!0}=this.getProps();h&&d&&this.start(u)}),a=()=>{const{dragConstraints:u}=this.getProps();isRefObject(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,c=o.addEventListener("measure",a);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),frame.read(a);const l=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),f=o.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h})=>{this.isDragging&&h&&(eachAxis(d=>{const g=this.getAxisMotionValue(d);g&&(this.originPoint[d]+=u[d].translate,g.set(g.get()+u[d].translate))}),this.visualElement.render())});return()=>{l(),i(),c(),f&&f()}}getProps(){const s=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:a=!1,dragPropagation:o=!1,dragConstraints:c=!1,dragElastic:l=defaultElastic,dragMomentum:f=!0}=s;return{...s,drag:i,dragDirectionLock:a,dragPropagation:o,dragConstraints:c,dragElastic:l,dragMomentum:f}}}function shouldDrag(n,s,i){return(s===!0||s===n)&&(i===null||i===n)}function getCurrentDirection(n,s=10){let i=null;return Math.abs(n.y)>s?i="y":Math.abs(n.x)>s&&(i="x"),i}class DragGesture extends Feature{constructor(s){super(s),this.removeGroupControls=noop,this.removeListeners=noop,this.controls=new VisualElementDragControls(s)}mount(){const{dragControls:s}=this.node.getProps();s&&(this.removeGroupControls=s.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=n=>(s,i)=>{n&&frame.postRender(()=>n(s,i))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop}onPointerDown(s){this.session=new PanSession(s,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:s,onPanStart:i,onPan:a,onPanEnd:o}=this.node.getProps();return{onSessionStart:asyncHandler(s),onStart:asyncHandler(i),onMove:a,onEnd:(c,l)=>{delete this.session,o&&frame.postRender(()=>o(c,l))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",s=>this.onPointerDown(s))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(n,s){return s.max===s.min?0:n/(s.max-s.min)*100}const correctBorderRadius={correct:(n,s)=>{if(!s.target)return n;if(typeof n=="string")if(px.test(n))n=parseFloat(n);else return n;const i=pixelsToPercent(n,s.target.x),a=pixelsToPercent(n,s.target.y);return`${i}% ${a}%`}},correctBoxShadow={correct:(n,{treeScale:s,projectionDelta:i})=>{const a=n,o=complex.parse(n);if(o.length>5)return a;const c=complex.createTransformer(n),l=typeof o[0]!="number"?1:0,f=i.x.scale*s.x,u=i.y.scale*s.y;o[0+l]/=f,o[1+l]/=u;const h=mixNumber$1(f,u,.5);return typeof o[2+l]=="number"&&(o[2+l]/=h),typeof o[3+l]=="number"&&(o[3+l]/=h),c(o)}};class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:s,layoutGroup:i,switchLayoutGroup:a,layoutId:o}=this.props,{projection:c}=s;addScaleCorrector(defaultScaleCorrectors),c&&(i.group&&i.group.add(c),a&&a.register&&o&&a.register(c),c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(s){const{layoutDependency:i,visualElement:a,drag:o,isPresent:c}=this.props,l=a.projection;return l&&(l.isPresent=c,o||s.layoutDependency!==i||i===void 0?l.willUpdate():this.safeToRemove(),s.isPresent!==c&&(c?l.promote():l.relegate()||frame.postRender(()=>{const f=l.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:s}=this.props.visualElement;s&&(s.root.didUpdate(),microtask.postRender(()=>{!s.currentAnimation&&s.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:s,layoutGroup:i,switchLayoutGroup:a}=this.props,{projection:o}=s;o&&(o.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(o),a&&a.deregister&&a.deregister(o))}safeToRemove(){const{safeToRemove:s}=this.props;s&&s()}render(){return null}}function MeasureLayout(n){const[s,i]=usePresence(),a=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{...n,layoutGroup:a,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:s,safeToRemove:i})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow};function animateSingleValue(n,s,i){const a=isMotionValue(n)?n:motionValue(n);return a.start(animateMotionValue("",a,s,i)),a.animation}function isSVGElement(n){return n instanceof SVGElement&&n.tagName!=="svg"}const compareByDepth=(n,s)=>n.depth-s.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(s){addUniqueItem(this.children,s),this.isDirty=!0}remove(s){removeItem(this.children,s),this.isDirty=!0}forEach(s){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(s)}}function delay(n,s){const i=time.now(),a=({timestamp:o})=>{const c=o-i;c>=s&&(cancelFrame(a),n(c-s))};return frame.read(a,!0),()=>cancelFrame(a)}const borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=n=>typeof n=="string"?parseFloat(n):n,isPx=n=>typeof n=="number"||px.test(n);function mixValues(n,s,i,a,o,c){o?(n.opacity=mixNumber$1(0,i.opacity!==void 0?i.opacity:1,easeCrossfadeIn(a)),n.opacityExit=mixNumber$1(s.opacity!==void 0?s.opacity:1,0,easeCrossfadeOut(a))):c&&(n.opacity=mixNumber$1(s.opacity!==void 0?s.opacity:1,i.opacity!==void 0?i.opacity:1,a));for(let l=0;l<numBorders;l++){const f=`border${borders[l]}Radius`;let u=getRadius(s,f),h=getRadius(i,f);if(u===void 0&&h===void 0)continue;u||(u=0),h||(h=0),u===0||h===0||isPx(u)===isPx(h)?(n[f]=Math.max(mixNumber$1(asNumber(u),asNumber(h),a),0),(percent.test(h)||percent.test(u))&&(n[f]+="%")):n[f]=h}(s.rotate||i.rotate)&&(n.rotate=mixNumber$1(s.rotate||0,i.rotate||0,a))}function getRadius(n,s){return n[s]!==void 0?n[s]:n.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop);function compress(n,s,i){return a=>a<n?0:a>s?1:i(progress(n,s,a))}function copyAxisInto(n,s){n.min=s.min,n.max=s.max}function copyBoxInto(n,s){copyAxisInto(n.x,s.x),copyAxisInto(n.y,s.y)}function copyAxisDeltaInto(n,s){n.translate=s.translate,n.scale=s.scale,n.originPoint=s.originPoint,n.origin=s.origin}function removePointDelta(n,s,i,a,o){return n-=s,n=scalePoint(n,1/i,a),o!==void 0&&(n=scalePoint(n,1/o,a)),n}function removeAxisDelta(n,s=0,i=1,a=.5,o,c=n,l=n){if(percent.test(s)&&(s=parseFloat(s),s=mixNumber$1(l.min,l.max,s/100)-l.min),typeof s!="number")return;let f=mixNumber$1(c.min,c.max,a);n===c&&(f-=s),n.min=removePointDelta(n.min,s,i,f,o),n.max=removePointDelta(n.max,s,i,f,o)}function removeAxisTransforms(n,s,[i,a,o],c,l){removeAxisDelta(n,s[i],s[a],s[o],s.scale,c,l)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(n,s,i,a){removeAxisTransforms(n.x,s,xKeys,i?i.x:void 0,a?a.x:void 0),removeAxisTransforms(n.y,s,yKeys,i?i.y:void 0,a?a.y:void 0)}function isAxisDeltaZero(n){return n.translate===0&&n.scale===1}function isDeltaZero(n){return isAxisDeltaZero(n.x)&&isAxisDeltaZero(n.y)}function axisEquals(n,s){return n.min===s.min&&n.max===s.max}function boxEquals(n,s){return axisEquals(n.x,s.x)&&axisEquals(n.y,s.y)}function axisEqualsRounded(n,s){return Math.round(n.min)===Math.round(s.min)&&Math.round(n.max)===Math.round(s.max)}function boxEqualsRounded(n,s){return axisEqualsRounded(n.x,s.x)&&axisEqualsRounded(n.y,s.y)}function aspectRatio(n){return calcLength(n.x)/calcLength(n.y)}function axisDeltaEquals(n,s){return n.translate===s.translate&&n.scale===s.scale&&n.originPoint===s.originPoint}class NodeStack{constructor(){this.members=[]}add(s){addUniqueItem(this.members,s),s.scheduleRender()}remove(s){if(removeItem(this.members,s),s===this.prevLead&&(this.prevLead=void 0),s===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(s){const i=this.members.findIndex(o=>s===o);if(i===0)return!1;let a;for(let o=i;o>=0;o--){const c=this.members[o];if(c.isPresent!==!1){a=c;break}}return a?(this.promote(a),!0):!1}promote(s,i){const a=this.lead;if(s!==a&&(this.prevLead=a,this.lead=s,s.show(),a)){a.instance&&a.scheduleRender(),s.scheduleRender(),s.resumeFrom=a,i&&(s.resumeFrom.preserveOpacity=!0),a.snapshot&&(s.snapshot=a.snapshot,s.snapshot.latestValues=a.animationValues||a.latestValues),s.root&&s.root.isUpdating&&(s.isLayoutDirty=!0);const{crossfade:o}=s.options;o===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(s=>{const{options:i,resumingFrom:a}=s;i.onExitComplete&&i.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(s=>{s.instance&&s.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(n,s,i){let a="";const o=n.x.translate/s.x,c=n.y.translate/s.y,l=(i==null?void 0:i.z)||0;if((o||c||l)&&(a=`translate3d(${o}px, ${c}px, ${l}px) `),(s.x!==1||s.y!==1)&&(a+=`scale(${1/s.x}, ${1/s.y}) `),i){const{transformPerspective:h,rotate:d,rotateX:g,rotateY:m,skewX:b,skewY:E}=i;h&&(a=`perspective(${h}px) ${a}`),d&&(a+=`rotate(${d}deg) `),g&&(a+=`rotateX(${g}deg) `),m&&(a+=`rotateY(${m}deg) `),b&&(a+=`skewX(${b}deg) `),E&&(a+=`skewY(${E}deg) `)}const f=n.x.scale*s.x,u=n.y.scale*s.y;return(f!==1||u!==1)&&(a+=`scale(${f}, ${u})`),a||"none"}const transformAxes=["","X","Y","Z"],hiddenVisibility={visibility:"hidden"},animationTarget=1e3;let id=0;function resetDistortingTransform(n,s,i,a){const{latestValues:o}=s;o[n]&&(i[n]=o[n],s.setStaticValue(n,0),a&&(a[n]=0))}function cancelTreeOptimisedTransformAnimations(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:s}=n.options;if(!s)return;const i=getOptimisedAppearId(s);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:o,layoutId:c}=n.options;window.MotionCancelOptimisedAnimation(i,"transform",frame,!(o||c))}const{parent:a}=n;a&&!a.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(a)}function createProjectionNode({attachResizeListener:n,defaultParent:s,measureScroll:i,checkIsScrollRoot:a,resetTransform:o}){return class{constructor(l={},f=s==null?void 0:s()){this.id=id++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(l,f){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new SubscriptionManager),this.eventHandlers.get(l).add(f)}notifyListeners(l,...f){const u=this.eventHandlers.get(l);u&&u.notify(...f)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,f=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement(l),this.instance=l;const{layoutId:u,layout:h,visualElement:d}=this.options;if(d&&!d.current&&d.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),f&&(h||u)&&(this.isLayoutDirty=!0),n){let g;const m=()=>this.root.updateBlockedByResize=!1;n(l,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=delay(m,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&d&&(u||h)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:m,hasRelativeLayoutChanged:b,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const P=this.options.transition||d.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:v,onLayoutAnimationComplete:x}=d.getProps(),T=!this.targetLayout||!boxEqualsRounded(this.targetLayout,E),y=!m&&b;if(this.options.layoutRoot||this.resumeFrom||y||m&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,y);const C={...getValueTransition(P,"layout"),onPlay:v,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else m||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const g=this.path[d];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:f,layout:u}=this.options;if(f===void 0&&!u)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots();const f=time.now();frameData.delta=clamp(0,1e3/60,f-frameData.timestamp),frameData.timestamp=f,frameData.isProcessing=!0,frameSteps.update.process(frameData),frameSteps.preRender.process(frameData),frameSteps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!calcLength(this.snapshot.measuredBox.x)&&!calcLength(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(f=!1),f){const u=a(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:u,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!o)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!isDeltaZero(this.projectionDelta),u=this.getTransformTemplate(),h=u?u(this.latestValues,""):void 0,d=h!==this.prevTransformTemplateValue;l&&(f||hasTransform(this.latestValues)||d)&&(o(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const f=this.measurePageBox();let u=this.removeElementScroll(f);return l&&(u=this.removeTransform(u)),roundBox(u),{animationId:this.root.animationId,measuredBox:f,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:f}=this.options;if(!f)return createBox();const u=f.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(checkNodeWasScrollRoot))){const{scroll:d}=this.root;d&&(translateAxis(u.x,d.offset.x),translateAxis(u.y,d.offset.y))}return u}removeElementScroll(l){var f;const u=createBox();if(copyBoxInto(u,l),!((f=this.scroll)===null||f===void 0)&&f.wasRoot)return u;for(let h=0;h<this.path.length;h++){const d=this.path[h],{scroll:g,options:m}=d;d!==this.root&&g&&m.layoutScroll&&(g.wasRoot&&copyBoxInto(u,l),translateAxis(u.x,g.offset.x),translateAxis(u.y,g.offset.y))}return u}applyTransform(l,f=!1){const u=createBox();copyBoxInto(u,l);for(let h=0;h<this.path.length;h++){const d=this.path[h];!f&&d.options.layoutScroll&&d.scroll&&d!==d.root&&transformBox(u,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),hasTransform(d.latestValues)&&transformBox(u,d.latestValues)}return hasTransform(this.latestValues)&&transformBox(u,this.latestValues),u}removeTransform(l){const f=createBox();copyBoxInto(f,l);for(let u=0;u<this.path.length;u++){const h=this.path[u];if(!h.instance||!hasTransform(h.latestValues))continue;hasScale(h.latestValues)&&h.updateSnapshot();const d=createBox(),g=h.measurePageBox();copyBoxInto(d,g),removeBoxTransforms(f,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,d)}return hasTransform(this.latestValues)&&removeBoxTransforms(f,this.latestValues),f}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var f;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||!((f=this.parent)===null||f===void 0)&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:m}=this.options;if(!(!this.layout||!(g||m))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,b.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const f=this.getLead(),u=!!this.resumingFrom||this!==f;let h=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(h=!1),h)return;const{layout:d,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||g))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,b=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,u),f.layout&&!f.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(f.target=f.layout.layoutBox,f.targetWithTransforms=createBox());const{target:E}=f;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==b||!axisDeltaEquals(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var f;if((f=this.options.visualElement)===null||f===void 0||f.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta(),this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta()}setAnimationOrigin(l,f=!1){const u=this.snapshot,h=u?u.latestValues:{},d={...this.latestValues},g=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const m=createBox(),b=u?u.source:void 0,E=this.layout?this.layout.source:void 0,P=b!==E,v=this.getStack(),x=!v||v.members.length<=1,T=!!(P&&!x&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let y;this.mixTargetDelta=C=>{const p=C/1e3;mixAxisDelta(g.x,l.x,p),mixAxisDelta(g.y,l.y,p),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,m,p),y&&boxEquals(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=createBox()),copyBoxInto(y,this.relativeTarget)),P&&(this.animationValues=d,mixValues(d,h,this.latestValues,p,T,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=p},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue(0,animationTarget,{...l,onUpdate:f=>{this.mixTargetDelta(f),l.onUpdate&&l.onUpdate(f)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:f,target:u,layout:h,latestValues:d}=l;if(!(!f||!u||!h)){if(this!==l&&this.layout&&h&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,h.layoutBox)){u=this.target||createBox();const g=calcLength(this.layout.layoutBox.x);u.x.min=l.target.x.min,u.x.max=u.x.min+g;const m=calcLength(this.layout.layoutBox.y);u.y.min=l.target.y.min,u.y.max=u.y.min+m}copyBoxInto(f,u),transformBox(f,d),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,f,d)}}registerSharedNode(l,f){this.sharedNodes.has(l)||this.sharedNodes.set(l,new NodeStack),this.sharedNodes.get(l).add(f);const h=f.options.initialPromotionConfig;f.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(f):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:f}=this.options;return f?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:f}=this.options;return f?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:f,preserveFollowOpacity:u}={}){const h=this.getStack();h&&h.promote(this,u),l&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let f=!1;const{latestValues:u}=l;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(f=!0),!f)return;const h={};u.z&&resetDistortingTransform("z",l,h,this.animationValues);for(let d=0;d<transformAxes.length;d++)resetDistortingTransform(`rotate${transformAxes[d]}`,l,h,this.animationValues),resetDistortingTransform(`skew${transformAxes[d]}`,l,h,this.animationValues);l.render();for(const d in h)l.setStaticValue(d,h[d]),this.animationValues&&(this.animationValues[d]=h[d]);l.scheduleRender()}getProjectionStyles(l){var f,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility;const h={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=resolveMotionValue(l==null?void 0:l.pointerEvents)||"",h.transform=d?d(this.latestValues,""):"none",h;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const P={};return this.options.layoutId&&(P.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,P.pointerEvents=resolveMotionValue(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(P.transform=d?d({},""):"none",this.hasProjected=!1),P}const m=g.animationValues||g.latestValues;this.applyTransformsToTarget(),h.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,m),d&&(h.transform=d(m,h.transform));const{x:b,y:E}=this.projectionDelta;h.transformOrigin=`${b.origin*100}% ${E.origin*100}% 0`,g.animationValues?h.opacity=g===this?(u=(f=m.opacity)!==null&&f!==void 0?f:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:h.opacity=g===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const P in scaleCorrectors){if(m[P]===void 0)continue;const{correct:v,applyTo:x,isCSSVariable:T}=scaleCorrectors[P],y=h.transform==="none"?m[P]:v(m[P],g);if(x){const C=x.length;for(let p=0;p<C;p++)h[x[p]]=y}else T?this.options.visualElement.renderState.vars[P]=y:h[P]=y}return this.options.layoutId&&(h.pointerEvents=g===this?resolveMotionValue(l==null?void 0:l.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var f;return(f=l.currentAnimation)===null||f===void 0?void 0:f.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(n){n.updateLayout()}function notifyLayoutUpdate(n){var s;const i=((s=n.resumeFrom)===null||s===void 0?void 0:s.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&i&&n.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:o}=n.layout,{animationType:c}=n.options,l=i.source!==n.layout.source;c==="size"?eachAxis(g=>{const m=l?i.measuredBox[g]:i.layoutBox[g],b=calcLength(m);m.min=a[g].min,m.max=m.min+b}):shouldAnimatePositionOnly(c,i.layoutBox,a)&&eachAxis(g=>{const m=l?i.measuredBox[g]:i.layoutBox[g],b=calcLength(a[g]);m.max=m.min+b,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[g].max=n.relativeTarget[g].min+b)});const f=createDelta();calcBoxDelta(f,a,i.layoutBox);const u=createDelta();l?calcBoxDelta(u,n.applyTransform(o,!0),i.measuredBox):calcBoxDelta(u,a,i.layoutBox);const h=!isDeltaZero(f);let d=!1;if(!n.resumeFrom){const g=n.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:m,layout:b}=g;if(m&&b){const E=createBox();calcRelativePosition(E,i.layoutBox,m.layoutBox);const P=createBox();calcRelativePosition(P,a,b.layoutBox),boxEqualsRounded(E,P)||(d=!0),g.options.layoutRoot&&(n.relativeTarget=P,n.relativeTargetOrigin=E,n.relativeParent=g)}}}n.notifyListeners("didUpdate",{layout:a,snapshot:i,delta:u,layoutDelta:f,hasLayoutChanged:h,hasRelativeLayoutChanged:d})}else if(n.isLead()){const{onExitComplete:a}=n.options;a&&a()}n.options.transition=void 0}function propagateDirtyNodes(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function cleanDirtyNodes(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function clearSnapshot(n){n.clearSnapshot()}function clearMeasurements(n){n.clearMeasurements()}function clearIsLayoutDirty(n){n.isLayoutDirty=!1}function resetTransformStyle(n){const{visualElement:s}=n.options;s&&s.getProps().onBeforeLayoutMeasure&&s.notify("BeforeLayoutMeasure"),n.resetTransform()}function finishAnimation(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function resolveTargetDelta(n){n.resolveTargetDelta()}function calcProjection(n){n.calcProjection()}function resetSkewAndRotation(n){n.resetSkewAndRotation()}function removeLeadSnapshots(n){n.removeLeadSnapshot()}function mixAxisDelta(n,s,i){n.translate=mixNumber$1(s.translate,0,i),n.scale=mixNumber$1(s.scale,1,i),n.origin=s.origin,n.originPoint=s.originPoint}function mixAxis(n,s,i,a){n.min=mixNumber$1(s.min,i.min,a),n.max=mixNumber$1(s.max,i.max,a)}function mixBox(n,s,i,a){mixAxis(n.x,s.x,i.x,a),mixAxis(n.y,s.y,i.y,a)}function hasOpacityCrossfade(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop;function roundAxis(n){n.min=roundPoint(n.min),n.max=roundPoint(n.max)}function roundBox(n){roundAxis(n.x),roundAxis(n.y)}function shouldAnimatePositionOnly(n,s,i){return n==="position"||n==="preserve-aspect"&&!isNear(aspectRatio(s),aspectRatio(i),.2)}function checkNodeWasScrollRoot(n){var s;return n!==n.root&&((s=n.scroll)===null||s===void 0?void 0:s.wasRoot)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(n,s)=>addDomEvent(n,"resize",s),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const n=new DocumentProjectionNode({});n.mount(window),n.setOptions({layoutScroll:!0}),rootProjectionNode.current=n}return rootProjectionNode.current},resetTransform:(n,s)=>{n.style.transform=s!==void 0?s:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}};function handleHoverEvent(n,s,i){const{props:a}=n;n.animationState&&a.whileHover&&n.animationState.setActive("whileHover",i==="Start");const o="onHover"+i,c=a[o];c&&frame.postRender(()=>c(s,extractEventInfo(s)))}class HoverGesture extends Feature{mount(){const{current:s}=this.node;s&&(this.unmount=hover(s,(i,a)=>(handleHoverEvent(this.node,a,"Start"),o=>handleHoverEvent(this.node,o,"End"))))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let s=!1;try{s=this.node.current.matches(":focus-visible")}catch{s=!0}!s||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function handlePressEvent(n,s,i){const{props:a}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&a.whileTap&&n.animationState.setActive("whileTap",i==="Start");const o="onTap"+(i==="End"?"":i),c=a[o];c&&frame.postRender(()=>c(s,extractEventInfo(s)))}class PressGesture extends Feature{mount(){const{current:s}=this.node;s&&(this.unmount=press(s,(i,a)=>(handlePressEvent(this.node,a,"Start"),(o,{success:c})=>handlePressEvent(this.node,o,c?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=n=>{const s=observerCallbacks.get(n.target);s&&s(n)},fireAllObserverCallbacks=n=>{n.forEach(fireObserverCallback)};function initIntersectionObserver({root:n,...s}){const i=n||document;observers.has(i)||observers.set(i,{});const a=observers.get(i),o=JSON.stringify(s);return a[o]||(a[o]=new IntersectionObserver(fireAllObserverCallbacks,{root:n,...s})),a[o]}function observeIntersection(n,s,i){const a=initIntersectionObserver(s);return observerCallbacks.set(n,i),a.observe(n),()=>{observerCallbacks.delete(n),a.unobserve(n)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:s={}}=this.node.getProps(),{root:i,margin:a,amount:o="some",once:c}=s,l={root:i?i.current:void 0,rootMargin:a,threshold:typeof o=="number"?o:thresholdNames[o]},f=u=>{const{isIntersecting:h}=u;if(this.isInView===h||(this.isInView=h,c&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:d,onViewportLeave:g}=this.node.getProps(),m=h?d:g;m&&m(u)};return observeIntersection(this.node.current,l,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:s,prevProps:i}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(s,i))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:n={}},{viewport:s={}}={}){return i=>n[i]!==s[i]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}},layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser$1)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),s=()=>prefersReducedMotion.current=n.matches;n.addListener(s),s()}else prefersReducedMotion.current=!1}const valueTypes=[...dimensionValueTypes,color,complex],findValueType=n=>valueTypes.find(testValueType(n)),visualElementStore=new WeakMap;function updateMotionValuesFromProps(n,s,i){for(const a in s){const o=s[a],c=i[a];if(isMotionValue(o))n.addValue(a,o);else if(isMotionValue(c))n.addValue(a,motionValue(o,{owner:n}));else if(c!==o)if(n.hasValue(a)){const l=n.getValue(a);l.liveStyle===!0?l.jump(o):l.hasAnimated||l.set(o)}else{const l=n.getStaticValue(a);n.addValue(a,motionValue(l!==void 0?l:o,{owner:n}))}}for(const a in i)s[a]===void 0&&n.removeValue(a);return s}const propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VisualElement{scrapeMotionValuesFromProps(s,i,a){return{}}constructor({parent:s,props:i,presenceContext:a,reducedMotionConfig:o,blockInitialAnimation:c,visualState:l},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=time.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,frame.render(this.render,!1,!0))};const{latestValues:u,renderState:h,onUpdate:d}=l;this.onUpdate=d,this.latestValues=u,this.baseTarget={...u},this.initialValues=i.initial?{...u}:{},this.renderState=h,this.parent=s,this.props=i,this.presenceContext=a,this.depth=s?s.depth+1:0,this.reducedMotionConfig=o,this.options=f,this.blockInitialAnimation=!!c,this.isControllingVariants=isControllingVariants(i),this.isVariantNode=isVariantNode(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(s&&s.current);const{willChange:g,...m}=this.scrapeMotionValuesFromProps(i,{},this);for(const b in m){const E=m[b];u[b]!==void 0&&isMotionValue(E)&&E.set(u[b],!1)}}mount(s){this.current=s,visualElementStore.set(s,this),this.projection&&!this.projection.instance&&this.projection.mount(s),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,a)=>this.bindToMotionValue(a,i)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const i=this.features[s];i&&(i.unmount(),i.isMounted=!1)}this.current=null}bindToMotionValue(s,i){this.valueSubscriptions.has(s)&&this.valueSubscriptions.get(s)();const a=transformProps.has(s);a&&this.onBindTransform&&this.onBindTransform();const o=i.on("change",f=>{this.latestValues[s]=f,this.props.onUpdate&&frame.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0)}),c=i.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,s,i)),this.valueSubscriptions.set(s,()=>{o(),c(),l&&l(),i.owner&&i.stop()})}sortNodePosition(s){return!this.current||!this.sortInstanceNodePosition||this.type!==s.type?0:this.sortInstanceNodePosition(this.current,s.current)}updateFeatures(){let s="animation";for(s in featureDefinitions){const i=featureDefinitions[s];if(!i)continue;const{isEnabled:a,Feature:o}=i;if(!this.features[s]&&o&&a(this.props)&&(this.features[s]=new o(this)),this.features[s]){const c=this.features[s];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(s){return this.latestValues[s]}setStaticValue(s,i){this.latestValues[s]=i}update(s,i){(s.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=s,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let a=0;a<propEventHandlers.length;a++){const o=propEventHandlers[a];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const c="on"+o,l=s[c];l&&(this.propEventSubscriptions[o]=this.on(o,l))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(s,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(s){return this.props.variants?this.props.variants[s]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(s){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(s),()=>i.variantChildren.delete(s)}addValue(s,i){const a=this.values.get(s);i!==a&&(a&&this.removeValue(s),this.bindToMotionValue(s,i),this.values.set(s,i),this.latestValues[s]=i.get())}removeValue(s){this.values.delete(s);const i=this.valueSubscriptions.get(s);i&&(i(),this.valueSubscriptions.delete(s)),delete this.latestValues[s],this.removeValueFromRenderState(s,this.renderState)}hasValue(s){return this.values.has(s)}getValue(s,i){if(this.props.values&&this.props.values[s])return this.props.values[s];let a=this.values.get(s);return a===void 0&&i!==void 0&&(a=motionValue(i===null?void 0:i,{owner:this}),this.addValue(s,a)),a}readValue(s,i){var a;let o=this.latestValues[s]!==void 0||!this.current?this.latestValues[s]:(a=this.getBaseTargetFromProps(this.props,s))!==null&&a!==void 0?a:this.readValueFromInstance(this.current,s,this.options);return o!=null&&(typeof o=="string"&&(isNumericalString(o)||isZeroValueString(o))?o=parseFloat(o):!findValueType(o)&&complex.test(i)&&(o=getAnimatableNone(s,i)),this.setBaseTarget(s,isMotionValue(o)?o.get():o)),isMotionValue(o)?o.get():o}setBaseTarget(s,i){this.baseTarget[s]=i}getBaseTarget(s){var i;const{initial:a}=this.props;let o;if(typeof a=="string"||typeof a=="object"){const l=resolveVariantFromProps(this.props,a,(i=this.presenceContext)===null||i===void 0?void 0:i.custom);l&&(o=l[s])}if(a&&o!==void 0)return o;const c=this.getBaseTargetFromProps(this.props,s);return c!==void 0&&!isMotionValue(c)?c:this.initialValues[s]!==void 0&&o===void 0?void 0:this.baseTarget[s]}on(s,i){return this.events[s]||(this.events[s]=new SubscriptionManager),this.events[s].add(i)}notify(s,...i){this.events[s]&&this.events[s].notify(...i)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(s,i){return s.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(s,i){return s.style?s.style[i]:void 0}removeValueFromRenderState(s,{vars:i,style:a}){delete i[s],delete a[s]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:s}=this.props;isMotionValue(s)&&(this.childSubscription=s.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function getComputedStyle$1(n){return window.getComputedStyle(n)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html",this.renderInstance=renderHTML}readValueFromInstance(s,i){if(transformProps.has(i)){const a=getDefaultValueType(i);return a&&a.default||0}else{const a=getComputedStyle$1(s),o=(isCSSVariableName(i)?a.getPropertyValue(i):a[i])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(s,{transformPagePoint:i}){return measureViewportBox(s,i)}build(s,i,a){buildHTMLStyles(s,i,a.transformTemplate)}scrapeMotionValuesFromProps(s,i,a){return scrapeMotionValuesFromProps$1(s,i,a)}}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&updateSVGDimensions(this.current,this.renderState)}}getBaseTargetFromProps(s,i){return s[i]}readValueFromInstance(s,i){if(transformProps.has(i)){const a=getDefaultValueType(i);return a&&a.default||0}return i=camelCaseAttributes.has(i)?i:camelToDash(i),s.getAttribute(i)}scrapeMotionValuesFromProps(s,i,a){return scrapeMotionValuesFromProps(s,i,a)}onBindTransform(){this.current&&!this.renderState.dimensions&&frame.postRender(this.updateDimensions)}build(s,i,a){buildSVGAttrs(s,i,this.isSVGTag,a.transformTemplate)}renderInstance(s,i,a,o){renderSVG(s,i,a,o)}mount(s){this.isSVGTag=isSVGTag(s.tagName),super.mount(s)}}const createDomVisualElement=(n,s)=>isSVGComponent(n)?new SVGVisualElement(s):new HTMLVisualElement(s,{allowProjection:n!==reactExports.Fragment}),createMotionComponent=createMotionComponentFactory({...animations,...gestureAnimations,...drag,...layout},createDomVisualElement),motion=createDOMMotionComponentProxy(createMotionComponent);function commonjsRequire(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredPdf;function requirePdf(){return hasRequiredPdf||(hasRequiredPdf=1,function(module,exports){(function(s,i){module.exports=i()})(globalThis,()=>(()=>{var __webpack_modules__=[,(n,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.VerbosityLevel=s.Util=s.UnknownErrorException=s.UnexpectedResponseException=s.UNSUPPORTED_FEATURES=s.TextRenderingMode=s.RenderingIntentFlag=s.PermissionFlag=s.PasswordResponses=s.PasswordException=s.PageActionEventType=s.OPS=s.MissingPDFException=s.LINE_FACTOR=s.LINE_DESCENT_FACTOR=s.InvalidPDFException=s.ImageKind=s.IDENTITY_MATRIX=s.FormatError=s.FeatureTest=s.FONT_IDENTITY_MATRIX=s.DocumentActionEventType=s.CMapCompressionType=s.BaseException=s.BASELINE_FACTOR=s.AnnotationType=s.AnnotationStateModelType=s.AnnotationReviewState=s.AnnotationReplyType=s.AnnotationMode=s.AnnotationMarkedState=s.AnnotationFlag=s.AnnotationFieldFlag=s.AnnotationEditorType=s.AnnotationEditorPrefix=s.AnnotationEditorParamsType=s.AnnotationBorderStyleType=s.AnnotationActionEventType=s.AbortException=void 0,s.assert=j,s.bytesToString=M,s.createPromiseCapability=Pt,s.createValidAbsoluteUrl=_,s.getModificationDate=Et,s.getVerbosityLevel=G,s.info=W,s.isArrayBuffer=xt,s.isArrayEqual=At,s.objectFromMap=H,s.objectSize=D,s.setVerbosityLevel=tt,s.shadow=I,s.string32=O,s.stringToBytes=$,s.stringToPDFString=ht,s.stringToUTF8String=pt,s.unreachable=ct,s.utf8StringToString=yt,s.warn=at;const i=[1,0,0,1,0,0];s.IDENTITY_MATRIX=i;const a=[.001,0,0,.001,0,0];s.FONT_IDENTITY_MATRIX=a;const o=1.35;s.LINE_FACTOR=o;const c=.35;s.LINE_DESCENT_FACTOR=c;const l=c/o;s.BASELINE_FACTOR=l;const f={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};s.RenderingIntentFlag=f;const u={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};s.AnnotationMode=u;const h="pdfjs_internal_editor_";s.AnnotationEditorPrefix=h;const d={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};s.AnnotationEditorType=d;const g={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};s.AnnotationEditorParamsType=g;const m={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};s.PermissionFlag=m;const b={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};s.TextRenderingMode=b;const E={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};s.ImageKind=E;const P={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};s.AnnotationType=P;const v={MARKED:"Marked",REVIEW:"Review"};s.AnnotationStateModelType=v;const x={MARKED:"Marked",UNMARKED:"Unmarked"};s.AnnotationMarkedState=x;const T={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};s.AnnotationReviewState=T;const y={GROUP:"Group",REPLY:"R"};s.AnnotationReplyType=y;const C={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};s.AnnotationFlag=C;const p={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};s.AnnotationFieldFlag=p;const A={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};s.AnnotationBorderStyleType=A;const R={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};s.AnnotationActionEventType=R;const S={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};s.DocumentActionEventType=S;const L={O:"PageOpen",C:"PageClose"};s.PageActionEventType=L;const V={ERRORS:0,WARNINGS:1,INFOS:5};s.VerbosityLevel=V;const X={NONE:0,BINARY:1};s.CMapCompressionType=X;const it={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};s.OPS=it;const gt={forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};s.UNSUPPORTED_FEATURES=gt;const K={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};s.PasswordResponses=K;let lt=V.WARNINGS;function tt(dt){Number.isInteger(dt)&&(lt=dt)}function G(){return lt}function W(dt){lt>=V.INFOS&&console.log(`Info: ${dt}`)}function at(dt){lt>=V.WARNINGS&&console.log(`Warning: ${dt}`)}function ct(dt){throw new Error(dt)}function j(dt,nt){dt||ct(nt)}function k(dt){if(!dt)return!1;switch(dt.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function _(dt,nt=null,et=null){if(!dt)return null;try{if(et&&typeof dt=="string"){if(et.addDefaultProtocol&&dt.startsWith("www.")){const St=dt.match(/\./g);St&&St.length>=2&&(dt=`http://${dt}`)}if(et.tryConvertEncoding)try{dt=pt(dt)}catch{}}const bt=nt?new URL(dt,nt):new URL(dt);if(k(bt))return bt}catch{}return null}function I(dt,nt,et,bt=!1){return Object.defineProperty(dt,nt,{value:et,enumerable:!bt,configurable:!0,writable:!1}),et}const U=function(){function nt(et,bt){this.constructor===nt&&ct("Cannot initialize BaseException."),this.message=et,this.name=bt}return nt.prototype=new Error,nt.constructor=nt,nt}();s.BaseException=U;class z extends U{constructor(nt,et){super(nt,"PasswordException"),this.code=et}}s.PasswordException=z;class N extends U{constructor(nt,et){super(nt,"UnknownErrorException"),this.details=et}}s.UnknownErrorException=N;class Z extends U{constructor(nt){super(nt,"InvalidPDFException")}}s.InvalidPDFException=Z;class rt extends U{constructor(nt){super(nt,"MissingPDFException")}}s.MissingPDFException=rt;class ut extends U{constructor(nt,et){super(nt,"UnexpectedResponseException"),this.status=et}}s.UnexpectedResponseException=ut;class st extends U{constructor(nt){super(nt,"FormatError")}}s.FormatError=st;class w extends U{constructor(nt){super(nt,"AbortException")}}s.AbortException=w;function M(dt){(typeof dt!="object"||dt===null||dt.length===void 0)&&ct("Invalid argument for bytesToString");const nt=dt.length,et=8192;if(nt<et)return String.fromCharCode.apply(null,dt);const bt=[];for(let St=0;St<nt;St+=et){const Tt=Math.min(St+et,nt),wt=dt.subarray(St,Tt);bt.push(String.fromCharCode.apply(null,wt))}return bt.join("")}function $(dt){typeof dt!="string"&&ct("Invalid argument for stringToBytes");const nt=dt.length,et=new Uint8Array(nt);for(let bt=0;bt<nt;++bt)et[bt]=dt.charCodeAt(bt)&255;return et}function O(dt){return String.fromCharCode(dt>>24&255,dt>>16&255,dt>>8&255,dt&255)}function D(dt){return Object.keys(dt).length}function H(dt){const nt=Object.create(null);for(const[et,bt]of dt)nt[et]=bt;return nt}function Y(){const dt=new Uint8Array(4);return dt[0]=1,new Uint32Array(dt.buffer,0,1)[0]===1}function Q(){try{return new Function(""),!0}catch{return!1}}class ot{static get isLittleEndian(){return I(this,"isLittleEndian",Y())}static get isEvalSupported(){return I(this,"isEvalSupported",Q())}static get isOffscreenCanvasSupported(){return I(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?I(this,"platform",{isWin:!1,isMac:!1}):I(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}}s.FeatureTest=ot;const B=[...Array(256).keys()].map(dt=>dt.toString(16).padStart(2,"0"));class J{static makeHexColor(nt,et,bt){return`#${B[nt]}${B[et]}${B[bt]}`}static scaleMinMax(nt,et){let bt;nt[0]?(nt[0]<0&&(bt=et[0],et[0]=et[1],et[1]=bt),et[0]*=nt[0],et[1]*=nt[0],nt[3]<0&&(bt=et[2],et[2]=et[3],et[3]=bt),et[2]*=nt[3],et[3]*=nt[3]):(bt=et[0],et[0]=et[2],et[2]=bt,bt=et[1],et[1]=et[3],et[3]=bt,nt[1]<0&&(bt=et[2],et[2]=et[3],et[3]=bt),et[2]*=nt[1],et[3]*=nt[1],nt[2]<0&&(bt=et[0],et[0]=et[1],et[1]=bt),et[0]*=nt[2],et[1]*=nt[2]),et[0]+=nt[4],et[1]+=nt[4],et[2]+=nt[5],et[3]+=nt[5]}static transform(nt,et){return[nt[0]*et[0]+nt[2]*et[1],nt[1]*et[0]+nt[3]*et[1],nt[0]*et[2]+nt[2]*et[3],nt[1]*et[2]+nt[3]*et[3],nt[0]*et[4]+nt[2]*et[5]+nt[4],nt[1]*et[4]+nt[3]*et[5]+nt[5]]}static applyTransform(nt,et){const bt=nt[0]*et[0]+nt[1]*et[2]+et[4],St=nt[0]*et[1]+nt[1]*et[3]+et[5];return[bt,St]}static applyInverseTransform(nt,et){const bt=et[0]*et[3]-et[1]*et[2],St=(nt[0]*et[3]-nt[1]*et[2]+et[2]*et[5]-et[4]*et[3])/bt,Tt=(-nt[0]*et[1]+nt[1]*et[0]+et[4]*et[1]-et[5]*et[0])/bt;return[St,Tt]}static getAxialAlignedBoundingBox(nt,et){const bt=J.applyTransform(nt,et),St=J.applyTransform(nt.slice(2,4),et),Tt=J.applyTransform([nt[0],nt[3]],et),wt=J.applyTransform([nt[2],nt[1]],et);return[Math.min(bt[0],St[0],Tt[0],wt[0]),Math.min(bt[1],St[1],Tt[1],wt[1]),Math.max(bt[0],St[0],Tt[0],wt[0]),Math.max(bt[1],St[1],Tt[1],wt[1])]}static inverseTransform(nt){const et=nt[0]*nt[3]-nt[1]*nt[2];return[nt[3]/et,-nt[1]/et,-nt[2]/et,nt[0]/et,(nt[2]*nt[5]-nt[4]*nt[3])/et,(nt[4]*nt[1]-nt[5]*nt[0])/et]}static singularValueDecompose2dScale(nt){const et=[nt[0],nt[2],nt[1],nt[3]],bt=nt[0]*et[0]+nt[1]*et[2],St=nt[0]*et[1]+nt[1]*et[3],Tt=nt[2]*et[0]+nt[3]*et[2],wt=nt[2]*et[1]+nt[3]*et[3],Dt=(bt+wt)/2,Lt=Math.sqrt((bt+wt)**2-4*(bt*wt-Tt*St))/2,Ft=Dt+Lt||1,Rt=Dt-Lt||1;return[Math.sqrt(Ft),Math.sqrt(Rt)]}static normalizeRect(nt){const et=nt.slice(0);return nt[0]>nt[2]&&(et[0]=nt[2],et[2]=nt[0]),nt[1]>nt[3]&&(et[1]=nt[3],et[3]=nt[1]),et}static intersect(nt,et){const bt=Math.max(Math.min(nt[0],nt[2]),Math.min(et[0],et[2])),St=Math.min(Math.max(nt[0],nt[2]),Math.max(et[0],et[2]));if(bt>St)return null;const Tt=Math.max(Math.min(nt[1],nt[3]),Math.min(et[1],et[3])),wt=Math.min(Math.max(nt[1],nt[3]),Math.max(et[1],et[3]));return Tt>wt?null:[bt,Tt,St,wt]}static bezierBoundingBox(nt,et,bt,St,Tt,wt,Dt,Lt){const Ft=[],Rt=[[],[]];let Vt,$t,zt,_t,Gt,qt,Qt,Zt;for(let te=0;te<2;++te){if(te===0?($t=6*nt-12*bt+6*Tt,Vt=-3*nt+9*bt-9*Tt+3*Dt,zt=3*bt-3*nt):($t=6*et-12*St+6*wt,Vt=-3*et+9*St-9*wt+3*Lt,zt=3*St-3*et),Math.abs(Vt)<1e-12){if(Math.abs($t)<1e-12)continue;_t=-zt/$t,0<_t&&_t<1&&Ft.push(_t);continue}Qt=$t*$t-4*zt*Vt,Zt=Math.sqrt(Qt),!(Qt<0)&&(Gt=(-$t+Zt)/(2*Vt),0<Gt&&Gt<1&&Ft.push(Gt),qt=(-$t-Zt)/(2*Vt),0<qt&&qt<1&&Ft.push(qt))}let Bt=Ft.length,Mt;const Ut=Bt;for(;Bt--;)_t=Ft[Bt],Mt=1-_t,Rt[0][Bt]=Mt*Mt*Mt*nt+3*Mt*Mt*_t*bt+3*Mt*_t*_t*Tt+_t*_t*_t*Dt,Rt[1][Bt]=Mt*Mt*Mt*et+3*Mt*Mt*_t*St+3*Mt*_t*_t*wt+_t*_t*_t*Lt;return Rt[0][Ut]=nt,Rt[1][Ut]=et,Rt[0][Ut+1]=Dt,Rt[1][Ut+1]=Lt,Rt[0].length=Rt[1].length=Ut+2,[Math.min(...Rt[0]),Math.min(...Rt[1]),Math.max(...Rt[0]),Math.max(...Rt[1])]}}s.Util=J;const q=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function ht(dt){if(dt[0]>="Ã¯"){let et;if(dt[0]==="Ã¾"&&dt[1]==="Ã¿"?et="utf-16be":dt[0]==="Ã¿"&&dt[1]==="Ã¾"?et="utf-16le":dt[0]==="Ã¯"&&dt[1]==="Â»"&&dt[2]==="Â¿"&&(et="utf-8"),et)try{const bt=new TextDecoder(et,{fatal:!0}),St=$(dt);return bt.decode(St)}catch(bt){at(`stringToPDFString: "${bt}".`)}}const nt=[];for(let et=0,bt=dt.length;et<bt;et++){const St=q[dt.charCodeAt(et)];nt.push(St?String.fromCharCode(St):dt.charAt(et))}return nt.join("")}function pt(dt){return decodeURIComponent(escape(dt))}function yt(dt){return unescape(encodeURIComponent(dt))}function xt(dt){return typeof dt=="object"&&dt!==null&&dt.byteLength!==void 0}function At(dt,nt){if(dt.length!==nt.length)return!1;for(let et=0,bt=dt.length;et<bt;et++)if(dt[et]!==nt[et])return!1;return!0}function Et(dt=new Date){return[dt.getUTCFullYear().toString(),(dt.getUTCMonth()+1).toString().padStart(2,"0"),dt.getUTCDate().toString().padStart(2,"0"),dt.getUTCHours().toString().padStart(2,"0"),dt.getUTCMinutes().toString().padStart(2,"0"),dt.getUTCSeconds().toString().padStart(2,"0")].join("")}function Pt(){const dt=Object.create(null);let nt=!1;return Object.defineProperty(dt,"settled",{get(){return nt}}),dt.promise=new Promise(function(et,bt){dt.resolve=function(St){nt=!0,et(St)},dt.reject=function(St){nt=!0,bt(St)}}),dt}},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var n,s,a,o,c,l,f,u,h,d,se,m,b,ie,P,v;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_is_node=__w_pdfjs_require__(10),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_xfa_text=__w_pdfjs_require__(19);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:T,NodeCMapReaderFactory:y,NodeStandardFontDataFactory:C}=__w_pdfjs_require__(20);exports.DefaultCanvasFactory=DefaultCanvasFactory=T,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=y,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=C}let createPDFNetworkStream;if(_is_node.isNodeJS){const{PDFNodeStream:T}=__w_pdfjs_require__(21);createPDFNetworkStream=y=>new T(y)}else{const{PDFNetworkStream:T}=__w_pdfjs_require__(24),{PDFFetchStream:y}=__w_pdfjs_require__(25);createPDFNetworkStream=C=>(0,_display_utils.isValidFetchUrl)(C.url)?new y(C):new T(C)}function getDocument(T){if(typeof T=="string"||T instanceof URL)T={url:T};else if((0,_util.isArrayBuffer)(T))T={data:T};else if(T instanceof PDFDataRangeTransport)(0,_display_utils.deprecated)("`PDFDataRangeTransport`-instance, please use a parameter object with `range`-property instead."),T={range:T};else if(typeof T!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!T.url&&!T.data&&!T.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const y=new PDFDocumentLoadingTask,C=T.url?getUrlProp(T.url):null,p=T.data?getDataProp(T.data):null,A=T.httpHeaders||null,R=T.withCredentials===!0,S=T.password??null,L=T.range instanceof PDFDataRangeTransport?T.range:null,V=Number.isInteger(T.rangeChunkSize)&&T.rangeChunkSize>0?T.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let X=T.worker instanceof PDFWorker?T.worker:null;const it=T.verbosity,gt=typeof T.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(T.docBaseUrl)?T.docBaseUrl:null,K=typeof T.cMapUrl=="string"?T.cMapUrl:null,lt=T.cMapPacked!==!1,tt=T.CMapReaderFactory||DefaultCMapReaderFactory,G=typeof T.standardFontDataUrl=="string"?T.standardFontDataUrl:null,W=T.StandardFontDataFactory||DefaultStandardFontDataFactory,at=T.stopAtErrors!==!0,ct=Number.isInteger(T.maxImageSize)&&T.maxImageSize>-1?T.maxImageSize:-1,j=T.isEvalSupported!==!1,k=typeof T.isOffscreenCanvasSupported=="boolean"?T.isOffscreenCanvasSupported:!_is_node.isNodeJS,_=typeof T.disableFontFace=="boolean"?T.disableFontFace:_is_node.isNodeJS,I=T.fontExtraProperties===!0,U=T.enableXfa===!0,z=T.ownerDocument||globalThis.document,N=T.disableRange===!0,Z=T.disableStream===!0,rt=T.disableAutoFetch===!0,ut=T.pdfBug===!0,st=L?L.length:T.length??NaN,w=typeof T.useSystemFonts=="boolean"?T.useSystemFonts:!_is_node.isNodeJS&&!_,M=typeof T.useWorkerFetch=="boolean"?T.useWorkerFetch:tt===_display_utils.DOMCMapReaderFactory&&W===_display_utils.DOMStandardFontDataFactory&&(0,_display_utils.isValidFetchUrl)(K,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(G,document.baseURI),$=null;(0,_util.setVerbosityLevel)(it);const O=M?null:{cMapReaderFactory:new tt({baseUrl:K,isCompressed:lt}),standardFontDataFactory:new W({baseUrl:G})};if(!X){const Q={verbosity:it,port:_worker_options.GlobalWorkerOptions.workerPort};X=Q.port?PDFWorker.fromPort(Q):new PDFWorker(Q),y._worker=X}const D=y.docId,H={docId:D,apiVersion:"3.4.120",data:p,password:S,disableAutoFetch:rt,rangeChunkSize:V,length:st,docBaseUrl:gt,enableXfa:U,evaluatorOptions:{maxImageSize:ct,disableFontFace:_,ignoreErrors:at,isEvalSupported:j,isOffscreenCanvasSupported:k,fontExtraProperties:I,useSystemFonts:w,cMapUrl:M?K:null,standardFontDataUrl:M?G:null}},Y={ignoreErrors:at,isEvalSupported:j,disableFontFace:_,fontExtraProperties:I,enableXfa:U,ownerDocument:z,disableAutoFetch:rt,pdfBug:ut,styleElement:$};return X.promise.then(function(){if(y.destroyed)throw new Error("Loading aborted");const Q=_fetchDocument(X,H),ot=new Promise(function(B){let J;L?J=new _transport_stream.PDFDataTransportStream({length:st,initialData:L.initialData,progressiveDone:L.progressiveDone,contentDispositionFilename:L.contentDispositionFilename,disableRange:N,disableStream:Z},L):p||(J=createPDFNetworkStream({url:C,length:st,httpHeaders:A,withCredentials:R,rangeChunkSize:V,disableRange:N,disableStream:Z})),B(J)});return Promise.all([Q,ot]).then(function([B,J]){if(y.destroyed)throw new Error("Loading aborted");const q=new _message_handler.MessageHandler(D,B,X.port),ht=new WorkerTransport(q,y,J,Y,O);y._transport=ht,q.send("Ready",null)})}).catch(y._capability.reject),y}async function _fetchDocument(T,y){if(T.destroyed)throw new Error("Worker was destroyed");const C=await T.messageHandler.sendWithPromise("GetDocRequest",y,y.data?[y.data.buffer]:null);if(T.destroyed)throw new Error("Worker was destroyed");return C}function getUrlProp(T){if(T instanceof URL)return T.href;try{return new URL(T,window.location).href}catch{if(_is_node.isNodeJS&&typeof T=="string")return T}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(T){if(_is_node.isNodeJS&&typeof Buffer<"u"&&T instanceof Buffer)return(0,_display_utils.deprecated)("Please provide binary data as `Uint8Array`, rather than `Buffer`."),new Uint8Array(T);if(T instanceof Uint8Array&&T.byteLength===T.buffer.byteLength)return T;if(typeof T=="string")return(0,_util.stringToBytes)(T);if(typeof T=="object"&&!isNaN(T==null?void 0:T.length)||(0,_util.isArrayBuffer)(T))return new Uint8Array(T);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const i=class i{constructor(){mt(this,s,null);this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${ne(i,n)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get onUnsupportedFeature(){return F(this,s)}set onUnsupportedFeature(y){(0,_display_utils.deprecated)("The PDFDocumentLoadingTask onUnsupportedFeature property will be removed in the future."),vt(this,s,y)}get promise(){return this._capability.promise}async destroy(){var y;this.destroyed=!0,await((y=this._transport)==null?void 0:y.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};n=new WeakMap,s=new WeakMap,mt(i,n,0);let PDFDocumentLoadingTask=i;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(y,C,p=!1,A=null){this.length=y,this.initialData=C,this.progressiveDone=p,this.contentDispositionFilename=A,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(y){this._rangeListeners.push(y)}addProgressListener(y){this._progressListeners.push(y)}addProgressiveReadListener(y){this._progressiveReadListeners.push(y)}addProgressiveDoneListener(y){this._progressiveDoneListeners.push(y)}onDataRange(y,C){for(const p of this._rangeListeners)p(y,C)}onDataProgress(y,C){this._readyCapability.promise.then(()=>{for(const p of this._progressListeners)p(y,C)})}onDataProgressiveRead(y){this._readyCapability.promise.then(()=>{for(const C of this._progressiveReadListeners)C(y)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const y of this._progressiveDoneListeners)y()})}transportReady(){this._readyCapability.resolve()}requestDataRange(y,C){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(y,C){this._pdfInfo=y,this._transport=C}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(y){return this._transport.getPage(y)}getPageIndex(y){return this._transport.getPageIndex(y)}getDestinations(){return this._transport.getDestinations()}getDestination(y){return this._transport.getDestination(y)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(y=!1){return this._transport.startCleanup(y||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(y,C,p,A,R=!1){this._pageIndex=y,this._pageInfo=C,this._ownerDocument=A,this._transport=p,this._stats=R?new _display_utils.StatTimer:null,this._pdfBug=R,this.commonObjs=p.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:y,rotation:C=this.rotate,offsetX:p=0,offsetY:A=0,dontFlip:R=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:y,rotation:C,offsetX:p,offsetY:A,dontFlip:R})}getAnnotations({intent:y="display"}={}){const C=this._transport.getRenderingIntent(y);return this._transport.getAnnotations(this._pageIndex,C.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var y;return((y=this._transport._htmlForXfa)==null?void 0:y.children[this._pageIndex])||null}render({canvasContext:y,viewport:C,intent:p="display",annotationMode:A=_util.AnnotationMode.ENABLE,transform:R=null,canvasFactory:S=null,background:L=null,optionalContentConfigPromise:V=null,annotationCanvasMap:X=null,pageColors:it=null,printAnnotationStorage:gt=null}){var j,k;(j=this._stats)==null||j.time("Overall");const K=this._transport.getRenderingIntent(p,A,gt);this.pendingCleanup=!1,V||(V=this._transport.getOptionalContentConfig());let lt=this._intentStates.get(K.cacheKey);lt||(lt=Object.create(null),this._intentStates.set(K.cacheKey,lt)),lt.streamReaderCancelTimeout&&(clearTimeout(lt.streamReaderCancelTimeout),lt.streamReaderCancelTimeout=null);const tt=S||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),G=!!(K.renderingIntent&_util.RenderingIntentFlag.PRINT);lt.displayReadyCapability||(lt.displayReadyCapability=(0,_util.createPromiseCapability)(),lt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(k=this._stats)==null||k.time("Page Request"),this._pumpOperatorList(K));const W=_=>{var I,U;lt.renderTasks.delete(at),(this.cleanupAfterRender||G)&&(this.pendingCleanup=!0),this._tryCleanup(),_?(at.capability.reject(_),this._abortOperatorList({intentState:lt,reason:_ instanceof Error?_:new Error(_)})):at.capability.resolve(),(I=this._stats)==null||I.timeEnd("Rendering"),(U=this._stats)==null||U.timeEnd("Overall")},at=new InternalRenderTask({callback:W,params:{canvasContext:y,viewport:C,transform:R,background:L},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:X,operatorList:lt.operatorList,pageIndex:this._pageIndex,canvasFactory:tt,useRequestAnimationFrame:!G,pdfBug:this._pdfBug,pageColors:it});(lt.renderTasks||(lt.renderTasks=new Set)).add(at);const ct=at.task;return Promise.all([lt.displayReadyCapability.promise,V]).then(([_,I])=>{var U;if(this.pendingCleanup){W();return}(U=this._stats)==null||U.time("Rendering"),at.initializeGraphics({transparency:_,optionalContentConfig:I}),at.operatorListChanged()}).catch(W),ct}getOperatorList({intent:y="display",annotationMode:C=_util.AnnotationMode.ENABLE,printAnnotationStorage:p=null}={}){var V;function A(){S.operatorList.lastChunk&&(S.opListReadCapability.resolve(S.operatorList),S.renderTasks.delete(L))}const R=this._transport.getRenderingIntent(y,C,p,!0);let S=this._intentStates.get(R.cacheKey);S||(S=Object.create(null),this._intentStates.set(R.cacheKey,S));let L;return S.opListReadCapability||(L=Object.create(null),L.operatorListChanged=A,S.opListReadCapability=(0,_util.createPromiseCapability)(),(S.renderTasks||(S.renderTasks=new Set)).add(L),S.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(V=this._stats)==null||V.time("Page Request"),this._pumpOperatorList(R)),S.opListReadCapability.promise}streamTextContent({disableCombineTextItems:y=!1,includeMarkedContent:C=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:y!==!0,includeMarkedContent:C===!0},{highWaterMark:100,size(A){return A.items.length}})}getTextContent(y={}){if(this._transport._htmlForXfa)return this.getXfa().then(p=>_xfa_text.XfaText.textContent(p));const C=this.streamTextContent(y);return new Promise(function(p,A){function R(){S.read().then(function({value:V,done:X}){if(X){p(L);return}Object.assign(L.styles,V.styles),L.items.push(...V.items),R()},A)}const S=C.getReader(),L={items:[],styles:Object.create(null)};R()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const y=[];for(const C of this._intentStates.values())if(this._abortOperatorList({intentState:C,reason:new Error("Page was destroyed."),force:!0}),!C.opListReadCapability)for(const p of C.renderTasks)y.push(p.completed),p.cancel();return this.objs.clear(),this.pendingCleanup=!1,Promise.all(y)}cleanup(y=!1){return this.pendingCleanup=!0,this._tryCleanup(y)}_tryCleanup(y=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:C,operatorList:p}of this._intentStates.values())if(C.size>0||!p.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),y&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}_startRenderPage(y,C){var A,R;const p=this._intentStates.get(C);p&&((A=this._stats)==null||A.timeEnd("Page Request"),(R=p.displayReadyCapability)==null||R.resolve(y))}_renderPageChunk(y,C){for(let p=0,A=y.length;p<A;p++)C.operatorList.fnArray.push(y.fnArray[p]),C.operatorList.argsArray.push(y.argsArray[p]);C.operatorList.lastChunk=y.lastChunk,C.operatorList.separateAnnots=y.separateAnnots;for(const p of C.renderTasks)p.operatorListChanged();y.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:y,cacheKey:C,annotationStorageMap:p}){const R=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:y,cacheKey:C,annotationStorage:p}).getReader(),S=this._intentStates.get(C);S.streamReader=R;const L=()=>{R.read().then(({value:V,done:X})=>{if(X){S.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(V,S),L())},V=>{if(S.streamReader=null,!this._transport.destroyed){if(S.operatorList){S.operatorList.lastChunk=!0;for(const X of S.renderTasks)X.operatorListChanged();this._tryCleanup()}if(S.displayReadyCapability)S.displayReadyCapability.reject(V);else if(S.opListReadCapability)S.opListReadCapability.reject(V);else throw V}})};L()}_abortOperatorList({intentState:y,reason:C,force:p=!1}){if(y.streamReader){if(y.streamReaderCancelTimeout&&(clearTimeout(y.streamReaderCancelTimeout),y.streamReaderCancelTimeout=null),!p){if(y.renderTasks.size>0)return;if(C instanceof _display_utils.RenderingCancelledException){let A=RENDERING_CANCELLED_TIMEOUT;C.extraDelay>0&&C.extraDelay<1e3&&(A+=C.extraDelay),y.streamReaderCancelTimeout=setTimeout(()=>{y.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:y,reason:C,force:!0})},A);return}}if(y.streamReader.cancel(new _util.AbortException(C.message)).catch(()=>{}),y.streamReader=null,!this._transport.destroyed){for(const[A,R]of this._intentStates)if(R===y){this._intentStates.delete(A);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){mt(this,a,new Set);mt(this,o,Promise.resolve())}postMessage(y,C){const p={data:structuredClone(y,C)};F(this,o).then(()=>{for(const A of F(this,a))A.call(this,p)})}addEventListener(y,C){F(this,a).add(C)}removeEventListener(y,C){F(this,a).delete(C)}terminate(){F(this,a).clear()}}a=new WeakMap,o=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const T=(c=document==null?void 0:document.currentScript)==null?void 0:c.src;T&&(PDFWorkerUtil.fallbackWorkerSrc=T.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(T,y){let C;try{if(C=new URL(T),!C.origin||C.origin==="null")return!1}catch{return!1}const p=new URL(y,C);return C.origin===p.origin},PDFWorkerUtil.createCDNWrapper=function(T){const y=`importScripts("${T}");`;return URL.createObjectURL(new Blob([y]))}}const _PDFWorker=class _PDFWorker{constructor({name:T=null,port:y=null,verbosity:C=(0,_util.getVerbosityLevel)()}={}){if(y&&F(_PDFWorker,l).has(y))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=T,this.destroyed=!1,this.verbosity=C,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,y){F(_PDFWorker,l).set(y,this),this._initializeFromPort(y);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(T){this._port=T,this._messageHandler=new _message_handler.MessageHandler("main","worker",T),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:T}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,T)||(T=PDFWorkerUtil.createCDNWrapper(new URL(T,window.location).href));const y=new Worker(T),C=new _message_handler.MessageHandler("main","worker",y),p=()=>{y.removeEventListener("error",A),C.destroy(),y.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},A=()=>{this._webWorker||p()};y.addEventListener("error",A),C.on("test",S=>{if(y.removeEventListener("error",A),this.destroyed){p();return}S?(this._messageHandler=C,this._port=y,this._webWorker=y,this._readyCapability.resolve(),C.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),C.destroy(),y.terminate())}),C.on("ready",S=>{if(y.removeEventListener("error",A),this.destroyed){p();return}try{R()}catch{this._setupFakeWorker()}});const R=()=>{const S=new Uint8Array;C.send("test",S,[S.buffer])};R();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(T=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const y=new LoopbackPort;this._port=y;const C=`fake${PDFWorkerUtil.fakeWorkerId++}`,p=new _message_handler.MessageHandler(C+"_worker",C,y);T.setup(p,y);const A=new _message_handler.MessageHandler(C,C+"_worker",y);this._messageHandler=A,this._readyCapability.resolve(),A.send("configure",{verbosity:this.verbosity})}).catch(T=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${T.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),F(_PDFWorker,l).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(T){if(!(T!=null&&T.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return F(this,l).has(T.port)?F(this,l).get(T.port):new _PDFWorker(T)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var T;try{return((T=globalThis.pdfjsWorker)==null?void 0:T.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};l=new WeakMap,mt(_PDFWorker,l,new WeakMap);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(y,C,p,A,R){mt(this,d);mt(this,f,new Map);mt(this,u,new Map);mt(this,h,new Map);this.messageHandler=y,this.loadingTask=C,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:A.ownerDocument,styleElement:A.styleElement}),this._params=A,this.cMapReaderFactory=R==null?void 0:R.cMapReaderFactory,this.standardFontDataFactory=R==null?void 0:R.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=p,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(y,C=_util.AnnotationMode.ENABLE,p=null,A=!1){let R=_util.RenderingIntentFlag.DISPLAY,S=null;switch(y){case"any":R=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":R=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${y}`)}switch(C){case _util.AnnotationMode.DISABLE:R+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:R+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:R+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,S=(R&_util.RenderingIntentFlag.PRINT&&p instanceof _annotation_storage.PrintAnnotationStorage?p:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${C}`)}return A&&(R+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:R,cacheKey:`${R}_${_annotation_storage.AnnotationStorage.getHash(S)}`,annotationStorageMap:S}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const y=[];for(const p of F(this,u).values())y.push(p._destroy());F(this,u).clear(),F(this,h).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const C=this.messageHandler.sendWithPromise("Terminate",null);return y.push(C),Promise.all(y).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),F(this,f).clear(),this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:y,loadingTask:C}=this;y.on("GetReader",(p,A)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=R=>{this._lastProgress={loaded:R.loaded,total:R.total}},A.onPull=()=>{this._fullReader.read().then(function({value:R,done:S}){if(S){A.close();return}(0,_util.assert)(R instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),A.enqueue(new Uint8Array(R),1,[R])}).catch(R=>{A.error(R)})},A.onCancel=R=>{this._fullReader.cancel(R),A.ready.catch(S=>{if(!this.destroyed)throw S})}}),y.on("ReaderHeadersReady",p=>{const A=(0,_util.createPromiseCapability)(),R=this._fullReader;return R.headersReady.then(()=>{var S;(!R.isStreamingSupported||!R.isRangeSupported)&&(this._lastProgress&&((S=C.onProgress)==null||S.call(C,this._lastProgress)),R.onProgress=L=>{var V;(V=C.onProgress)==null||V.call(C,{loaded:L.loaded,total:L.total})}),A.resolve({isStreamingSupported:R.isStreamingSupported,isRangeSupported:R.isRangeSupported,contentLength:R.contentLength})},A.reject),A.promise}),y.on("GetRangeReader",(p,A)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const R=this._networkStream.getRangeReader(p.begin,p.end);if(!R){A.close();return}A.onPull=()=>{R.read().then(function({value:S,done:L}){if(L){A.close();return}(0,_util.assert)(S instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),A.enqueue(new Uint8Array(S),1,[S])}).catch(S=>{A.error(S)})},A.onCancel=S=>{R.cancel(S),A.ready.catch(L=>{if(!this.destroyed)throw L})}}),y.on("GetDoc",({pdfInfo:p})=>{this._numPages=p.numPages,this._htmlForXfa=p.htmlForXfa,delete p.htmlForXfa,C._capability.resolve(new PDFDocumentProxy(p,this))}),y.on("DocException",function(p){let A;switch(p.name){case"PasswordException":A=new _util.PasswordException(p.message,p.code);break;case"InvalidPDFException":A=new _util.InvalidPDFException(p.message);break;case"MissingPDFException":A=new _util.MissingPDFException(p.message);break;case"UnexpectedResponseException":A=new _util.UnexpectedResponseException(p.message,p.status);break;case"UnknownErrorException":A=new _util.UnknownErrorException(p.message,p.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}C._capability.reject(A)}),y.on("PasswordRequest",p=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),C.onPassword){const A=R=>{R instanceof Error?this._passwordCapability.reject(R):this._passwordCapability.resolve({password:R})};try{C.onPassword(A,p.code)}catch(R){this._passwordCapability.reject(R)}}else this._passwordCapability.reject(new _util.PasswordException(p.message,p.code));return this._passwordCapability.promise}),y.on("DataLoaded",p=>{var A;(A=C.onProgress)==null||A.call(C,{loaded:p.length,total:p.length}),this.downloadInfoCapability.resolve(p)}),y.on("StartRenderPage",p=>{if(this.destroyed)return;F(this,u).get(p.pageIndex)._startRenderPage(p.transparency,p.cacheKey)}),y.on("commonobj",([p,A,R])=>{var S;if(!this.destroyed&&!this.commonObjs.has(p))switch(A){case"Font":const L=this._params;if("error"in R){const it=R.error;(0,_util.warn)(`Error during font loading: ${it}`),this.commonObjs.resolve(p,it);break}let V=null;L.pdfBug&&((S=globalThis.FontInspector)!=null&&S.enabled)&&(V={registerFont(it,gt){globalThis.FontInspector.fontAdded(it,gt)}});const X=new _font_loader.FontFaceObject(R,{isEvalSupported:L.isEvalSupported,disableFontFace:L.disableFontFace,ignoreErrors:L.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:V});this.fontLoader.bind(X).catch(it=>y.sendWithPromise("FontFallback",{id:p})).finally(()=>{!L.fontExtraProperties&&X.data&&(X.data=null),this.commonObjs.resolve(p,X)});break;case"FontPath":case"Image":this.commonObjs.resolve(p,R);break;default:throw new Error(`Got unknown common object type ${A}`)}}),y.on("obj",([p,A,R,S])=>{var V;if(this.destroyed)return;const L=F(this,u).get(A);if(!L.objs.has(p))switch(R){case"Image":L.objs.resolve(p,S);const X=8e6;if(S){let it;if(S.bitmap){const{width:gt,height:K}=S;it=gt*K*4}else it=((V=S.data)==null?void 0:V.length)||0;it>X&&(L.cleanupAfterRender=!0)}break;case"Pattern":L.objs.resolve(p,S);break;default:throw new Error(`Got unknown object type ${R}`)}}),y.on("DocProgress",p=>{var A;this.destroyed||(A=C.onProgress)==null||A.call(C,{loaded:p.loaded,total:p.total})}),y.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),y.on("FetchBuiltInCMap",p=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(p):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),y.on("FetchStandardFontData",p=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(p):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:y}){var C,p;this.destroyed||(p=(C=this.loadingTask).onUnsupportedFeature)==null||p.call(C,y)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var y;return this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:((y=this._fullReader)==null?void 0:y.filename)??null}).finally(()=>{this.annotationStorage.resetModified()})}getPage(y){if(!Number.isInteger(y)||y<=0||y>this._numPages)return Promise.reject(new Error("Invalid page request."));const C=y-1,p=F(this,h).get(C);if(p)return p;const A=this.messageHandler.sendWithPromise("GetPage",{pageIndex:C}).then(R=>{if(this.destroyed)throw new Error("Transport destroyed");const S=new PDFPageProxy(C,R,this,this._params.ownerDocument,this._params.pdfBug);return F(this,u).set(C,S),S});return F(this,h).set(C,A),A}getPageIndex(y){return typeof y!="object"||y===null||!Number.isInteger(y.num)||y.num<0||!Number.isInteger(y.gen)||y.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:y.num,gen:y.gen})}getAnnotations(y,C){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:y,intent:C})}getFieldObjects(){return ft(this,d,se).call(this,"GetFieldObjects")}hasJSActions(){return ft(this,d,se).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(y){return typeof y!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:y})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(y){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:y})}getStructTree(y){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:y})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(y=>new _optional_content_config.OptionalContentConfig(y))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const y="GetMetadata",C=F(this,f).get(y);if(C)return C;const p=this.messageHandler.sendWithPromise(y,null).then(A=>{var R,S;return{info:A[0],metadata:A[1]?new _metadata.Metadata(A[1]):null,contentDispositionFilename:((R=this._fullReader)==null?void 0:R.filename)??null,contentLength:((S=this._fullReader)==null?void 0:S.contentLength)??null}});return F(this,f).set(y,p),p}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(y=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const C of F(this,u).values())if(!C.cleanup())throw new Error(`startCleanup: Page ${C.pageNumber} is currently rendering.`);this.commonObjs.clear(),y||this.fontLoader.clear(),F(this,f).clear()}}get loadingParams(){const{disableAutoFetch:y,enableXfa:C}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:y,enableXfa:C})}}f=new WeakMap,u=new WeakMap,h=new WeakMap,d=new WeakSet,se=function(y,C=null){const p=F(this,f).get(y);if(p)return p;const A=this.messageHandler.sendWithPromise(y,C);return F(this,f).set(y,A),A};class PDFObjects{constructor(){mt(this,b);mt(this,m,Object.create(null))}get(y,C=null){if(C){const A=ft(this,b,ie).call(this,y);return A.capability.promise.then(()=>C(A.data)),null}const p=F(this,m)[y];if(!(p!=null&&p.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${y}.`);return p.data}has(y){const C=F(this,m)[y];return(C==null?void 0:C.capability.settled)||!1}resolve(y,C=null){const p=ft(this,b,ie).call(this,y);p.data=C,p.capability.resolve()}clear(){var y;for(const C in F(this,m)){const{data:p}=F(this,m)[C];(y=p==null?void 0:p.bitmap)==null||y.close()}vt(this,m,Object.create(null))}}m=new WeakMap,b=new WeakSet,ie=function(y){const C=F(this,m)[y];return C||(F(this,m)[y]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(y){mt(this,P,null);vt(this,P,y),this.onContinue=null}get promise(){return F(this,P).capability.promise}cancel(y=0){F(this,P).cancel(null,y)}get separateAnnots(){const{separateAnnots:y}=F(this,P).operatorList;if(!y)return!1;const{annotationCanvasMap:C}=F(this,P);return y.form||y.canvas&&(C==null?void 0:C.size)>0}}P=new WeakMap,exports.RenderTask=RenderTask;const x=class x{constructor({callback:y,params:C,objs:p,commonObjs:A,annotationCanvasMap:R,operatorList:S,pageIndex:L,canvasFactory:V,useRequestAnimationFrame:X=!1,pdfBug:it=!1,pageColors:gt=null}){this.callback=y,this.params=C,this.objs=p,this.commonObjs=A,this.annotationCanvasMap=R,this.operatorListIdx=null,this.operatorList=S,this._pageIndex=L,this.canvasFactory=V,this._pdfBug=it,this.pageColors=gt,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=X===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=C.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:y=!1,optionalContentConfig:C}){var L,V;if(this.cancelled)return;if(this._canvas){if(F(x,v).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");F(x,v).add(this._canvas)}this._pdfBug&&((L=globalThis.StepperManager)!=null&&L.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:p,viewport:A,transform:R,background:S}=this.params;this.gfx=new _canvas.CanvasGraphics(p,this.commonObjs,this.objs,this.canvasFactory,{optionalContentConfig:C},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:R,viewport:A,transparency:y,background:S}),this.operatorListIdx=0,this.graphicsReady=!0,(V=this.graphicsReadyCallback)==null||V.call(this)}cancel(y=null,C=0){var p;this.running=!1,this.cancelled=!0,(p=this.gfx)==null||p.endDrawing(),this._canvas&&F(x,v).delete(this._canvas),this.callback(y||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas",C))}operatorListChanged(){var y;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(y=this.stepper)==null||y.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&F(x,v).delete(this._canvas),this.callback())))}};v=new WeakMap,mt(x,v,new WeakSet);let InternalRenderTask=x;const version="3.4.120";exports.version=version;const build="af6414988";exports.build=build},(n,s,i)=>{var u,h,d,Ee,m;Object.defineProperty(s,"__esModule",{value:!0}),s.PrintAnnotationStorage=s.AnnotationStorage=void 0;var a=i(1),o=i(4),c=i(8);class l{constructor(){mt(this,d);mt(this,u,!1);mt(this,h,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(E,P){const v=F(this,h).get(E);return v===void 0?P:Object.assign(P,v)}getRawValue(E){return F(this,h).get(E)}remove(E){if(F(this,h).delete(E),F(this,h).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const P of F(this,h).values())if(P instanceof o.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(E,P){const v=F(this,h).get(E);let x=!1;if(v!==void 0)for(const[T,y]of Object.entries(P))v[T]!==y&&(x=!0,v[T]=y);else x=!0,F(this,h).set(E,P);x&&ft(this,d,Ee).call(this),P instanceof o.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(P.constructor._type)}has(E){return F(this,h).has(E)}getAll(){return F(this,h).size>0?(0,a.objectFromMap)(F(this,h)):null}setAll(E){for(const[P,v]of Object.entries(E))this.setValue(P,v)}get size(){return F(this,h).size}resetModified(){F(this,u)&&(vt(this,u,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new f(this)}get serializable(){if(F(this,h).size===0)return null;const E=new Map;for(const[P,v]of F(this,h)){const x=v instanceof o.AnnotationEditor?v.serialize():v;x&&E.set(P,x)}return E}static getHash(E){if(!E)return"";const P=new c.MurmurHash3_64;for(const[v,x]of E)P.update(`${v}:${JSON.stringify(x)}`);return P.hexdigest()}}u=new WeakMap,h=new WeakMap,d=new WeakSet,Ee=function(){F(this,u)||(vt(this,u,!0),typeof this.onSetModified=="function"&&this.onSetModified())},s.AnnotationStorage=l;class f extends l{constructor(P){super();mt(this,m,null);vt(this,m,structuredClone(P.serializable))}get print(){(0,a.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return F(this,m)}}m=new WeakMap,s.PrintAnnotationStorage=f},(n,s,i)=>{var l,f,u,h,d,g;Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditor=void 0;var a=i(5),o=i(1);const m=class m{constructor(E){mt(this,l,this.focusin.bind(this));mt(this,f,this.focusout.bind(this));mt(this,u,!1);mt(this,h,!1);mt(this,d,!1);Ct(this,"_uiManager",null);mt(this,g,m._zIndex++);this.constructor===m&&(0,o.unreachable)("Cannot initialize AnnotationEditor."),this.parent=E.parent,this.id=E.id,this.width=this.height=null,this.pageIndex=E.parent.pageIndex,this.name=E.name,this.div=null,this._uiManager=E.uiManager;const{rotation:P,rawDims:{pageWidth:v,pageHeight:x,pageX:T,pageY:y}}=this.parent.viewport;this.rotation=P,this.pageDimensions=[v,x],this.pageTranslation=[T,y];const[C,p]=this.parentDimensions;this.x=E.x/C,this.y=E.y/p,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,o.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}addCommands(E){this._uiManager.addCommands(E)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=F(this,g)}setParent(E){E!==null&&(this.pageIndex=E.pageIndex,this.pageDimensions=E.pageDimensions),this.parent=E}focusin(E){F(this,u)?vt(this,u,!1):this.parent.setSelected(this)}focusout(E){var v;if(!this.isAttachedToDOM)return;const P=E.relatedTarget;P!=null&&P.closest(`#${this.id}`)||(E.preventDefault(),(v=this.parent)!=null&&v.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}dragstart(E){const P=this.parent.div.getBoundingClientRect();this.startX=E.clientX-P.x,this.startY=E.clientY-P.y,E.dataTransfer.setData("text/plain",this.id),E.dataTransfer.effectAllowed="move"}setAt(E,P,v,x){const[T,y]=this.parentDimensions;[v,x]=this.screenToPageTranslation(v,x),this.x=(E+v)/T,this.y=(P+x)/y,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(E,P){const[v,x]=this.parentDimensions;[E,P]=this.screenToPageTranslation(E,P),this.x+=E/v,this.y+=P/x,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(E,P){switch(this.parentRotation){case 90:return[P,-E];case 180:return[-E,-P];case 270:return[-P,E];default:return[E,P]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return this._uiManager.viewParameters.rotation}get parentDimensions(){const{realScale:E}=this._uiManager.viewParameters,[P,v]=this.pageDimensions;return[P*E,v*E]}setDims(E,P){const[v,x]=this.parentDimensions;this.div.style.width=`${100*E/v}%`,this.div.style.height=`${100*P/x}%`}fixDims(){const{style:E}=this.div,{height:P,width:v}=E,x=v.endsWith("%"),T=P.endsWith("%");if(x&&T)return;const[y,C]=this.parentDimensions;x||(E.width=`${100*parseFloat(v)/y}%`),T||(E.height=`${100*parseFloat(P)/C}%`)}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",F(this,l)),this.div.addEventListener("focusout",F(this,f));const[E,P]=this.getInitialTranslation();return this.translate(E,P),(0,a.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(E){const{isMac:P}=o.FeatureTest.platform;if(E.button!==0||E.ctrlKey&&P){E.preventDefault();return}E.ctrlKey&&!P||E.shiftKey||E.metaKey&&P?this.parent.toggleSelected(this):this.parent.setSelected(this),vt(this,u,!0)}getRect(E,P){const v=this.parentScale,[x,T]=this.pageDimensions,[y,C]=this.pageTranslation,p=E/v,A=P/v,R=this.x*x,S=this.y*T,L=this.width*x,V=this.height*T;switch(this.rotation){case 0:return[R+p+y,T-S-A-V+C,R+p+L+y,T-S-A+C];case 90:return[R+A+y,T-S+p+C,R+A+V+y,T-S+p+L+C];case 180:return[R-p-L+y,T-S+A+C,R-p+y,T-S+A+V+C];case 270:return[R-A-V+y,T-S-p-L+C,R-A+y,T-S-p+C];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(E,P){const[v,x,T,y]=E,C=T-v,p=y-x;switch(this.rotation){case 0:return[v,P-y,C,p];case 90:return[v,P-x,p,C];case 180:return[T,P-x,C,p];case 270:return[T,P-y,p,C];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){vt(this,d,!0)}disableEditMode(){vt(this,d,!1)}isInEditMode(){return F(this,d)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var E;(E=this.div)==null||E.addEventListener("focusin",F(this,l))}serialize(){(0,o.unreachable)("An editor must be serializable")}static deserialize(E,P,v){const x=new this.prototype.constructor({parent:P,id:P.getNextId(),uiManager:v});x.rotation=E.rotation;const[T,y]=x.pageDimensions,[C,p,A,R]=x.getRectInCurrentCoords(E.rect,y);return x.x=C/T,x.y=p/y,x.width=A/T,x.height=R/y,x}remove(){this.div.removeEventListener("focusin",F(this,l)),this.div.removeEventListener("focusout",F(this,f)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var E;(E=this.div)==null||E.classList.add("selectedEditor")}unselect(){var E;(E=this.div)==null||E.classList.remove("selectedEditor")}updateParams(E,P){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return F(this,h)}set isEditing(E){vt(this,h,E),E?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}};l=new WeakMap,f=new WeakMap,u=new WeakMap,h=new WeakMap,d=new WeakMap,g=new WeakMap,Ct(m,"_colorManager",new a.ColorManager),Ct(m,"_zIndex",1);let c=m;s.AnnotationEditor=c},(n,s,i)=>{var m,b,E,P,v,x,Ce,C,p,A,R,S,L,V,X,it,gt,K,lt,tt,G,W,at,ct,j,k,_,I,U,z,N,Pe,re,Te,we,kt,Wt,_e,Re,ae,Ht,oe;Object.defineProperty(s,"__esModule",{value:!0}),s.KeyboardManager=s.CommandManager=s.ColorManager=s.AnnotationEditorUIManager=void 0,s.bindEvents=c,s.opacityToHex=l;var a=i(1),o=i(6);function c(ot,B,J){for(const q of J)B.addEventListener(q,ot[q].bind(ot))}function l(ot){return Math.round(Math.min(255,Math.max(1,255*ot))).toString(16).padStart(2,"0")}class f{constructor(){mt(this,m,0)}getId(){return`${a.AnnotationEditorPrefix}${ne(this,m)._++}`}}m=new WeakMap;class u{constructor(B=128){mt(this,b,[]);mt(this,E,!1);mt(this,P);mt(this,v,-1);vt(this,P,B)}add({cmd:B,undo:J,mustExec:q,type:ht=NaN,overwriteIfSameType:pt=!1,keepUndo:yt=!1}){if(q&&B(),F(this,E))return;const xt={cmd:B,undo:J,type:ht};if(F(this,v)===-1){F(this,b).length>0&&(F(this,b).length=0),vt(this,v,0),F(this,b).push(xt);return}if(pt&&F(this,b)[F(this,v)].type===ht){yt&&(xt.undo=F(this,b)[F(this,v)].undo),F(this,b)[F(this,v)]=xt;return}const At=F(this,v)+1;At===F(this,P)?F(this,b).splice(0,1):(vt(this,v,At),At<F(this,b).length&&F(this,b).splice(At)),F(this,b).push(xt)}undo(){F(this,v)!==-1&&(vt(this,E,!0),F(this,b)[F(this,v)].undo(),vt(this,E,!1),vt(this,v,F(this,v)-1))}redo(){F(this,v)<F(this,b).length-1&&(vt(this,v,F(this,v)+1),vt(this,E,!0),F(this,b)[F(this,v)].cmd(),vt(this,E,!1))}hasSomethingToUndo(){return F(this,v)!==-1}hasSomethingToRedo(){return F(this,v)<F(this,b).length-1}destroy(){vt(this,b,null)}}b=new WeakMap,E=new WeakMap,P=new WeakMap,v=new WeakMap,s.CommandManager=u;class h{constructor(B){mt(this,x);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:J}=a.FeatureTest.platform;for(const[q,ht]of B)for(const pt of q){const yt=pt.startsWith("mac+");J&&yt?(this.callbacks.set(pt.slice(4),ht),this.allKeys.add(pt.split("+").at(-1))):!J&&!yt&&(this.callbacks.set(pt,ht),this.allKeys.add(pt.split("+").at(-1)))}}exec(B,J){if(!this.allKeys.has(J.key))return;const q=this.callbacks.get(ft(this,x,Ce).call(this,J));q&&(q.bind(B)(),J.stopPropagation(),J.preventDefault())}}x=new WeakSet,Ce=function(B){B.altKey&&this.buffer.push("alt"),B.ctrlKey&&this.buffer.push("ctrl"),B.metaKey&&this.buffer.push("meta"),B.shiftKey&&this.buffer.push("shift"),this.buffer.push(B.key);const J=this.buffer.join("+");return this.buffer.length=0,J},s.KeyboardManager=h;const y=class y{get _colors(){const B=new Map([["CanvasText",null],["Canvas",null]]);return(0,o.getColorValues)(B),(0,a.shadow)(this,"_colors",B)}convert(B){const J=(0,o.getRGB)(B);if(!window.matchMedia("(forced-colors: active)").matches)return J;for(const[q,ht]of this._colors)if(ht.every((pt,yt)=>pt===J[yt]))return y._colorsMapping.get(q);return J}getHexCode(B){const J=this._colors.get(B);return J?a.Util.makeHexColor(...J):B}};Ct(y,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let d=y;s.ColorManager=d;const Q=class Q{constructor(B,J,q){mt(this,N);mt(this,C,null);mt(this,p,new Map);mt(this,A,new Map);mt(this,R,null);mt(this,S,new u);mt(this,L,0);mt(this,V,null);mt(this,X,new Set);mt(this,it,null);mt(this,gt,new f);mt(this,K,!1);mt(this,lt,a.AnnotationEditorType.NONE);mt(this,tt,new Set);mt(this,G,this.copy.bind(this));mt(this,W,this.cut.bind(this));mt(this,at,this.paste.bind(this));mt(this,ct,this.keydown.bind(this));mt(this,j,this.onEditingAction.bind(this));mt(this,k,this.onPageChanging.bind(this));mt(this,_,this.onScaleChanging.bind(this));mt(this,I,this.onRotationChanging.bind(this));mt(this,U,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});mt(this,z,null);vt(this,z,B),vt(this,it,J),F(this,it)._on("editingaction",F(this,j)),F(this,it)._on("pagechanging",F(this,k)),F(this,it)._on("scalechanging",F(this,_)),F(this,it)._on("rotationchanging",F(this,I)),vt(this,R,q),this.viewParameters={realScale:o.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){ft(this,N,re).call(this),F(this,it)._off("editingaction",F(this,j)),F(this,it)._off("pagechanging",F(this,k)),F(this,it)._off("scalechanging",F(this,_)),F(this,it)._off("rotationchanging",F(this,I));for(const B of F(this,A).values())B.destroy();F(this,A).clear(),F(this,p).clear(),F(this,X).clear(),vt(this,C,null),F(this,tt).clear(),F(this,S).destroy()}onPageChanging({pageNumber:B}){vt(this,L,B-1)}focusMainContainer(){F(this,z).focus()}addShouldRescale(B){F(this,X).add(B)}removeShouldRescale(B){F(this,X).delete(B)}onScaleChanging({scale:B}){this.commitOrRemove(),this.viewParameters.realScale=B*o.PixelsPerInch.PDF_TO_CSS_UNITS;for(const J of F(this,X))J.onScaleChanging()}onRotationChanging({pagesRotation:B}){this.commitOrRemove(),this.viewParameters.rotation=B}addToAnnotationStorage(B){!B.isEmpty()&&F(this,R)&&!F(this,R).has(B.id)&&F(this,R).setValue(B.id,B)}copy(B){if(B.preventDefault(),F(this,C)&&F(this,C).commitOrRemove(),!this.hasSelection)return;const J=[];for(const q of F(this,tt))q.isEmpty()||J.push(q.serialize());J.length!==0&&B.clipboardData.setData("application/pdfjs",JSON.stringify(J))}cut(B){this.copy(B),this.delete()}paste(B){B.preventDefault();let J=B.clipboardData.getData("application/pdfjs");if(!J)return;try{J=JSON.parse(J)}catch(ht){(0,a.warn)(`paste: "${ht.message}".`);return}if(!Array.isArray(J))return;this.unselectAll();const q=F(this,A).get(F(this,L));try{const ht=[];for(const xt of J){const At=q.deserialize(xt);if(!At)return;ht.push(At)}const pt=()=>{for(const xt of ht)ft(this,N,ae).call(this,xt);ft(this,N,oe).call(this,ht)},yt=()=>{for(const xt of ht)xt.remove()};this.addCommands({cmd:pt,undo:yt,mustExec:!0})}catch(ht){(0,a.warn)(`paste: "${ht.message}".`)}}keydown(B){var J;(J=this.getActive())!=null&&J.shouldGetKeyboardEvents()||Q._keyboardManager.exec(this,B)}onEditingAction(B){["undo","redo","delete","selectAll"].includes(B.name)&&this[B.name]()}setEditingState(B){B?(ft(this,N,Pe).call(this),ft(this,N,Te).call(this),ft(this,N,kt).call(this,{isEditing:F(this,lt)!==a.AnnotationEditorType.NONE,isEmpty:ft(this,N,Ht).call(this),hasSomethingToUndo:F(this,S).hasSomethingToUndo(),hasSomethingToRedo:F(this,S).hasSomethingToRedo(),hasSelectedEditor:!1})):(ft(this,N,re).call(this),ft(this,N,we).call(this),ft(this,N,kt).call(this,{isEditing:!1}))}registerEditorTypes(B){if(!F(this,V)){vt(this,V,B);for(const J of F(this,V))ft(this,N,Wt).call(this,J.defaultPropertiesToUpdate)}}getId(){return F(this,gt).getId()}get currentLayer(){return F(this,A).get(F(this,L))}get currentPageIndex(){return F(this,L)}addLayer(B){F(this,A).set(B.pageIndex,B),F(this,K)?B.enable():B.disable()}removeLayer(B){F(this,A).delete(B.pageIndex)}updateMode(B){if(vt(this,lt,B),B===a.AnnotationEditorType.NONE)this.setEditingState(!1),ft(this,N,Re).call(this);else{this.setEditingState(!0),ft(this,N,_e).call(this);for(const J of F(this,A).values())J.updateMode(B)}}updateToolbar(B){B!==F(this,lt)&&F(this,it).dispatch("switchannotationeditormode",{source:this,mode:B})}updateParams(B,J){if(F(this,V)){for(const q of F(this,tt))q.updateParams(B,J);for(const q of F(this,V))q.updateDefaultParams(B,J)}}getEditors(B){const J=[];for(const q of F(this,p).values())q.pageIndex===B&&J.push(q);return J}getEditor(B){return F(this,p).get(B)}addEditor(B){F(this,p).set(B.id,B)}removeEditor(B){var J;F(this,p).delete(B.id),this.unselect(B),(J=F(this,R))==null||J.remove(B.id)}setActiveEditor(B){F(this,C)!==B&&(vt(this,C,B),B&&ft(this,N,Wt).call(this,B.propertiesToUpdate))}toggleSelected(B){if(F(this,tt).has(B)){F(this,tt).delete(B),B.unselect(),ft(this,N,kt).call(this,{hasSelectedEditor:this.hasSelection});return}F(this,tt).add(B),B.select(),ft(this,N,Wt).call(this,B.propertiesToUpdate),ft(this,N,kt).call(this,{hasSelectedEditor:!0})}setSelected(B){for(const J of F(this,tt))J!==B&&J.unselect();F(this,tt).clear(),F(this,tt).add(B),B.select(),ft(this,N,Wt).call(this,B.propertiesToUpdate),ft(this,N,kt).call(this,{hasSelectedEditor:!0})}isSelected(B){return F(this,tt).has(B)}unselect(B){B.unselect(),F(this,tt).delete(B),ft(this,N,kt).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return F(this,tt).size!==0}undo(){F(this,S).undo(),ft(this,N,kt).call(this,{hasSomethingToUndo:F(this,S).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:ft(this,N,Ht).call(this)})}redo(){F(this,S).redo(),ft(this,N,kt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:F(this,S).hasSomethingToRedo(),isEmpty:ft(this,N,Ht).call(this)})}addCommands(B){F(this,S).add(B),ft(this,N,kt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:ft(this,N,Ht).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const B=[...F(this,tt)],J=()=>{for(const ht of B)ht.remove()},q=()=>{for(const ht of B)ft(this,N,ae).call(this,ht)};this.addCommands({cmd:J,undo:q,mustExec:!0})}commitOrRemove(){var B;(B=F(this,C))==null||B.commitOrRemove()}selectAll(){for(const B of F(this,tt))B.commit();ft(this,N,oe).call(this,F(this,p).values())}unselectAll(){if(F(this,C)){F(this,C).commitOrRemove();return}if(F(this,tt).size!==0){for(const B of F(this,tt))B.unselect();F(this,tt).clear(),ft(this,N,kt).call(this,{hasSelectedEditor:!1})}}isActive(B){return F(this,C)===B}getActive(){return F(this,C)}getMode(){return F(this,lt)}};C=new WeakMap,p=new WeakMap,A=new WeakMap,R=new WeakMap,S=new WeakMap,L=new WeakMap,V=new WeakMap,X=new WeakMap,it=new WeakMap,gt=new WeakMap,K=new WeakMap,lt=new WeakMap,tt=new WeakMap,G=new WeakMap,W=new WeakMap,at=new WeakMap,ct=new WeakMap,j=new WeakMap,k=new WeakMap,_=new WeakMap,I=new WeakMap,U=new WeakMap,z=new WeakMap,N=new WeakSet,Pe=function(){F(this,z).addEventListener("keydown",F(this,ct))},re=function(){F(this,z).removeEventListener("keydown",F(this,ct))},Te=function(){document.addEventListener("copy",F(this,G)),document.addEventListener("cut",F(this,W)),document.addEventListener("paste",F(this,at))},we=function(){document.removeEventListener("copy",F(this,G)),document.removeEventListener("cut",F(this,W)),document.removeEventListener("paste",F(this,at))},kt=function(B){Object.entries(B).some(([q,ht])=>F(this,U)[q]!==ht)&&F(this,it).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(F(this,U),B)})},Wt=function(B){F(this,it).dispatch("annotationeditorparamschanged",{source:this,details:B})},_e=function(){if(!F(this,K)){vt(this,K,!0);for(const B of F(this,A).values())B.enable()}},Re=function(){if(this.unselectAll(),F(this,K)){vt(this,K,!1);for(const B of F(this,A).values())B.disable()}},ae=function(B){const J=F(this,A).get(B.pageIndex);J?J.addOrRebuild(B):this.addEditor(B)},Ht=function(){if(F(this,p).size===0)return!0;if(F(this,p).size===1)for(const B of F(this,p).values())return B.isEmpty();return!1},oe=function(B){F(this,tt).clear();for(const J of B)J.isEmpty()||(F(this,tt).add(J),J.select());ft(this,N,kt).call(this,{hasSelectedEditor:!0})},Ct(Q,"_keyboardManager",new h([[["ctrl+a","mac+meta+a"],Q.prototype.selectAll],[["ctrl+z","mac+meta+z"],Q.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],Q.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],Q.prototype.delete],[["Escape","mac+Escape"],Q.prototype.unselectAll]]));let g=Q;s.AnnotationEditorUIManager=g},(n,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.StatTimer=s.RenderingCancelledException=s.PixelsPerInch=s.PageViewport=s.PDFDateString=s.DOMStandardFontDataFactory=s.DOMSVGFactory=s.DOMCanvasFactory=s.DOMCMapReaderFactory=s.AnnotationPrefix=void 0,s.deprecated=A,s.getColorValues=X,s.getCurrentTransform=it,s.getCurrentTransformInverse=gt,s.getFilenameFromUrl=x,s.getPdfFilenameFromUrl=T,s.getRGB=V,s.getXfaPageViewport=L,s.isDataScheme=P,s.isPdfFile=v,s.isValidFetchUrl=C,s.loadScript=p,s.setLayerDimensions=K;var a=i(7),o=i(1);const c="http://www.w3.org/2000/svg",l="pdfjs_internal_id_";s.AnnotationPrefix=l;const lt=class lt{};Ct(lt,"CSS",96),Ct(lt,"PDF",72),Ct(lt,"PDF_TO_CSS_UNITS",lt.CSS/lt.PDF);let f=lt;s.PixelsPerInch=f;class u extends a.BaseCanvasFactory{constructor({ownerDocument:G=globalThis.document}={}){super(),this._document=G}_createCanvas(G,W){const at=this._document.createElement("canvas");return at.width=G,at.height=W,at}}s.DOMCanvasFactory=u;async function h(tt,G=!1){if(C(tt,document.baseURI)){const W=await fetch(tt);if(!W.ok)throw new Error(W.statusText);return G?new Uint8Array(await W.arrayBuffer()):(0,o.stringToBytes)(await W.text())}return new Promise((W,at)=>{const ct=new XMLHttpRequest;ct.open("GET",tt,!0),G&&(ct.responseType="arraybuffer"),ct.onreadystatechange=()=>{if(ct.readyState===XMLHttpRequest.DONE){if(ct.status===200||ct.status===0){let j;if(G&&ct.response?j=new Uint8Array(ct.response):!G&&ct.responseText&&(j=(0,o.stringToBytes)(ct.responseText)),j){W(j);return}}at(new Error(ct.statusText))}},ct.send(null)})}class d extends a.BaseCMapReaderFactory{_fetchData(G,W){return h(G,this.isCompressed).then(at=>({cMapData:at,compressionType:W}))}}s.DOMCMapReaderFactory=d;class g extends a.BaseStandardFontDataFactory{_fetchData(G){return h(G,!0)}}s.DOMStandardFontDataFactory=g;class m extends a.BaseSVGFactory{_createSVG(G){return document.createElementNS(c,G)}}s.DOMSVGFactory=m;class b{constructor({viewBox:G,scale:W,rotation:at,offsetX:ct=0,offsetY:j=0,dontFlip:k=!1}){this.viewBox=G,this.scale=W,this.rotation=at,this.offsetX=ct,this.offsetY=j;const _=(G[2]+G[0])/2,I=(G[3]+G[1])/2;let U,z,N,Z;switch(at%=360,at<0&&(at+=360),at){case 180:U=-1,z=0,N=0,Z=1;break;case 90:U=0,z=1,N=1,Z=0;break;case 270:U=0,z=-1,N=-1,Z=0;break;case 0:U=1,z=0,N=0,Z=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}k&&(N=-N,Z=-Z);let rt,ut,st,w;U===0?(rt=Math.abs(I-G[1])*W+ct,ut=Math.abs(_-G[0])*W+j,st=(G[3]-G[1])*W,w=(G[2]-G[0])*W):(rt=Math.abs(_-G[0])*W+ct,ut=Math.abs(I-G[1])*W+j,st=(G[2]-G[0])*W,w=(G[3]-G[1])*W),this.transform=[U*W,z*W,N*W,Z*W,rt-U*W*_-N*W*I,ut-z*W*_-Z*W*I],this.width=st,this.height=w}get rawDims(){const{viewBox:G}=this;return(0,o.shadow)(this,"rawDims",{pageWidth:G[2]-G[0],pageHeight:G[3]-G[1],pageX:G[0],pageY:G[1]})}clone({scale:G=this.scale,rotation:W=this.rotation,offsetX:at=this.offsetX,offsetY:ct=this.offsetY,dontFlip:j=!1}={}){return new b({viewBox:this.viewBox.slice(),scale:G,rotation:W,offsetX:at,offsetY:ct,dontFlip:j})}convertToViewportPoint(G,W){return o.Util.applyTransform([G,W],this.transform)}convertToViewportRectangle(G){const W=o.Util.applyTransform([G[0],G[1]],this.transform),at=o.Util.applyTransform([G[2],G[3]],this.transform);return[W[0],W[1],at[0],at[1]]}convertToPdfPoint(G,W){return o.Util.applyInverseTransform([G,W],this.transform)}}s.PageViewport=b;class E extends o.BaseException{constructor(G,W,at=0){super(G,"RenderingCancelledException"),this.type=W,this.extraDelay=at}}s.RenderingCancelledException=E;function P(tt){const G=tt.length;let W=0;for(;W<G&&tt[W].trim()==="";)W++;return tt.substring(W,W+5).toLowerCase()==="data:"}function v(tt){return typeof tt=="string"&&/\.pdf$/i.test(tt)}function x(tt,G=!1){return G||([tt]=tt.split(/[#?]/,1)),tt.substring(tt.lastIndexOf("/")+1)}function T(tt,G="document.pdf"){if(typeof tt!="string")return G;if(P(tt))return(0,o.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),G;const W=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,at=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,ct=W.exec(tt);let j=at.exec(ct[1])||at.exec(ct[2])||at.exec(ct[3]);if(j&&(j=j[0],j.includes("%")))try{j=at.exec(decodeURIComponent(j))[0]}catch{}return j||G}class y{constructor(){Ct(this,"started",Object.create(null));Ct(this,"times",[])}time(G){G in this.started&&(0,o.warn)(`Timer is already running for ${G}`),this.started[G]=Date.now()}timeEnd(G){G in this.started||(0,o.warn)(`Timer has not been started for ${G}`),this.times.push({name:G,start:this.started[G],end:Date.now()}),delete this.started[G]}toString(){const G=[];let W=0;for(const{name:at}of this.times)W=Math.max(at.length,W);for(const{name:at,start:ct,end:j}of this.times)G.push(`${at.padEnd(W)} ${j-ct}ms
`);return G.join("")}}s.StatTimer=y;function C(tt,G){try{const{protocol:W}=G?new URL(tt,G):new URL(tt);return W==="http:"||W==="https:"}catch{return!1}}function p(tt,G=!1){return new Promise((W,at)=>{const ct=document.createElement("script");ct.src=tt,ct.onload=function(j){G&&ct.remove(),W(j)},ct.onerror=function(){at(new Error(`Cannot load script at: ${ct.src}`))},(document.head||document.documentElement).append(ct)})}function A(tt){console.log("Deprecated API usage: "+tt)}let R;class S{static toDateObject(G){if(!G||typeof G!="string")return null;R||(R=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const W=R.exec(G);if(!W)return null;const at=parseInt(W[1],10);let ct=parseInt(W[2],10);ct=ct>=1&&ct<=12?ct-1:0;let j=parseInt(W[3],10);j=j>=1&&j<=31?j:1;let k=parseInt(W[4],10);k=k>=0&&k<=23?k:0;let _=parseInt(W[5],10);_=_>=0&&_<=59?_:0;let I=parseInt(W[6],10);I=I>=0&&I<=59?I:0;const U=W[7]||"Z";let z=parseInt(W[8],10);z=z>=0&&z<=23?z:0;let N=parseInt(W[9],10)||0;return N=N>=0&&N<=59?N:0,U==="-"?(k+=z,_+=N):U==="+"&&(k-=z,_-=N),new Date(Date.UTC(at,ct,j,k,_,I))}}s.PDFDateString=S;function L(tt,{scale:G=1,rotation:W=0}){const{width:at,height:ct}=tt.attributes.style,j=[0,0,parseInt(at),parseInt(ct)];return new b({viewBox:j,scale:G,rotation:W})}function V(tt){if(tt.startsWith("#")){const G=parseInt(tt.slice(1),16);return[(G&16711680)>>16,(G&65280)>>8,G&255]}return tt.startsWith("rgb(")?tt.slice(4,-1).split(",").map(G=>parseInt(G)):tt.startsWith("rgba(")?tt.slice(5,-1).split(",").map(G=>parseInt(G)).slice(0,3):((0,o.warn)(`Not a valid color format: "${tt}"`),[0,0,0])}function X(tt){const G=document.createElement("span");G.style.visibility="hidden",document.body.append(G);for(const W of tt.keys()){G.style.color=W;const at=window.getComputedStyle(G).color;tt.set(W,V(at))}G.remove()}function it(tt){const{a:G,b:W,c:at,d:ct,e:j,f:k}=tt.getTransform();return[G,W,at,ct,j,k]}function gt(tt){const{a:G,b:W,c:at,d:ct,e:j,f:k}=tt.getTransform().invertSelf();return[G,W,at,ct,j,k]}function K(tt,G,W=!1,at=!0){if(G instanceof b){const{pageWidth:ct,pageHeight:j}=G.rawDims,{style:k}=tt,_=`calc(var(--scale-factor) * ${ct}px)`,I=`calc(var(--scale-factor) * ${j}px)`;!W||G.rotation%180===0?(k.width=_,k.height=I):(k.width=I,k.height=_)}at&&tt.setAttribute("data-main-rotation",G.rotation)}},(n,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BaseStandardFontDataFactory=s.BaseSVGFactory=s.BaseCanvasFactory=s.BaseCMapReaderFactory=void 0;var a=i(1);class o{constructor(){this.constructor===o&&(0,a.unreachable)("Cannot initialize BaseCanvasFactory.")}create(h,d){if(h<=0||d<=0)throw new Error("Invalid canvas size");const g=this._createCanvas(h,d);return{canvas:g,context:g.getContext("2d")}}reset(h,d,g){if(!h.canvas)throw new Error("Canvas is not specified");if(d<=0||g<=0)throw new Error("Invalid canvas size");h.canvas.width=d,h.canvas.height=g}destroy(h){if(!h.canvas)throw new Error("Canvas is not specified");h.canvas.width=0,h.canvas.height=0,h.canvas=null,h.context=null}_createCanvas(h,d){(0,a.unreachable)("Abstract method `_createCanvas` called.")}}s.BaseCanvasFactory=o;class c{constructor({baseUrl:h=null,isCompressed:d=!0}){this.constructor===c&&(0,a.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=h,this.isCompressed=d}async fetch({name:h}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!h)throw new Error("CMap name must be specified.");const d=this.baseUrl+h+(this.isCompressed?".bcmap":""),g=this.isCompressed?a.CMapCompressionType.BINARY:a.CMapCompressionType.NONE;return this._fetchData(d,g).catch(m=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${d}`)})}_fetchData(h,d){(0,a.unreachable)("Abstract method `_fetchData` called.")}}s.BaseCMapReaderFactory=c;class l{constructor({baseUrl:h=null}){this.constructor===l&&(0,a.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=h}async fetch({filename:h}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!h)throw new Error("Font filename must be specified.");const d=`${this.baseUrl}${h}`;return this._fetchData(d).catch(g=>{throw new Error(`Unable to load font data at: ${d}`)})}_fetchData(h){(0,a.unreachable)("Abstract method `_fetchData` called.")}}s.BaseStandardFontDataFactory=l;class f{constructor(){this.constructor===f&&(0,a.unreachable)("Cannot initialize BaseSVGFactory.")}create(h,d,g=!1){if(h<=0||d<=0)throw new Error("Invalid SVG dimensions");const m=this._createSVG("svg:svg");return m.setAttribute("version","1.1"),g||(m.setAttribute("width",`${h}px`),m.setAttribute("height",`${d}px`)),m.setAttribute("preserveAspectRatio","none"),m.setAttribute("viewBox",`0 0 ${h} ${d}`),m}createElement(h){if(typeof h!="string")throw new Error("Invalid SVG element type");return this._createSVG(h)}_createSVG(h){(0,a.unreachable)("Abstract method `_createSVG` called.")}}s.BaseSVGFactory=f},(n,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.MurmurHash3_64=void 0;var a=i(1);const o=3285377520,c=4294901760,l=65535;class f{constructor(h){this.h1=h?h&4294967295:o,this.h2=h?h&4294967295:o}update(h){let d,g;if(typeof h=="string"){d=new Uint8Array(h.length*2),g=0;for(let R=0,S=h.length;R<S;R++){const L=h.charCodeAt(R);L<=255?d[g++]=L:(d[g++]=L>>>8,d[g++]=L&255)}}else if((0,a.isArrayBuffer)(h))d=h.slice(),g=d.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const m=g>>2,b=g-m*4,E=new Uint32Array(d.buffer,0,m);let P=0,v=0,x=this.h1,T=this.h2;const y=3432918353,C=461845907,p=y&l,A=C&l;for(let R=0;R<m;R++)R&1?(P=E[R],P=P*y&c|P*p&l,P=P<<15|P>>>17,P=P*C&c|P*A&l,x^=P,x=x<<13|x>>>19,x=x*5+3864292196):(v=E[R],v=v*y&c|v*p&l,v=v<<15|v>>>17,v=v*C&c|v*A&l,T^=v,T=T<<13|T>>>19,T=T*5+3864292196);switch(P=0,b){case 3:P^=d[m*4+2]<<16;case 2:P^=d[m*4+1]<<8;case 1:P^=d[m*4],P=P*y&c|P*p&l,P=P<<15|P>>>17,P=P*C&c|P*A&l,m&1?x^=P:T^=P}this.h1=x,this.h2=T}hexdigest(){let h=this.h1,d=this.h2;return h^=d>>>1,h=h*3981806797&c|h*36045&l,d=d*4283543511&c|((d<<16|h>>>16)*2950163797&c)>>>16,h^=d>>>1,h=h*444984403&c|h*60499&l,d=d*3301882366&c|((d<<16|h>>>16)*3120437893&c)>>>16,h^=d>>>1,(h>>>0).toString(16).padStart(8,"0")+(d>>>0).toString(16).padStart(8,"0")}}s.MurmurHash3_64=f},(n,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.FontLoader=s.FontFaceObject=void 0;var a=i(1),o=i(10);class c{constructor({onUnsupportedFeature:u,ownerDocument:h=globalThis.document,styleElement:d=null}){this._onUnsupportedFeature=u,this._document=h,this.nativeFontFaces=[],this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(u){this.nativeFontFaces.push(u),this._document.fonts.add(u)}insertRule(u){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const h=this.styleElement.sheet;h.insertRule(u,h.cssRules.length)}clear(){for(const u of this.nativeFontFaces)this._document.fonts.delete(u);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(u){if(u.attached||u.missingFile)return;if(u.attached=!0,this.isFontLoadingAPISupported){const d=u.createNativeFontFace();if(d){this.addNativeFontFace(d);try{await d.loaded}catch(g){throw this._onUnsupportedFeature({featureId:a.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,a.warn)(`Failed to load font '${d.family}': '${g}'.`),u.disableFontFace=!0,g}}return}const h=u.createFontFaceRule();if(h){if(this.insertRule(h),this.isSyncFontLoadingSupported)return;await new Promise(d=>{const g=this._queueLoadingCallback(d);this._prepareFontLoadEvent(u,g)})}}get isFontLoadingAPISupported(){var h;const u=!!((h=this._document)!=null&&h.fonts);return(0,a.shadow)(this,"isFontLoadingAPISupported",u)}get isSyncFontLoadingSupported(){let u=!1;return(o.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(u=!0),(0,a.shadow)(this,"isSyncFontLoadingSupported",u)}_queueLoadingCallback(u){function h(){for((0,a.assert)(!g.done,"completeRequest() cannot be called twice."),g.done=!0;d.length>0&&d[0].done;){const m=d.shift();setTimeout(m.callback,0)}}const{loadingRequests:d}=this,g={done:!1,complete:h,callback:u};return d.push(g),g}get _loadTestFont(){const u=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,a.shadow)(this,"_loadTestFont",u)}_prepareFontLoadEvent(u,h){function d(X,it){return X.charCodeAt(it)<<24|X.charCodeAt(it+1)<<16|X.charCodeAt(it+2)<<8|X.charCodeAt(it+3)&255}function g(X,it,gt,K){const lt=X.substring(0,it),tt=X.substring(it+gt);return lt+K+tt}let m,b;const E=this._document.createElement("canvas");E.width=1,E.height=1;const P=E.getContext("2d");let v=0;function x(X,it){if(++v>30){(0,a.warn)("Load test font never loaded."),it();return}if(P.font="30px "+X,P.fillText(".",0,20),P.getImageData(0,0,1,1).data[3]>0){it();return}setTimeout(x.bind(null,X,it))}const T=`lt${Date.now()}${this.loadTestFontId++}`;let y=this._loadTestFont;y=g(y,976,T.length,T);const p=16,A=1482184792;let R=d(y,p);for(m=0,b=T.length-3;m<b;m+=4)R=R-A+d(T,m)|0;m<T.length&&(R=R-A+d(T+"XXX",m)|0),y=g(y,p,4,(0,a.string32)(R));const S=`url(data:font/opentype;base64,${btoa(y)});`,L=`@font-face {font-family:"${T}";src:${S}}`;this.insertRule(L);const V=this._document.createElement("div");V.style.visibility="hidden",V.style.width=V.style.height="10px",V.style.position="absolute",V.style.top=V.style.left="0px";for(const X of[u.loadedName,T]){const it=this._document.createElement("span");it.textContent="Hi",it.style.fontFamily=X,V.append(it)}this._document.body.append(V),x(T,()=>{V.remove(),h.complete()})}}s.FontLoader=c;class l{constructor(u,{isEvalSupported:h=!0,disableFontFace:d=!1,ignoreErrors:g=!1,onUnsupportedFeature:m,fontRegistry:b=null}){this.compiledGlyphs=Object.create(null);for(const E in u)this[E]=u[E];this.isEvalSupported=h!==!1,this.disableFontFace=d===!0,this.ignoreErrors=g===!0,this._onUnsupportedFeature=m,this.fontRegistry=b}createNativeFontFace(){var h;if(!this.data||this.disableFontFace)return null;let u;if(!this.cssFontInfo)u=new FontFace(this.loadedName,this.data,{});else{const d={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(d.style=`oblique ${this.cssFontInfo.italicAngle}deg`),u=new FontFace(this.cssFontInfo.fontFamily,this.data,d)}return(h=this.fontRegistry)==null||h.registerFont(this),u}createFontFaceRule(){var g;if(!this.data||this.disableFontFace)return null;const u=(0,a.bytesToString)(this.data),h=`url(data:${this.mimetype};base64,${btoa(u)});`;let d;if(!this.cssFontInfo)d=`@font-face {font-family:"${this.loadedName}";src:${h}}`;else{let m=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(m+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),d=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${m}src:${h}}`}return(g=this.fontRegistry)==null||g.registerFont(this,h),d}getPathGenerator(u,h){if(this.compiledGlyphs[h]!==void 0)return this.compiledGlyphs[h];let d;try{d=u.get(this.loadedName+"_path_"+h)}catch(g){if(!this.ignoreErrors)throw g;return this._onUnsupportedFeature({featureId:a.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,a.warn)(`getPathGenerator - ignoring character: "${g}".`),this.compiledGlyphs[h]=function(m,b){}}if(this.isEvalSupported&&a.FeatureTest.isEvalSupported){const g=[];for(const m of d){const b=m.args!==void 0?m.args.join(","):"";g.push("c.",m.cmd,"(",b,`);
`)}return this.compiledGlyphs[h]=new Function("c","size",g.join(""))}return this.compiledGlyphs[h]=function(g,m){for(const b of d)b.cmd==="scale"&&(b.args=[m,-m]),g[b.cmd].apply(g,b.args)}}}s.FontFaceObject=l},(n,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.isNodeJS=void 0;const i=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");s.isNodeJS=i},(n,s,i)=>{var W,le;Object.defineProperty(s,"__esModule",{value:!0}),s.CanvasGraphics=void 0;var a=i(1),o=i(6),c=i(12),l=i(13);const f=16,u=100,h=4096,d=15,g=10,m=1e3,b=16;function E(j,k){if(j._removeMirroring)throw new Error("Context is already forwarding operations.");j.__originalSave=j.save,j.__originalRestore=j.restore,j.__originalRotate=j.rotate,j.__originalScale=j.scale,j.__originalTranslate=j.translate,j.__originalTransform=j.transform,j.__originalSetTransform=j.setTransform,j.__originalResetTransform=j.resetTransform,j.__originalClip=j.clip,j.__originalMoveTo=j.moveTo,j.__originalLineTo=j.lineTo,j.__originalBezierCurveTo=j.bezierCurveTo,j.__originalRect=j.rect,j.__originalClosePath=j.closePath,j.__originalBeginPath=j.beginPath,j._removeMirroring=()=>{j.save=j.__originalSave,j.restore=j.__originalRestore,j.rotate=j.__originalRotate,j.scale=j.__originalScale,j.translate=j.__originalTranslate,j.transform=j.__originalTransform,j.setTransform=j.__originalSetTransform,j.resetTransform=j.__originalResetTransform,j.clip=j.__originalClip,j.moveTo=j.__originalMoveTo,j.lineTo=j.__originalLineTo,j.bezierCurveTo=j.__originalBezierCurveTo,j.rect=j.__originalRect,j.closePath=j.__originalClosePath,j.beginPath=j.__originalBeginPath,delete j._removeMirroring},j.save=function(){k.save(),this.__originalSave()},j.restore=function(){k.restore(),this.__originalRestore()},j.translate=function(I,U){k.translate(I,U),this.__originalTranslate(I,U)},j.scale=function(I,U){k.scale(I,U),this.__originalScale(I,U)},j.transform=function(I,U,z,N,Z,rt){k.transform(I,U,z,N,Z,rt),this.__originalTransform(I,U,z,N,Z,rt)},j.setTransform=function(I,U,z,N,Z,rt){k.setTransform(I,U,z,N,Z,rt),this.__originalSetTransform(I,U,z,N,Z,rt)},j.resetTransform=function(){k.resetTransform(),this.__originalResetTransform()},j.rotate=function(I){k.rotate(I),this.__originalRotate(I)},j.clip=function(I){k.clip(I),this.__originalClip(I)},j.moveTo=function(_,I){k.moveTo(_,I),this.__originalMoveTo(_,I)},j.lineTo=function(_,I){k.lineTo(_,I),this.__originalLineTo(_,I)},j.bezierCurveTo=function(_,I,U,z,N,Z){k.bezierCurveTo(_,I,U,z,N,Z),this.__originalBezierCurveTo(_,I,U,z,N,Z)},j.rect=function(_,I,U,z){k.rect(_,I,U,z),this.__originalRect(_,I,U,z)},j.closePath=function(){k.closePath(),this.__originalClosePath()},j.beginPath=function(){k.beginPath(),this.__originalBeginPath()}}class P{constructor(k){this.canvasFactory=k,this.cache=Object.create(null)}getCanvas(k,_,I){let U;return this.cache[k]!==void 0?(U=this.cache[k],this.canvasFactory.reset(U,_,I)):(U=this.canvasFactory.create(_,I),this.cache[k]=U),U}delete(k){delete this.cache[k]}clear(){for(const k in this.cache){const _=this.cache[k];this.canvasFactory.destroy(_),delete this.cache[k]}}}function v(j,k,_,I,U,z,N,Z,rt,ut){const[st,w,M,$,O,D]=(0,o.getCurrentTransform)(j);if(w===0&&M===0){const Q=N*st+O,ot=Math.round(Q),B=Z*$+D,J=Math.round(B),q=(N+rt)*st+O,ht=Math.abs(Math.round(q)-ot)||1,pt=(Z+ut)*$+D,yt=Math.abs(Math.round(pt)-J)||1;return j.setTransform(Math.sign(st),0,0,Math.sign($),ot,J),j.drawImage(k,_,I,U,z,0,0,ht,yt),j.setTransform(st,w,M,$,O,D),[ht,yt]}if(st===0&&$===0){const Q=Z*M+O,ot=Math.round(Q),B=N*w+D,J=Math.round(B),q=(Z+ut)*M+O,ht=Math.abs(Math.round(q)-ot)||1,pt=(N+rt)*w+D,yt=Math.abs(Math.round(pt)-J)||1;return j.setTransform(0,Math.sign(w),Math.sign(M),0,ot,J),j.drawImage(k,_,I,U,z,0,0,yt,ht),j.setTransform(st,w,M,$,O,D),[yt,ht]}j.drawImage(k,_,I,U,z,N,Z,rt,ut);const H=Math.hypot(st,w),Y=Math.hypot(M,$);return[H*rt,Y*ut]}function x(j){const{width:k,height:_}=j;if(k>m||_>m)return null;const I=1e3,U=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),z=k+1;let N=new Uint8Array(z*(_+1)),Z,rt,ut;const st=k+7&-8;let w=new Uint8Array(st*_),M=0;for(const Y of j.data){let Q=128;for(;Q>0;)w[M++]=Y&Q?0:255,Q>>=1}let $=0;for(M=0,w[M]!==0&&(N[0]=1,++$),rt=1;rt<k;rt++)w[M]!==w[M+1]&&(N[rt]=w[M]?2:1,++$),M++;for(w[M]!==0&&(N[rt]=2,++$),Z=1;Z<_;Z++){M=Z*st,ut=Z*z,w[M-st]!==w[M]&&(N[ut]=w[M]?1:8,++$);let Y=(w[M]?4:0)+(w[M-st]?8:0);for(rt=1;rt<k;rt++)Y=(Y>>2)+(w[M+1]?4:0)+(w[M-st+1]?8:0),U[Y]&&(N[ut+rt]=U[Y],++$),M++;if(w[M-st]!==w[M]&&(N[ut+rt]=w[M]?2:4,++$),$>I)return null}for(M=st*(_-1),ut=Z*z,w[M]!==0&&(N[ut]=8,++$),rt=1;rt<k;rt++)w[M]!==w[M+1]&&(N[ut+rt]=w[M]?4:8,++$),M++;if(w[M]!==0&&(N[ut+rt]=4,++$),$>I)return null;const O=new Int32Array([0,z,-1,0,-z,0,0,0,1]),D=new Path2D;for(Z=0;$&&Z<=_;Z++){let Y=Z*z;const Q=Y+k;for(;Y<Q&&!N[Y];)Y++;if(Y===Q)continue;D.moveTo(Y%z,Z);const ot=Y;let B=N[Y];do{const J=O[B];do Y+=J;while(!N[Y]);const q=N[Y];q!==5&&q!==10?(B=q,N[Y]=0):(B=q&51*B>>4,N[Y]&=B>>2|B<<2),D.lineTo(Y%z,Y/z|0),N[Y]||--$}while(ot!==Y);--Z}return w=null,N=null,function(Y){Y.save(),Y.scale(1/k,-1/_),Y.translate(0,-_),Y.fill(D),Y.beginPath(),Y.restore()}}class T{constructor(k,_){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=a.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=a.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=a.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,k,_])}clone(){const k=Object.create(this);return k.clipBox=this.clipBox.slice(),k}setCurrentPoint(k,_){this.x=k,this.y=_}updatePathMinMax(k,_,I){[_,I]=a.Util.applyTransform([_,I],k),this.minX=Math.min(this.minX,_),this.minY=Math.min(this.minY,I),this.maxX=Math.max(this.maxX,_),this.maxY=Math.max(this.maxY,I)}updateRectMinMax(k,_){const I=a.Util.applyTransform(_,k),U=a.Util.applyTransform(_.slice(2),k);this.minX=Math.min(this.minX,I[0],U[0]),this.minY=Math.min(this.minY,I[1],U[1]),this.maxX=Math.max(this.maxX,I[0],U[0]),this.maxY=Math.max(this.maxY,I[1],U[1])}updateScalingPathMinMax(k,_){a.Util.scaleMinMax(k,_),this.minX=Math.min(this.minX,_[0]),this.maxX=Math.max(this.maxX,_[1]),this.minY=Math.min(this.minY,_[2]),this.maxY=Math.max(this.maxY,_[3])}updateCurvePathMinMax(k,_,I,U,z,N,Z,rt,ut,st){const w=a.Util.bezierBoundingBox(_,I,U,z,N,Z,rt,ut);if(st){st[0]=Math.min(st[0],w[0],w[2]),st[1]=Math.max(st[1],w[0],w[2]),st[2]=Math.min(st[2],w[1],w[3]),st[3]=Math.max(st[3],w[1],w[3]);return}this.updateRectMinMax(k,w)}getPathBoundingBox(k=c.PathType.FILL,_=null){const I=[this.minX,this.minY,this.maxX,this.maxY];if(k===c.PathType.STROKE){_||(0,a.unreachable)("Stroke bounding box must include transform.");const U=a.Util.singularValueDecompose2dScale(_),z=U[0]*this.lineWidth/2,N=U[1]*this.lineWidth/2;I[0]-=z,I[1]-=N,I[2]+=z,I[3]+=N}return I}updateClipFromPath(){const k=a.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(k||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(k){this.clipBox=k,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(k=c.PathType.FILL,_=null){return a.Util.intersect(this.clipBox,this.getPathBoundingBox(k,_))}}function y(j,k,_=null){if(typeof ImageData<"u"&&k instanceof ImageData){j.putImageData(k,0,0);return}const I=k.height,U=k.width,z=I%b,N=(I-z)/b,Z=z===0?N:N+1,rt=j.createImageData(U,b);let ut=0,st;const w=k.data,M=rt.data;let $,O,D,H,Y,Q,ot,B;if(_)switch(_.length){case 1:Y=_[0],Q=_[0],ot=_[0],B=_[0];break;case 4:Y=_[0],Q=_[1],ot=_[2],B=_[3];break}if(k.kind===a.ImageKind.GRAYSCALE_1BPP){const J=w.byteLength,q=new Uint32Array(M.buffer,0,M.byteLength>>2),ht=q.length,pt=U+7>>3;let yt=4294967295,xt=a.FeatureTest.isLittleEndian?4278190080:255;for(B&&B[0]===255&&B[255]===0&&([yt,xt]=[xt,yt]),$=0;$<Z;$++){for(D=$<N?b:z,st=0,O=0;O<D;O++){const At=J-ut;let Et=0;const Pt=At>pt?U:At*8-7,dt=Pt&-8;let nt=0,et=0;for(;Et<dt;Et+=8)et=w[ut++],q[st++]=et&128?yt:xt,q[st++]=et&64?yt:xt,q[st++]=et&32?yt:xt,q[st++]=et&16?yt:xt,q[st++]=et&8?yt:xt,q[st++]=et&4?yt:xt,q[st++]=et&2?yt:xt,q[st++]=et&1?yt:xt;for(;Et<Pt;Et++)nt===0&&(et=w[ut++],nt=128),q[st++]=et&nt?yt:xt,nt>>=1}for(;st<ht;)q[st++]=0;j.putImageData(rt,0,$*b)}}else if(k.kind===a.ImageKind.RGBA_32BPP){const J=!!(Y||Q||ot);for(O=0,H=U*b*4,$=0;$<N;$++){if(M.set(w.subarray(ut,ut+H)),ut+=H,J)for(let q=0;q<H;q+=4)Y&&(M[q+0]=Y[M[q+0]]),Q&&(M[q+1]=Q[M[q+1]]),ot&&(M[q+2]=ot[M[q+2]]);j.putImageData(rt,0,O),O+=b}if($<Z){if(H=U*z*4,M.set(w.subarray(ut,ut+H)),J)for(let q=0;q<H;q+=4)Y&&(M[q+0]=Y[M[q+0]]),Q&&(M[q+1]=Q[M[q+1]]),ot&&(M[q+2]=ot[M[q+2]]);j.putImageData(rt,0,O)}}else if(k.kind===a.ImageKind.RGB_24BPP){const J=!!(Y||Q||ot);for(D=b,H=U*D,$=0;$<Z;$++){for($>=N&&(D=z,H=U*D),st=0,O=H;O--;)M[st++]=w[ut++],M[st++]=w[ut++],M[st++]=w[ut++],M[st++]=255;if(J)for(let q=0;q<st;q+=4)Y&&(M[q+0]=Y[M[q+0]]),Q&&(M[q+1]=Q[M[q+1]]),ot&&(M[q+2]=ot[M[q+2]]);j.putImageData(rt,0,$*b)}}else throw new Error(`bad image kind: ${k.kind}`)}function C(j,k){if(k.bitmap){j.drawImage(k.bitmap,0,0);return}const _=k.height,I=k.width,U=_%b,z=(_-U)/b,N=U===0?z:z+1,Z=j.createImageData(I,b);let rt=0;const ut=k.data,st=Z.data;for(let w=0;w<N;w++){const M=w<z?b:U;({srcPos:rt}=(0,l.applyMaskImageData)({src:ut,srcPos:rt,dest:st,width:I,height:M})),j.putImageData(Z,0,w*b)}}function p(j,k){const _=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(const I of _)j[I]!==void 0&&(k[I]=j[I]);j.setLineDash!==void 0&&(k.setLineDash(j.getLineDash()),k.lineDashOffset=j.lineDashOffset)}function A(j,k){j.strokeStyle=j.fillStyle=k||"#000000",j.fillRule="nonzero",j.globalAlpha=1,j.lineWidth=1,j.lineCap="butt",j.lineJoin="miter",j.miterLimit=10,j.globalCompositeOperation="source-over",j.font="10px sans-serif",j.setLineDash!==void 0&&(j.setLineDash([]),j.lineDashOffset=0)}function R(j,k,_,I){const U=j.length;for(let z=3;z<U;z+=4){const N=j[z];if(N===0)j[z-3]=k,j[z-2]=_,j[z-1]=I;else if(N<255){const Z=255-N;j[z-3]=j[z-3]*N+k*Z>>8,j[z-2]=j[z-2]*N+_*Z>>8,j[z-1]=j[z-1]*N+I*Z>>8}}}function S(j,k,_){const I=j.length,U=1/255;for(let z=3;z<I;z+=4){const N=_?_[j[z]]:j[z];k[z]=k[z]*N*U|0}}function L(j,k,_){const I=j.length;for(let U=3;U<I;U+=4){const z=j[U-3]*77+j[U-2]*152+j[U-1]*28;k[U]=_?k[U]*_[z>>8]>>8:k[U]*z>>16}}function V(j,k,_,I,U,z,N,Z,rt,ut,st){const w=!!z,M=w?z[0]:0,$=w?z[1]:0,O=w?z[2]:0;let D;U==="Luminosity"?D=L:D=S;const Y=Math.min(I,Math.ceil(1048576/_));for(let Q=0;Q<I;Q+=Y){const ot=Math.min(Y,I-Q),B=j.getImageData(Z-ut,Q+(rt-st),_,ot),J=k.getImageData(Z,Q+rt,_,ot);w&&R(B.data,M,$,O),D(B.data,J.data,N),k.putImageData(J,Z,Q+rt)}}function X(j,k,_,I){const U=I[0],z=I[1],N=I[2]-U,Z=I[3]-z;N===0||Z===0||(V(k.context,_,N,Z,k.subtype,k.backdrop,k.transferMap,U,z,k.offsetX,k.offsetY),j.save(),j.globalAlpha=1,j.globalCompositeOperation="source-over",j.setTransform(1,0,0,1,0,0),j.drawImage(_.canvas,0,0),j.restore())}function it(j,k){const _=a.Util.singularValueDecompose2dScale(j);_[0]=Math.fround(_[0]),_[1]=Math.fround(_[1]);const I=Math.fround((globalThis.devicePixelRatio||1)*o.PixelsPerInch.PDF_TO_CSS_UNITS);return k!==void 0?k:_[0]<=I||_[1]<=I}const gt=["butt","round","square"],K=["miter","round","bevel"],lt={},tt={},ct=class ct{constructor(k,_,I,U,{optionalContentConfig:z,markedContentStack:N=null},Z,rt){mt(this,W);this.ctx=k,this.current=new T(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=_,this.objs=I,this.canvasFactory=U,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=N||[],this.optionalContentConfig=z,this.cachedCanvases=new P(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Z,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(rt==null?void 0:rt.background)||null,this.foregroundColor=(rt==null?void 0:rt.foreground)||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(k,_=null){return typeof k=="string"?k.startsWith("g_")?this.commonObjs.get(k):this.objs.get(k):_}beginDrawing({transform:k,viewport:_,transparency:I=!1,background:U=null}){const z=this.ctx.canvas.width,N=this.ctx.canvas.height,Z=U||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const rt=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const ut=this.backgroundColor=this.ctx.fillStyle;let st=!0,w=Z;if(this.ctx.fillStyle=Z,w=this.ctx.fillStyle,st=typeof w=="string"&&/^#[0-9A-Fa-f]{6}$/.test(w),rt==="#000000"&&ut==="#ffffff"||rt===ut||!st)this.foregroundColor=this.backgroundColor=null;else{const[M,$,O]=(0,o.getRGB)(w),D=Y=>(Y/=255,Y<=.03928?Y/12.92:((Y+.055)/1.055)**2.4),H=Math.round(.2126*D(M)+.7152*D($)+.0722*D(O));this.selectColor=(Y,Q,ot)=>{const B=.2126*D(Y)+.7152*D(Q)+.0722*D(ot);return Math.round(B)===H?ut:rt}}}if(this.ctx.fillStyle=this.backgroundColor||Z,this.ctx.fillRect(0,0,z,N),this.ctx.restore(),I){const rt=this.cachedCanvases.getCanvas("transparent",z,N);this.compositeCtx=this.ctx,this.transparentCanvas=rt.canvas,this.ctx=rt.context,this.ctx.save(),this.ctx.transform(...(0,o.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),A(this.ctx,this.foregroundColor),k&&(this.ctx.transform(...k),this.outputScaleX=k[0],this.outputScaleY=k[0]),this.ctx.transform(..._.transform),this.viewportScale=_.scale,this.baseTransform=(0,o.getCurrentTransform)(this.ctx)}executeOperatorList(k,_,I,U){const z=k.argsArray,N=k.fnArray;let Z=_||0;const rt=z.length;if(rt===Z)return Z;const ut=rt-Z>g&&typeof I=="function",st=ut?Date.now()+d:0;let w=0;const M=this.commonObjs,$=this.objs;let O;for(;;){if(U!==void 0&&Z===U.nextBreakPoint)return U.breakIt(Z,I),Z;if(O=N[Z],O!==a.OPS.dependency)this[O].apply(this,z[Z]);else for(const D of z[Z]){const H=D.startsWith("g_")?M:$;if(!H.has(D))return H.get(D,I),Z}if(Z++,Z===rt)return Z;if(ut&&++w>g){if(Date.now()>st)return I(),Z;w=0}}}endDrawing(){ft(this,W,le).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const k of this._cachedBitmapsMap.values()){for(const _ of k.values())typeof HTMLCanvasElement<"u"&&_ instanceof HTMLCanvasElement&&(_.width=_.height=0);k.clear()}this._cachedBitmapsMap.clear()}_scaleImage(k,_){const I=k.width,U=k.height;let z=Math.max(Math.hypot(_[0],_[1]),1),N=Math.max(Math.hypot(_[2],_[3]),1),Z=I,rt=U,ut="prescale1",st,w;for(;z>2&&Z>1||N>2&&rt>1;){let M=Z,$=rt;z>2&&Z>1&&(M=Math.ceil(Z/2),z/=Z/M),N>2&&rt>1&&($=Math.ceil(rt/2),N/=rt/$),st=this.cachedCanvases.getCanvas(ut,M,$),w=st.context,w.clearRect(0,0,M,$),w.drawImage(k,0,0,Z,rt,0,0,M,$),k=st.canvas,Z=M,rt=$,ut=ut==="prescale1"?"prescale2":"prescale1"}return{img:k,paintWidth:Z,paintHeight:rt}}_createMaskCanvas(k){const _=this.ctx,{width:I,height:U}=k,z=this.current.fillColor,N=this.current.patternFill,Z=(0,o.getCurrentTransform)(_);let rt,ut,st,w;if((k.bitmap||k.data)&&k.count>1){const ht=k.bitmap||k.data.buffer;ut=JSON.stringify(N?Z:[Z.slice(0,4),z]),rt=this._cachedBitmapsMap.get(ht),rt||(rt=new Map,this._cachedBitmapsMap.set(ht,rt));const pt=rt.get(ut);if(pt&&!N){const yt=Math.round(Math.min(Z[0],Z[2])+Z[4]),xt=Math.round(Math.min(Z[1],Z[3])+Z[5]);return{canvas:pt,offsetX:yt,offsetY:xt}}st=pt}st||(w=this.cachedCanvases.getCanvas("maskCanvas",I,U),C(w.context,k));let M=a.Util.transform(Z,[1/I,0,0,-1/U,0,0]);M=a.Util.transform(M,[1,0,0,1,0,-U]);const $=a.Util.applyTransform([0,0],M),O=a.Util.applyTransform([I,U],M),D=a.Util.normalizeRect([$[0],$[1],O[0],O[1]]),H=Math.round(D[2]-D[0])||1,Y=Math.round(D[3]-D[1])||1,Q=this.cachedCanvases.getCanvas("fillCanvas",H,Y),ot=Q.context,B=Math.min($[0],O[0]),J=Math.min($[1],O[1]);ot.translate(-B,-J),ot.transform(...M),st||(st=this._scaleImage(w.canvas,(0,o.getCurrentTransformInverse)(ot)),st=st.img,rt&&N&&rt.set(ut,st)),ot.imageSmoothingEnabled=it((0,o.getCurrentTransform)(ot),k.interpolate),v(ot,st,0,0,st.width,st.height,0,0,I,U),ot.globalCompositeOperation="source-in";const q=a.Util.transform((0,o.getCurrentTransformInverse)(ot),[1,0,0,1,-B,-J]);return ot.fillStyle=N?z.getPattern(_,this,q,c.PathType.FILL):z,ot.fillRect(0,0,I,U),rt&&!N&&(this.cachedCanvases.delete("fillCanvas"),rt.set(ut,Q.canvas)),{canvas:Q.canvas,offsetX:Math.round(B),offsetY:Math.round(J)}}setLineWidth(k){k!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=k,this.ctx.lineWidth=k}setLineCap(k){this.ctx.lineCap=gt[k]}setLineJoin(k){this.ctx.lineJoin=K[k]}setMiterLimit(k){this.ctx.miterLimit=k}setDash(k,_){const I=this.ctx;I.setLineDash!==void 0&&(I.setLineDash(k),I.lineDashOffset=_)}setRenderingIntent(k){}setFlatness(k){}setGState(k){for(const[_,I]of k)switch(_){case"LW":this.setLineWidth(I);break;case"LC":this.setLineCap(I);break;case"LJ":this.setLineJoin(I);break;case"ML":this.setMiterLimit(I);break;case"D":this.setDash(I[0],I[1]);break;case"RI":this.setRenderingIntent(I);break;case"FL":this.setFlatness(I);break;case"Font":this.setFont(I[0],I[1]);break;case"CA":this.current.strokeAlpha=I;break;case"ca":this.current.fillAlpha=I,this.ctx.globalAlpha=I;break;case"BM":this.ctx.globalCompositeOperation=I;break;case"SMask":this.current.activeSMask=I?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=I}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const k=this.inSMaskMode;this.current.activeSMask&&!k?this.beginSMaskMode():!this.current.activeSMask&&k&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const k=this.ctx.canvas.width,_=this.ctx.canvas.height,I="smaskGroupAt"+this.groupLevel,U=this.cachedCanvases.getCanvas(I,k,_);this.suspendedCtx=this.ctx,this.ctx=U.context;const z=this.ctx;z.setTransform(...(0,o.getCurrentTransform)(this.suspendedCtx)),p(this.suspendedCtx,z),E(z,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),p(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(k){if(!this.current.activeSMask)return;k?(k[0]=Math.floor(k[0]),k[1]=Math.floor(k[1]),k[2]=Math.ceil(k[2]),k[3]=Math.ceil(k[3])):k=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const _=this.current.activeSMask,I=this.suspendedCtx;X(I,_,this.ctx,k),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(p(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const k=this.current;this.stateStack.push(k),this.current=k.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),p(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(k,_,I,U,z,N){this.ctx.transform(k,_,I,U,z,N),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(k,_,I){const U=this.ctx,z=this.current;let N=z.x,Z=z.y,rt,ut;const st=(0,o.getCurrentTransform)(U),w=st[0]===0&&st[3]===0||st[1]===0&&st[2]===0,M=w?I.slice(0):null;for(let $=0,O=0,D=k.length;$<D;$++)switch(k[$]|0){case a.OPS.rectangle:N=_[O++],Z=_[O++];const H=_[O++],Y=_[O++],Q=N+H,ot=Z+Y;U.moveTo(N,Z),H===0||Y===0?U.lineTo(Q,ot):(U.lineTo(Q,Z),U.lineTo(Q,ot),U.lineTo(N,ot)),w||z.updateRectMinMax(st,[N,Z,Q,ot]),U.closePath();break;case a.OPS.moveTo:N=_[O++],Z=_[O++],U.moveTo(N,Z),w||z.updatePathMinMax(st,N,Z);break;case a.OPS.lineTo:N=_[O++],Z=_[O++],U.lineTo(N,Z),w||z.updatePathMinMax(st,N,Z);break;case a.OPS.curveTo:rt=N,ut=Z,N=_[O+4],Z=_[O+5],U.bezierCurveTo(_[O],_[O+1],_[O+2],_[O+3],N,Z),z.updateCurvePathMinMax(st,rt,ut,_[O],_[O+1],_[O+2],_[O+3],N,Z,M),O+=6;break;case a.OPS.curveTo2:rt=N,ut=Z,U.bezierCurveTo(N,Z,_[O],_[O+1],_[O+2],_[O+3]),z.updateCurvePathMinMax(st,rt,ut,N,Z,_[O],_[O+1],_[O+2],_[O+3],M),N=_[O+2],Z=_[O+3],O+=4;break;case a.OPS.curveTo3:rt=N,ut=Z,N=_[O+2],Z=_[O+3],U.bezierCurveTo(_[O],_[O+1],N,Z,N,Z),z.updateCurvePathMinMax(st,rt,ut,_[O],_[O+1],N,Z,N,Z,M),O+=4;break;case a.OPS.closePath:U.closePath();break}w&&z.updateScalingPathMinMax(st,M),z.setCurrentPoint(N,Z)}closePath(){this.ctx.closePath()}stroke(k=!0){const _=this.ctx,I=this.current.strokeColor;_.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof I=="object"&&(I!=null&&I.getPattern)?(_.save(),_.strokeStyle=I.getPattern(_,this,(0,o.getCurrentTransformInverse)(_),c.PathType.STROKE),this.rescaleAndStroke(!1),_.restore()):this.rescaleAndStroke(!0)),k&&this.consumePath(this.current.getClippedPathBoundingBox()),_.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(k=!0){const _=this.ctx,I=this.current.fillColor,U=this.current.patternFill;let z=!1;U&&(_.save(),_.fillStyle=I.getPattern(_,this,(0,o.getCurrentTransformInverse)(_),c.PathType.FILL),z=!0);const N=this.current.getClippedPathBoundingBox();this.contentVisible&&N!==null&&(this.pendingEOFill?(_.fill("evenodd"),this.pendingEOFill=!1):_.fill()),z&&_.restore(),k&&this.consumePath(N)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=lt}eoClip(){this.pendingClip=tt}beginText(){this.current.textMatrix=a.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const k=this.pendingTextPaths,_=this.ctx;if(k===void 0){_.beginPath();return}_.save(),_.beginPath();for(const I of k)_.setTransform(...I.transform),_.translate(I.x,I.y),I.addToPath(_,I.fontSize);_.restore(),_.clip(),_.beginPath(),delete this.pendingTextPaths}setCharSpacing(k){this.current.charSpacing=k}setWordSpacing(k){this.current.wordSpacing=k}setHScale(k){this.current.textHScale=k/100}setLeading(k){this.current.leading=-k}setFont(k,_){const I=this.commonObjs.get(k),U=this.current;if(!I)throw new Error(`Can't find font for ${k}`);if(U.fontMatrix=I.fontMatrix||a.FONT_IDENTITY_MATRIX,(U.fontMatrix[0]===0||U.fontMatrix[3]===0)&&(0,a.warn)("Invalid font matrix for font "+k),_<0?(_=-_,U.fontDirection=-1):U.fontDirection=1,this.current.font=I,this.current.fontSize=_,I.isType3Font)return;const z=I.loadedName||"sans-serif";let N="normal";I.black?N="900":I.bold&&(N="bold");const Z=I.italic?"italic":"normal",rt=`"${z}", ${I.fallbackName}`;let ut=_;_<f?ut=f:_>u&&(ut=u),this.current.fontSizeScale=_/ut,this.ctx.font=`${Z} ${N} ${ut}px ${rt}`}setTextRenderingMode(k){this.current.textRenderingMode=k}setTextRise(k){this.current.textRise=k}moveText(k,_){this.current.x=this.current.lineX+=k,this.current.y=this.current.lineY+=_}setLeadingMoveText(k,_){this.setLeading(-_),this.moveText(k,_)}setTextMatrix(k,_,I,U,z,N){this.current.textMatrix=[k,_,I,U,z,N],this.current.textMatrixScale=Math.hypot(k,_),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(k,_,I,U){const z=this.ctx,N=this.current,Z=N.font,rt=N.textRenderingMode,ut=N.fontSize/N.fontSizeScale,st=rt&a.TextRenderingMode.FILL_STROKE_MASK,w=!!(rt&a.TextRenderingMode.ADD_TO_PATH_FLAG),M=N.patternFill&&!Z.missingFile;let $;(Z.disableFontFace||w||M)&&($=Z.getPathGenerator(this.commonObjs,k)),Z.disableFontFace||M?(z.save(),z.translate(_,I),z.beginPath(),$(z,ut),U&&z.setTransform(...U),(st===a.TextRenderingMode.FILL||st===a.TextRenderingMode.FILL_STROKE)&&z.fill(),(st===a.TextRenderingMode.STROKE||st===a.TextRenderingMode.FILL_STROKE)&&z.stroke(),z.restore()):((st===a.TextRenderingMode.FILL||st===a.TextRenderingMode.FILL_STROKE)&&z.fillText(k,_,I),(st===a.TextRenderingMode.STROKE||st===a.TextRenderingMode.FILL_STROKE)&&z.strokeText(k,_,I)),w&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,o.getCurrentTransform)(z),x:_,y:I,fontSize:ut,addToPath:$})}get isFontSubpixelAAEnabled(){const{context:k}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);k.scale(1.5,1),k.fillText("I",0,10);const _=k.getImageData(0,0,10,10).data;let I=!1;for(let U=3;U<_.length;U+=4)if(_[U]>0&&_[U]<255){I=!0;break}return(0,a.shadow)(this,"isFontSubpixelAAEnabled",I)}showText(k){const _=this.current,I=_.font;if(I.isType3Font)return this.showType3Text(k);const U=_.fontSize;if(U===0)return;const z=this.ctx,N=_.fontSizeScale,Z=_.charSpacing,rt=_.wordSpacing,ut=_.fontDirection,st=_.textHScale*ut,w=k.length,M=I.vertical,$=M?1:-1,O=I.defaultVMetrics,D=U*_.fontMatrix[0],H=_.textRenderingMode===a.TextRenderingMode.FILL&&!I.disableFontFace&&!_.patternFill;z.save(),z.transform(..._.textMatrix),z.translate(_.x,_.y+_.textRise),ut>0?z.scale(st,-1):z.scale(st,1);let Y;if(_.patternFill){z.save();const q=_.fillColor.getPattern(z,this,(0,o.getCurrentTransformInverse)(z),c.PathType.FILL);Y=(0,o.getCurrentTransform)(z),z.restore(),z.fillStyle=q}let Q=_.lineWidth;const ot=_.textMatrixScale;if(ot===0||Q===0){const q=_.textRenderingMode&a.TextRenderingMode.FILL_STROKE_MASK;(q===a.TextRenderingMode.STROKE||q===a.TextRenderingMode.FILL_STROKE)&&(Q=this.getSinglePixelWidth())}else Q/=ot;if(N!==1&&(z.scale(N,N),Q/=N),z.lineWidth=Q,I.isInvalidPDFjsFont){const q=[];let ht=0;for(const pt of k)q.push(pt.unicode),ht+=pt.width;z.fillText(q.join(""),0,0),_.x+=ht*D*st,z.restore(),this.compose();return}let B=0,J;for(J=0;J<w;++J){const q=k[J];if(typeof q=="number"){B+=$*q*U/1e3;continue}let ht=!1;const pt=(q.isSpace?rt:0)+Z,yt=q.fontChar,xt=q.accent;let At,Et,Pt=q.width;if(M){const nt=q.vmetric||O,et=-(q.vmetric?nt[1]:Pt*.5)*D,bt=nt[2]*D;Pt=nt?-nt[0]:Pt,At=et/N,Et=(B+bt)/N}else At=B/N,Et=0;if(I.remeasure&&Pt>0){const nt=z.measureText(yt).width*1e3/U*N;if(Pt<nt&&this.isFontSubpixelAAEnabled){const et=Pt/nt;ht=!0,z.save(),z.scale(et,1),At/=et}else Pt!==nt&&(At+=(Pt-nt)/2e3*U/N)}if(this.contentVisible&&(q.isInFont||I.missingFile)){if(H&&!xt)z.fillText(yt,At,Et);else if(this.paintChar(yt,At,Et,Y),xt){const nt=At+U*xt.offset.x/N,et=Et-U*xt.offset.y/N;this.paintChar(xt.fontChar,nt,et,Y)}}let dt;M?dt=Pt*D-pt*ut:dt=Pt*D+pt*ut,B+=dt,ht&&z.restore()}M?_.y-=B:_.x+=B*st,z.restore(),this.compose()}showType3Text(k){const _=this.ctx,I=this.current,U=I.font,z=I.fontSize,N=I.fontDirection,Z=U.vertical?1:-1,rt=I.charSpacing,ut=I.wordSpacing,st=I.textHScale*N,w=I.fontMatrix||a.FONT_IDENTITY_MATRIX,M=k.length,$=I.textRenderingMode===a.TextRenderingMode.INVISIBLE;let O,D,H,Y;if(!($||z===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,_.save(),_.transform(...I.textMatrix),_.translate(I.x,I.y),_.scale(st,N),O=0;O<M;++O){if(D=k[O],typeof D=="number"){Y=Z*D*z/1e3,this.ctx.translate(Y,0),I.x+=Y*st;continue}const Q=(D.isSpace?ut:0)+rt,ot=U.charProcOperatorList[D.operatorListId];if(!ot){(0,a.warn)(`Type3 character "${D.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=D,this.save(),_.scale(z,z),_.transform(...w),this.executeOperatorList(ot),this.restore()),H=a.Util.applyTransform([D.width,0],w)[0]*z+Q,_.translate(H,0),I.x+=H*st}_.restore(),this.processingType3=null}}setCharWidth(k,_){}setCharWidthAndBounds(k,_,I,U,z,N){this.ctx.rect(I,U,z-I,N-U),this.ctx.clip(),this.endPath()}getColorN_Pattern(k){let _;if(k[0]==="TilingPattern"){const I=k[1],U=this.baseTransform||(0,o.getCurrentTransform)(this.ctx),z={createCanvasGraphics:N=>new ct(N,this.commonObjs,this.objs,this.canvasFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};_=new c.TilingPattern(k,I,this.ctx,z,U)}else _=this._getPattern(k[1],k[2]);return _}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(k,_,I){var z;const U=((z=this.selectColor)==null?void 0:z.call(this,k,_,I))||a.Util.makeHexColor(k,_,I);this.ctx.strokeStyle=U,this.current.strokeColor=U}setFillRGBColor(k,_,I){var z;const U=((z=this.selectColor)==null?void 0:z.call(this,k,_,I))||a.Util.makeHexColor(k,_,I);this.ctx.fillStyle=U,this.current.fillColor=U,this.current.patternFill=!1}_getPattern(k,_=null){let I;return this.cachedPatterns.has(k)?I=this.cachedPatterns.get(k):(I=(0,c.getShadingPattern)(this.objs.get(k)),this.cachedPatterns.set(k,I)),_&&(I.matrix=_),I}shadingFill(k){if(!this.contentVisible)return;const _=this.ctx;this.save();const I=this._getPattern(k);_.fillStyle=I.getPattern(_,this,(0,o.getCurrentTransformInverse)(_),c.PathType.SHADING);const U=(0,o.getCurrentTransformInverse)(_);if(U){const z=_.canvas,N=z.width,Z=z.height,rt=a.Util.applyTransform([0,0],U),ut=a.Util.applyTransform([0,Z],U),st=a.Util.applyTransform([N,0],U),w=a.Util.applyTransform([N,Z],U),M=Math.min(rt[0],ut[0],st[0],w[0]),$=Math.min(rt[1],ut[1],st[1],w[1]),O=Math.max(rt[0],ut[0],st[0],w[0]),D=Math.max(rt[1],ut[1],st[1],w[1]);this.ctx.fillRect(M,$,O-M,D-$)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,a.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,a.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(k,_){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(k)&&k.length===6&&this.transform(...k),this.baseTransform=(0,o.getCurrentTransform)(this.ctx),_)){const I=_[2]-_[0],U=_[3]-_[1];this.ctx.rect(_[0],_[1],I,U),this.current.updateRectMinMax((0,o.getCurrentTransform)(this.ctx),_),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(k){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const _=this.ctx;k.isolated||(0,a.info)("TODO: Support non-isolated groups."),k.knockout&&(0,a.warn)("Knockout groups not supported.");const I=(0,o.getCurrentTransform)(_);if(k.matrix&&_.transform(...k.matrix),!k.bbox)throw new Error("Bounding box is required.");let U=a.Util.getAxialAlignedBoundingBox(k.bbox,(0,o.getCurrentTransform)(_));const z=[0,0,_.canvas.width,_.canvas.height];U=a.Util.intersect(U,z)||[0,0,0,0];const N=Math.floor(U[0]),Z=Math.floor(U[1]);let rt=Math.max(Math.ceil(U[2])-N,1),ut=Math.max(Math.ceil(U[3])-Z,1),st=1,w=1;rt>h&&(st=rt/h,rt=h),ut>h&&(w=ut/h,ut=h),this.current.startNewPathAndClipBox([0,0,rt,ut]);let M="groupAt"+this.groupLevel;k.smask&&(M+="_smask_"+this.smaskCounter++%2);const $=this.cachedCanvases.getCanvas(M,rt,ut),O=$.context;O.scale(1/st,1/w),O.translate(-N,-Z),O.transform(...I),k.smask?this.smaskStack.push({canvas:$.canvas,context:O,offsetX:N,offsetY:Z,scaleX:st,scaleY:w,subtype:k.smask.subtype,backdrop:k.smask.backdrop,transferMap:k.smask.transferMap||null,startTransformInverse:null}):(_.setTransform(1,0,0,1,0,0),_.translate(N,Z),_.scale(st,w),_.save()),p(_,O),this.ctx=O,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(_),this.groupLevel++}endGroup(k){if(!this.contentVisible)return;this.groupLevel--;const _=this.ctx,I=this.groupStack.pop();if(this.ctx=I,this.ctx.imageSmoothingEnabled=!1,k.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const U=(0,o.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...U);const z=a.Util.getAxialAlignedBoundingBox([0,0,_.canvas.width,_.canvas.height],U);this.ctx.drawImage(_.canvas,0,0),this.ctx.restore(),this.compose(z)}}beginAnnotation(k,_,I,U,z){if(ft(this,W,le).call(this),A(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(_)&&_.length===4){const N=_[2]-_[0],Z=_[3]-_[1];if(z&&this.annotationCanvasMap){I=I.slice(),I[4]-=_[0],I[5]-=_[1],_=_.slice(),_[0]=_[1]=0,_[2]=N,_[3]=Z;const[rt,ut]=a.Util.singularValueDecompose2dScale((0,o.getCurrentTransform)(this.ctx)),{viewportScale:st}=this,w=Math.ceil(N*this.outputScaleX*st),M=Math.ceil(Z*this.outputScaleY*st);this.annotationCanvas=this.canvasFactory.create(w,M);const{canvas:$,context:O}=this.annotationCanvas;this.annotationCanvasMap.set(k,$),this.annotationCanvas.savedCtx=this.ctx,this.ctx=O,this.ctx.setTransform(rt,0,0,-ut,0,Z*ut),A(this.ctx,this.foregroundColor)}else A(this.ctx,this.foregroundColor),this.ctx.rect(_[0],_[1],N,Z),this.ctx.clip(),this.endPath()}this.current=new T(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...I),this.transform(...U)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(k){if(!this.contentVisible)return;const _=k.count;k=this.getObject(k.data,k),k.count=_;const I=this.ctx,U=this.processingType3;if(U&&(U.compiled===void 0&&(U.compiled=x(k)),U.compiled)){U.compiled(I);return}const z=this._createMaskCanvas(k),N=z.canvas;I.save(),I.setTransform(1,0,0,1,0,0),I.drawImage(N,z.offsetX,z.offsetY),I.restore(),this.compose()}paintImageMaskXObjectRepeat(k,_,I=0,U=0,z,N){if(!this.contentVisible)return;k=this.getObject(k.data,k);const Z=this.ctx;Z.save();const rt=(0,o.getCurrentTransform)(Z);Z.transform(_,I,U,z,0,0);const ut=this._createMaskCanvas(k);Z.setTransform(1,0,0,1,ut.offsetX-rt[4],ut.offsetY-rt[5]);for(let st=0,w=N.length;st<w;st+=2){const M=a.Util.transform(rt,[_,I,U,z,N[st],N[st+1]]),[$,O]=a.Util.applyTransform([0,0],M);Z.drawImage(ut.canvas,$,O)}Z.restore(),this.compose()}paintImageMaskXObjectGroup(k){if(!this.contentVisible)return;const _=this.ctx,I=this.current.fillColor,U=this.current.patternFill;for(const z of k){const{data:N,width:Z,height:rt,transform:ut}=z,st=this.cachedCanvases.getCanvas("maskCanvas",Z,rt),w=st.context;w.save();const M=this.getObject(N,z);C(w,M),w.globalCompositeOperation="source-in",w.fillStyle=U?I.getPattern(w,this,(0,o.getCurrentTransformInverse)(_),c.PathType.FILL):I,w.fillRect(0,0,Z,rt),w.restore(),_.save(),_.transform(...ut),_.scale(1,-1),v(_,st.canvas,0,0,Z,rt,0,-1,1,1),_.restore()}this.compose()}paintImageXObject(k){if(!this.contentVisible)return;const _=this.getObject(k);if(!_){(0,a.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(_)}paintImageXObjectRepeat(k,_,I,U){if(!this.contentVisible)return;const z=this.getObject(k);if(!z){(0,a.warn)("Dependent image isn't ready yet");return}const N=z.width,Z=z.height,rt=[];for(let ut=0,st=U.length;ut<st;ut+=2)rt.push({transform:[_,0,0,I,U[ut],U[ut+1]],x:0,y:0,w:N,h:Z});this.paintInlineImageXObjectGroup(z,rt)}paintInlineImageXObject(k){if(!this.contentVisible)return;const _=k.width,I=k.height,U=this.ctx;this.save(),U.scale(1/_,-1/I);let z;if(typeof HTMLElement=="function"&&k instanceof HTMLElement||!k.data)z=k;else{const Z=this.cachedCanvases.getCanvas("inlineImage",_,I),rt=Z.context;y(rt,k,this.current.transferMaps),z=Z.canvas}const N=this._scaleImage(z,(0,o.getCurrentTransformInverse)(U));U.imageSmoothingEnabled=it((0,o.getCurrentTransform)(U),k.interpolate),v(U,N.img,0,0,N.paintWidth,N.paintHeight,0,-I,_,I),this.compose(),this.restore()}paintInlineImageXObjectGroup(k,_){if(!this.contentVisible)return;const I=this.ctx,U=k.width,z=k.height,N=this.cachedCanvases.getCanvas("inlineImage",U,z),Z=N.context;y(Z,k,this.current.transferMaps);for(const rt of _)I.save(),I.transform(...rt.transform),I.scale(1,-1),v(I,N.canvas,rt.x,rt.y,rt.w,rt.h,0,-1,1,1),I.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(k){}markPointProps(k,_){}beginMarkedContent(k){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(k,_){k==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(_)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(k){const _=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(k);const I=this.ctx;this.pendingClip&&(_||(this.pendingClip===tt?I.clip("evenodd"):I.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),I.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const k=(0,o.getCurrentTransform)(this.ctx);if(k[1]===0&&k[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(k[0]),Math.abs(k[3]));else{const _=Math.abs(k[0]*k[3]-k[2]*k[1]),I=Math.hypot(k[0],k[2]),U=Math.hypot(k[1],k[3]);this._cachedGetSinglePixelWidth=Math.max(I,U)/_}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:k}=this.current,_=(0,o.getCurrentTransform)(this.ctx);let I,U;if(_[1]===0&&_[2]===0){const z=Math.abs(_[0]),N=Math.abs(_[3]);if(k===0)I=1/z,U=1/N;else{const Z=z*k,rt=N*k;I=Z<1?1/Z:1,U=rt<1?1/rt:1}}else{const z=Math.abs(_[0]*_[3]-_[2]*_[1]),N=Math.hypot(_[0],_[1]),Z=Math.hypot(_[2],_[3]);if(k===0)I=Z/z,U=N/z;else{const rt=k*z;I=Z>rt?Z/rt:1,U=N>rt?N/rt:1}}this._cachedScaleForStroking=[I,U]}return this._cachedScaleForStroking}rescaleAndStroke(k){const{ctx:_}=this,{lineWidth:I}=this.current,[U,z]=this.getScaleForStroking();if(_.lineWidth=I||1,U===1&&z===1){_.stroke();return}let N,Z,rt;k&&(N=(0,o.getCurrentTransform)(_),Z=_.getLineDash().slice(),rt=_.lineDashOffset),_.scale(U,z);const ut=Math.max(U,z);_.setLineDash(_.getLineDash().map(st=>st/ut)),_.lineDashOffset/=ut,_.stroke(),k&&(_.setTransform(...N),_.setLineDash(Z),_.lineDashOffset=rt)}isContentVisible(){for(let k=this.markedContentStack.length-1;k>=0;k--)if(!this.markedContentStack[k].visible)return!1;return!0}};W=new WeakSet,le=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)};let G=ct;s.CanvasGraphics=G;for(const j in a.OPS)G.prototype[j]!==void 0&&(G.prototype[a.OPS[j]]=G.prototype[j])},(n,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TilingPattern=s.PathType=void 0,s.getShadingPattern=b;var a=i(1),o=i(6);const c={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};s.PathType=c;function l(v,x){if(!x)return;const T=x[2]-x[0],y=x[3]-x[1],C=new Path2D;C.rect(x[0],x[1],T,y),v.clip(C)}class f{constructor(){this.constructor===f&&(0,a.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,a.unreachable)("Abstract method `getPattern` called.")}}class u extends f{constructor(x){super(),this._type=x[1],this._bbox=x[2],this._colorStops=x[3],this._p0=x[4],this._p1=x[5],this._r0=x[6],this._r1=x[7],this.matrix=null}_createGradient(x){let T;this._type==="axial"?T=x.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(T=x.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const y of this._colorStops)T.addColorStop(y[0],y[1]);return T}getPattern(x,T,y,C){let p;if(C===c.STROKE||C===c.FILL){const A=T.current.getClippedPathBoundingBox(C,(0,o.getCurrentTransform)(x))||[0,0,0,0],R=Math.ceil(A[2]-A[0])||1,S=Math.ceil(A[3]-A[1])||1,L=T.cachedCanvases.getCanvas("pattern",R,S,!0),V=L.context;V.clearRect(0,0,V.canvas.width,V.canvas.height),V.beginPath(),V.rect(0,0,V.canvas.width,V.canvas.height),V.translate(-A[0],-A[1]),y=a.Util.transform(y,[1,0,0,1,A[0],A[1]]),V.transform(...T.baseTransform),this.matrix&&V.transform(...this.matrix),l(V,this._bbox),V.fillStyle=this._createGradient(V),V.fill(),p=x.createPattern(L.canvas,"no-repeat");const X=new DOMMatrix(y);p.setTransform(X)}else l(x,this._bbox),p=this._createGradient(x);return p}}function h(v,x,T,y,C,p,A,R){const S=x.coords,L=x.colors,V=v.data,X=v.width*4;let it;S[T+1]>S[y+1]&&(it=T,T=y,y=it,it=p,p=A,A=it),S[y+1]>S[C+1]&&(it=y,y=C,C=it,it=A,A=R,R=it),S[T+1]>S[y+1]&&(it=T,T=y,y=it,it=p,p=A,A=it);const gt=(S[T]+x.offsetX)*x.scaleX,K=(S[T+1]+x.offsetY)*x.scaleY,lt=(S[y]+x.offsetX)*x.scaleX,tt=(S[y+1]+x.offsetY)*x.scaleY,G=(S[C]+x.offsetX)*x.scaleX,W=(S[C+1]+x.offsetY)*x.scaleY;if(K>=W)return;const at=L[p],ct=L[p+1],j=L[p+2],k=L[A],_=L[A+1],I=L[A+2],U=L[R],z=L[R+1],N=L[R+2],Z=Math.round(K),rt=Math.round(W);let ut,st,w,M,$,O,D,H;for(let Y=Z;Y<=rt;Y++){if(Y<tt){let q;Y<K?q=0:q=(K-Y)/(K-tt),ut=gt-(gt-lt)*q,st=at-(at-k)*q,w=ct-(ct-_)*q,M=j-(j-I)*q}else{let q;Y>W?q=1:tt===W?q=0:q=(tt-Y)/(tt-W),ut=lt-(lt-G)*q,st=k-(k-U)*q,w=_-(_-z)*q,M=I-(I-N)*q}let Q;Y<K?Q=0:Y>W?Q=1:Q=(K-Y)/(K-W),$=gt-(gt-G)*Q,O=at-(at-U)*Q,D=ct-(ct-z)*Q,H=j-(j-N)*Q;const ot=Math.round(Math.min(ut,$)),B=Math.round(Math.max(ut,$));let J=X*Y+ot*4;for(let q=ot;q<=B;q++)Q=(ut-q)/(ut-$),Q<0?Q=0:Q>1&&(Q=1),V[J++]=st-(st-O)*Q|0,V[J++]=w-(w-D)*Q|0,V[J++]=M-(M-H)*Q|0,V[J++]=255}}function d(v,x,T){const y=x.coords,C=x.colors;let p,A;switch(x.type){case"lattice":const R=x.verticesPerRow,S=Math.floor(y.length/R)-1,L=R-1;for(p=0;p<S;p++){let V=p*R;for(let X=0;X<L;X++,V++)h(v,T,y[V],y[V+1],y[V+R],C[V],C[V+1],C[V+R]),h(v,T,y[V+R+1],y[V+1],y[V+R],C[V+R+1],C[V+1],C[V+R])}break;case"triangles":for(p=0,A=y.length;p<A;p+=3)h(v,T,y[p],y[p+1],y[p+2],C[p],C[p+1],C[p+2]);break;default:throw new Error("illegal figure")}}class g extends f{constructor(x){super(),this._coords=x[2],this._colors=x[3],this._figures=x[4],this._bounds=x[5],this._bbox=x[7],this._background=x[8],this.matrix=null}_createMeshCanvas(x,T,y){const R=Math.floor(this._bounds[0]),S=Math.floor(this._bounds[1]),L=Math.ceil(this._bounds[2])-R,V=Math.ceil(this._bounds[3])-S,X=Math.min(Math.ceil(Math.abs(L*x[0]*1.1)),3e3),it=Math.min(Math.ceil(Math.abs(V*x[1]*1.1)),3e3),gt=L/X,K=V/it,lt={coords:this._coords,colors:this._colors,offsetX:-R,offsetY:-S,scaleX:1/gt,scaleY:1/K},tt=X+2*2,G=it+2*2,W=y.getCanvas("mesh",tt,G,!1),at=W.context,ct=at.createImageData(X,it);if(T){const k=ct.data;for(let _=0,I=k.length;_<I;_+=4)k[_]=T[0],k[_+1]=T[1],k[_+2]=T[2],k[_+3]=255}for(const k of this._figures)d(ct,k,lt);return at.putImageData(ct,2,2),{canvas:W.canvas,offsetX:R-2*gt,offsetY:S-2*K,scaleX:gt,scaleY:K}}getPattern(x,T,y,C){l(x,this._bbox);let p;if(C===c.SHADING)p=a.Util.singularValueDecompose2dScale((0,o.getCurrentTransform)(x));else if(p=a.Util.singularValueDecompose2dScale(T.baseTransform),this.matrix){const R=a.Util.singularValueDecompose2dScale(this.matrix);p=[p[0]*R[0],p[1]*R[1]]}const A=this._createMeshCanvas(p,C===c.SHADING?null:this._background,T.cachedCanvases);return C!==c.SHADING&&(x.setTransform(...T.baseTransform),this.matrix&&x.transform(...this.matrix)),x.translate(A.offsetX,A.offsetY),x.scale(A.scaleX,A.scaleY),x.createPattern(A.canvas,"no-repeat")}}class m extends f{getPattern(){return"hotpink"}}function b(v){switch(v[0]){case"RadialAxial":return new u(v);case"Mesh":return new g(v);case"Dummy":return new m}throw new Error(`Unknown IR type: ${v[0]}`)}const E={COLORED:1,UNCOLORED:2};class P{static get MAX_PATTERN_SIZE(){return(0,a.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(x,T,y,C,p){this.operatorList=x[2],this.matrix=x[3]||[1,0,0,1,0,0],this.bbox=x[4],this.xstep=x[5],this.ystep=x[6],this.paintType=x[7],this.tilingType=x[8],this.color=T,this.ctx=y,this.canvasGraphicsFactory=C,this.baseTransform=p}createPatternCanvas(x){const T=this.operatorList,y=this.bbox,C=this.xstep,p=this.ystep,A=this.paintType,R=this.tilingType,S=this.color,L=this.canvasGraphicsFactory;(0,a.info)("TilingType: "+R);const V=y[0],X=y[1],it=y[2],gt=y[3],K=a.Util.singularValueDecompose2dScale(this.matrix),lt=a.Util.singularValueDecompose2dScale(this.baseTransform),tt=[K[0]*lt[0],K[1]*lt[1]],G=this.getSizeAndScale(C,this.ctx.canvas.width,tt[0]),W=this.getSizeAndScale(p,this.ctx.canvas.height,tt[1]),at=x.cachedCanvases.getCanvas("pattern",G.size,W.size,!0),ct=at.context,j=L.createCanvasGraphics(ct);j.groupLevel=x.groupLevel,this.setFillAndStrokeStyleToContext(j,A,S);let k=V,_=X,I=it,U=gt;return V<0&&(k=0,I+=Math.abs(V)),X<0&&(_=0,U+=Math.abs(X)),ct.translate(-(G.scale*k),-(W.scale*_)),j.transform(G.scale,0,0,W.scale,0,0),ct.save(),this.clipBbox(j,k,_,I,U),j.baseTransform=(0,o.getCurrentTransform)(j.ctx),j.executeOperatorList(T),j.endDrawing(),{canvas:at.canvas,scaleX:G.scale,scaleY:W.scale,offsetX:k,offsetY:_}}getSizeAndScale(x,T,y){x=Math.abs(x);const C=Math.max(P.MAX_PATTERN_SIZE,T);let p=Math.ceil(x*y);return p>=C?p=C:y=p/x,{scale:y,size:p}}clipBbox(x,T,y,C,p){const A=C-T,R=p-y;x.ctx.rect(T,y,A,R),x.current.updateRectMinMax((0,o.getCurrentTransform)(x.ctx),[T,y,C,p]),x.clip(),x.endPath()}setFillAndStrokeStyleToContext(x,T,y){const C=x.ctx,p=x.current;switch(T){case E.COLORED:const A=this.ctx;C.fillStyle=A.fillStyle,C.strokeStyle=A.strokeStyle,p.fillColor=A.fillStyle,p.strokeColor=A.strokeStyle;break;case E.UNCOLORED:const R=a.Util.makeHexColor(y[0],y[1],y[2]);C.fillStyle=R,C.strokeStyle=R,p.fillColor=R,p.strokeColor=R;break;default:throw new a.FormatError(`Unsupported paint type: ${T}`)}}getPattern(x,T,y,C){let p=y;C!==c.SHADING&&(p=a.Util.transform(p,T.baseTransform),this.matrix&&(p=a.Util.transform(p,this.matrix)));const A=this.createPatternCanvas(T);let R=new DOMMatrix(p);R=R.translate(A.offsetX,A.offsetY),R=R.scale(1/A.scaleX,1/A.scaleY);const S=x.createPattern(A.canvas,"repeat");return S.setTransform(R),S}}s.TilingPattern=P},(n,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.applyMaskImageData=o;var a=i(1);function o({src:c,srcPos:l=0,dest:f,destPos:u=0,width:h,height:d,inverseDecode:g=!1}){const m=a.FeatureTest.isLittleEndian?4278190080:255,[b,E]=g?[0,m]:[m,0],P=h>>3,v=h&7,x=c.length;f=new Uint32Array(f.buffer);for(let T=0;T<d;T++){for(const C=l+P;l<C;l++){const p=l<x?c[l]:255;f[u++]=p&128?E:b,f[u++]=p&64?E:b,f[u++]=p&32?E:b,f[u++]=p&16?E:b,f[u++]=p&8?E:b,f[u++]=p&4?E:b,f[u++]=p&2?E:b,f[u++]=p&1?E:b}if(v===0)continue;const y=l<x?c[l++]:255;for(let C=0;C<v;C++)f[u++]=y&1<<7-C?E:b}return{srcPos:l,destPos:u}}},(n,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.GlobalWorkerOptions=void 0;const i=Object.create(null);s.GlobalWorkerOptions=i,i.workerPort=null,i.workerSrc=""},(n,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.MessageHandler=void 0;var a=i(1);const o={DATA:1,ERROR:2},c={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function l(u){switch(u instanceof Error||typeof u=="object"&&u!==null||(0,a.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),u.name){case"AbortException":return new a.AbortException(u.message);case"MissingPDFException":return new a.MissingPDFException(u.message);case"PasswordException":return new a.PasswordException(u.message,u.code);case"UnexpectedResponseException":return new a.UnexpectedResponseException(u.message,u.status);case"UnknownErrorException":return new a.UnknownErrorException(u.message,u.details);default:return new a.UnknownErrorException(u.message,u.toString())}}class f{constructor(h,d,g){this.sourceName=h,this.targetName=d,this.comObj=g,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=m=>{const b=m.data;if(b.targetName!==this.sourceName)return;if(b.stream){this._processStreamMessage(b);return}if(b.callback){const P=b.callbackId,v=this.callbackCapabilities[P];if(!v)throw new Error(`Cannot resolve callback ${P}`);if(delete this.callbackCapabilities[P],b.callback===o.DATA)v.resolve(b.data);else if(b.callback===o.ERROR)v.reject(l(b.reason));else throw new Error("Unexpected callback case");return}const E=this.actionHandler[b.action];if(!E)throw new Error(`Unknown action from worker: ${b.action}`);if(b.callbackId){const P=this.sourceName,v=b.sourceName;new Promise(function(x){x(E(b.data))}).then(function(x){g.postMessage({sourceName:P,targetName:v,callback:o.DATA,callbackId:b.callbackId,data:x})},function(x){g.postMessage({sourceName:P,targetName:v,callback:o.ERROR,callbackId:b.callbackId,reason:l(x)})});return}if(b.streamId){this._createStreamSink(b);return}E(b.data)},g.addEventListener("message",this._onComObjOnMessage)}on(h,d){const g=this.actionHandler;if(g[h])throw new Error(`There is already an actionName called "${h}"`);g[h]=d}send(h,d,g){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:h,data:d},g)}sendWithPromise(h,d,g){const m=this.callbackId++,b=(0,a.createPromiseCapability)();this.callbackCapabilities[m]=b;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:h,callbackId:m,data:d},g)}catch(E){b.reject(E)}return b.promise}sendWithStream(h,d,g,m){const b=this.streamId++,E=this.sourceName,P=this.targetName,v=this.comObj;return new ReadableStream({start:x=>{const T=(0,a.createPromiseCapability)();return this.streamControllers[b]={controller:x,startCall:T,pullCall:null,cancelCall:null,isClosed:!1},v.postMessage({sourceName:E,targetName:P,action:h,streamId:b,data:d,desiredSize:x.desiredSize},m),T.promise},pull:x=>{const T=(0,a.createPromiseCapability)();return this.streamControllers[b].pullCall=T,v.postMessage({sourceName:E,targetName:P,stream:c.PULL,streamId:b,desiredSize:x.desiredSize}),T.promise},cancel:x=>{(0,a.assert)(x instanceof Error,"cancel must have a valid reason");const T=(0,a.createPromiseCapability)();return this.streamControllers[b].cancelCall=T,this.streamControllers[b].isClosed=!0,v.postMessage({sourceName:E,targetName:P,stream:c.CANCEL,streamId:b,reason:l(x)}),T.promise}},g)}_createStreamSink(h){const d=h.streamId,g=this.sourceName,m=h.sourceName,b=this.comObj,E=this,P=this.actionHandler[h.action],v={enqueue(x,T=1,y){if(this.isCancelled)return;const C=this.desiredSize;this.desiredSize-=T,C>0&&this.desiredSize<=0&&(this.sinkCapability=(0,a.createPromiseCapability)(),this.ready=this.sinkCapability.promise),b.postMessage({sourceName:g,targetName:m,stream:c.ENQUEUE,streamId:d,chunk:x},y)},close(){this.isCancelled||(this.isCancelled=!0,b.postMessage({sourceName:g,targetName:m,stream:c.CLOSE,streamId:d}),delete E.streamSinks[d])},error(x){(0,a.assert)(x instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,b.postMessage({sourceName:g,targetName:m,stream:c.ERROR,streamId:d,reason:l(x)}))},sinkCapability:(0,a.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:h.desiredSize,ready:null};v.sinkCapability.resolve(),v.ready=v.sinkCapability.promise,this.streamSinks[d]=v,new Promise(function(x){x(P(h.data,v))}).then(function(){b.postMessage({sourceName:g,targetName:m,stream:c.START_COMPLETE,streamId:d,success:!0})},function(x){b.postMessage({sourceName:g,targetName:m,stream:c.START_COMPLETE,streamId:d,reason:l(x)})})}_processStreamMessage(h){const d=h.streamId,g=this.sourceName,m=h.sourceName,b=this.comObj,E=this.streamControllers[d],P=this.streamSinks[d];switch(h.stream){case c.START_COMPLETE:h.success?E.startCall.resolve():E.startCall.reject(l(h.reason));break;case c.PULL_COMPLETE:h.success?E.pullCall.resolve():E.pullCall.reject(l(h.reason));break;case c.PULL:if(!P){b.postMessage({sourceName:g,targetName:m,stream:c.PULL_COMPLETE,streamId:d,success:!0});break}P.desiredSize<=0&&h.desiredSize>0&&P.sinkCapability.resolve(),P.desiredSize=h.desiredSize,new Promise(function(v){v(P.onPull&&P.onPull())}).then(function(){b.postMessage({sourceName:g,targetName:m,stream:c.PULL_COMPLETE,streamId:d,success:!0})},function(v){b.postMessage({sourceName:g,targetName:m,stream:c.PULL_COMPLETE,streamId:d,reason:l(v)})});break;case c.ENQUEUE:if((0,a.assert)(E,"enqueue should have stream controller"),E.isClosed)break;E.controller.enqueue(h.chunk);break;case c.CLOSE:if((0,a.assert)(E,"close should have stream controller"),E.isClosed)break;E.isClosed=!0,E.controller.close(),this._deleteStreamController(E,d);break;case c.ERROR:(0,a.assert)(E,"error should have stream controller"),E.controller.error(l(h.reason)),this._deleteStreamController(E,d);break;case c.CANCEL_COMPLETE:h.success?E.cancelCall.resolve():E.cancelCall.reject(l(h.reason)),this._deleteStreamController(E,d);break;case c.CANCEL:if(!P)break;new Promise(function(v){v(P.onCancel&&P.onCancel(l(h.reason)))}).then(function(){b.postMessage({sourceName:g,targetName:m,stream:c.CANCEL_COMPLETE,streamId:d,success:!0})},function(v){b.postMessage({sourceName:g,targetName:m,stream:c.CANCEL_COMPLETE,streamId:d,reason:l(v)})}),P.sinkCapability.reject(l(h.reason)),P.isCancelled=!0,delete this.streamSinks[d];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(h,d){await Promise.allSettled([h.startCall&&h.startCall.promise,h.pullCall&&h.pullCall.promise,h.cancelCall&&h.cancelCall.promise]),delete this.streamControllers[d]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}s.MessageHandler=f},(n,s,i)=>{var c,l;Object.defineProperty(s,"__esModule",{value:!0}),s.Metadata=void 0;var a=i(1);class o{constructor({parsedData:u,rawData:h}){mt(this,c);mt(this,l);vt(this,c,u),vt(this,l,h)}getRaw(){return F(this,l)}get(u){return F(this,c).get(u)??null}getAll(){return(0,a.objectFromMap)(F(this,c))}has(u){return F(this,c).has(u)}}c=new WeakMap,l=new WeakMap,s.Metadata=o},(n,s,i)=>{var u,h,d,g,m,b,ce;Object.defineProperty(s,"__esModule",{value:!0}),s.OptionalContentConfig=void 0;var a=i(1),o=i(8);const c=Symbol("INTERNAL");class l{constructor(v,x){mt(this,u,!0);this.name=v,this.intent=x}get visible(){return F(this,u)}_setVisible(v,x){v!==c&&(0,a.unreachable)("Internal method `_setVisible` called."),vt(this,u,x)}}u=new WeakMap;class f{constructor(v){mt(this,b);mt(this,h,null);mt(this,d,new Map);mt(this,g,null);mt(this,m,null);if(this.name=null,this.creator=null,v!==null){this.name=v.name,this.creator=v.creator,vt(this,m,v.order);for(const x of v.groups)F(this,d).set(x.id,new l(x.name,x.intent));if(v.baseState==="OFF")for(const x of F(this,d).values())x._setVisible(c,!1);for(const x of v.on)F(this,d).get(x)._setVisible(c,!0);for(const x of v.off)F(this,d).get(x)._setVisible(c,!1);vt(this,g,this.getHash())}}isVisible(v){if(F(this,d).size===0)return!0;if(!v)return(0,a.warn)("Optional content group not defined."),!0;if(v.type==="OCG")return F(this,d).has(v.id)?F(this,d).get(v.id).visible:((0,a.warn)(`Optional content group not found: ${v.id}`),!0);if(v.type==="OCMD"){if(v.expression)return ft(this,b,ce).call(this,v.expression);if(!v.policy||v.policy==="AnyOn"){for(const x of v.ids){if(!F(this,d).has(x))return(0,a.warn)(`Optional content group not found: ${x}`),!0;if(F(this,d).get(x).visible)return!0}return!1}else if(v.policy==="AllOn"){for(const x of v.ids){if(!F(this,d).has(x))return(0,a.warn)(`Optional content group not found: ${x}`),!0;if(!F(this,d).get(x).visible)return!1}return!0}else if(v.policy==="AnyOff"){for(const x of v.ids){if(!F(this,d).has(x))return(0,a.warn)(`Optional content group not found: ${x}`),!0;if(!F(this,d).get(x).visible)return!0}return!1}else if(v.policy==="AllOff"){for(const x of v.ids){if(!F(this,d).has(x))return(0,a.warn)(`Optional content group not found: ${x}`),!0;if(F(this,d).get(x).visible)return!1}return!0}return(0,a.warn)(`Unknown optional content policy ${v.policy}.`),!0}return(0,a.warn)(`Unknown group type ${v.type}.`),!0}setVisibility(v,x=!0){if(!F(this,d).has(v)){(0,a.warn)(`Optional content group not found: ${v}`);return}F(this,d).get(v)._setVisible(c,!!x),vt(this,h,null)}get hasInitialVisibility(){return this.getHash()===F(this,g)}getOrder(){return F(this,d).size?F(this,m)?F(this,m).slice():[...F(this,d).keys()]:null}getGroups(){return F(this,d).size>0?(0,a.objectFromMap)(F(this,d)):null}getGroup(v){return F(this,d).get(v)||null}getHash(){if(F(this,h)!==null)return F(this,h);const v=new o.MurmurHash3_64;for(const[x,T]of F(this,d))v.update(`${x}:${T.visible}`);return vt(this,h,v.hexdigest())}}h=new WeakMap,d=new WeakMap,g=new WeakMap,m=new WeakMap,b=new WeakSet,ce=function(v){const x=v.length;if(x<2)return!0;const T=v[0];for(let y=1;y<x;y++){const C=v[y];let p;if(Array.isArray(C))p=ft(this,b,ce).call(this,C);else if(F(this,d).has(C))p=F(this,d).get(C).visible;else return(0,a.warn)(`Optional content group not found: ${C}`),!0;switch(T){case"And":if(!p)return!1;break;case"Or":if(p)return!0;break;case"Not":return!p;default:return!0}}return T==="And"},s.OptionalContentConfig=f},(n,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFDataTransportStream=void 0;var a=i(1),o=i(6);class c{constructor({length:h,initialData:d,progressiveDone:g=!1,contentDispositionFilename:m=null,disableRange:b=!1,disableStream:E=!1},P){if((0,a.assert)(P,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=g,this._contentDispositionFilename=m,(d==null?void 0:d.length)>0){const v=d instanceof Uint8Array&&d.byteLength===d.buffer.byteLength?d.buffer:new Uint8Array(d).buffer;this._queuedChunks.push(v)}this._pdfDataRangeTransport=P,this._isStreamingSupported=!E,this._isRangeSupported=!b,this._contentLength=h,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((v,x)=>{this._onReceiveData({begin:v,chunk:x})}),this._pdfDataRangeTransport.addProgressListener((v,x)=>{this._onProgress({loaded:v,total:x})}),this._pdfDataRangeTransport.addProgressiveReadListener(v=>{this._onReceiveData({chunk:v})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:h,chunk:d}){const g=d instanceof Uint8Array&&d.byteLength===d.buffer.byteLength?d.buffer:new Uint8Array(d).buffer;if(h===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(g):this._queuedChunks.push(g);else{const m=this._rangeReaders.some(function(b){return b._begin!==h?!1:(b._enqueue(g),!0)});(0,a.assert)(m,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var h;return((h=this._fullRequestReader)==null?void 0:h._loaded)??0}_onProgress(h){var d,g,m,b;h.total===void 0?(g=(d=this._rangeReaders[0])==null?void 0:d.onProgress)==null||g.call(d,{loaded:h.loaded}):(b=(m=this._fullRequestReader)==null?void 0:m.onProgress)==null||b.call(m,{loaded:h.loaded,total:h.total})}_onProgressiveDone(){var h;(h=this._fullRequestReader)==null||h.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(h){const d=this._rangeReaders.indexOf(h);d>=0&&this._rangeReaders.splice(d,1)}getFullReader(){(0,a.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const h=this._queuedChunks;return this._queuedChunks=null,new l(this,h,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(h,d){if(d<=this._progressiveDataLength)return null;const g=new f(this,h,d);return this._pdfDataRangeTransport.requestDataRange(h,d),this._rangeReaders.push(g),g}cancelAllRequests(h){var d;(d=this._fullRequestReader)==null||d.cancel(h);for(const g of this._rangeReaders.slice(0))g.cancel(h);this._pdfDataRangeTransport.abort()}}s.PDFDataTransportStream=c;class l{constructor(h,d,g=!1,m=null){this._stream=h,this._done=g||!1,this._filename=(0,o.isPdfFile)(m)?m:null,this._queuedChunks=d||[],this._loaded=0;for(const b of this._queuedChunks)this._loaded+=b.byteLength;this._requests=[],this._headersReady=Promise.resolve(),h._fullRequestReader=this,this.onProgress=null}_enqueue(h){this._done||(this._requests.length>0?this._requests.shift().resolve({value:h,done:!1}):this._queuedChunks.push(h),this._loaded+=h.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const h=(0,a.createPromiseCapability)();return this._requests.push(h),h.promise}cancel(h){this._done=!0;for(const d of this._requests)d.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class f{constructor(h,d,g){this._stream=h,this._begin=d,this._end=g,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(h){if(!this._done){if(this._requests.length===0)this._queuedChunk=h;else{this._requests.shift().resolve({value:h,done:!1});for(const g of this._requests)g.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const d=this._queuedChunk;return this._queuedChunk=null,{value:d,done:!1}}if(this._done)return{value:void 0,done:!0};const h=(0,a.createPromiseCapability)();return this._requests.push(h),h.promise}cancel(h){this._done=!0;for(const d of this._requests)d.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(n,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaText=void 0;class i{static textContent(o){const c=[],l={items:c,styles:Object.create(null)};function f(u){var g;if(!u)return;let h=null;const d=u.name;if(d==="#text")h=u.value;else if(i.shouldBuildText(d))(g=u==null?void 0:u.attributes)!=null&&g.textContent?h=u.attributes.textContent:u.value&&(h=u.value);else return;if(h!==null&&c.push({str:h}),!!u.children)for(const m of u.children)f(m)}return f(o),l}static shouldBuildText(o){return!(o==="textarea"||o==="input"||o==="option"||o==="select")}}s.XfaText=i},(n,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NodeStandardFontDataFactory=s.NodeCanvasFactory=s.NodeCMapReaderFactory=void 0;var a=i(7);const o=function(u){return new Promise((h,d)=>{require$$5.readFile(u,(m,b)=>{if(m||!b){d(new Error(m));return}h(new Uint8Array(b))})})};class c extends a.BaseCanvasFactory{_createCanvas(h,d){return require$$5.createCanvas(h,d)}}s.NodeCanvasFactory=c;class l extends a.BaseCMapReaderFactory{_fetchData(h,d){return o(h).then(g=>({cMapData:g,compressionType:d}))}}s.NodeCMapReaderFactory=l;class f extends a.BaseStandardFontDataFactory{_fetchData(h){return o(h)}}s.NodeStandardFontDataFactory=f},(n,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFNodeStream=void 0;var a=i(1),o=i(22);const c=require$$5,l=require$$5,f=require$$5,u=require$$5,h=/^file:\/\/\/[a-zA-Z]:\//;function d(y){const C=u.parse(y);return C.protocol==="file:"||C.host?C:/^[a-z]:[/\\]/i.test(y)?u.parse(`file:///${y}`):(C.host||(C.protocol="file:"),C)}class g{constructor(C){this.source=C,this.url=d(C.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&C.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var C;return((C=this._fullRequestReader)==null?void 0:C._loaded)??0}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new x(this):new P(this),this._fullRequestReader}getRangeReader(C,p){if(p<=this._progressiveDataLength)return null;const A=this.isFsUrl?new T(this,C,p):new v(this,C,p);return this._rangeRequestReaders.push(A),A}cancelAllRequests(C){var p;(p=this._fullRequestReader)==null||p.cancel(C);for(const A of this._rangeRequestReaders.slice(0))A.cancel(C)}}s.PDFNodeStream=g;class m{constructor(C){this._url=C.url,this._done=!1,this._storedError=null,this.onProgress=null;const p=C.source;this._contentLength=p.length,this._loaded=0,this._filename=null,this._disableRange=p.disableRange||!1,this._rangeChunkSize=p.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!p.disableStream,this._isRangeSupported=!p.disableRange,this._readableStream=null,this._readCapability=(0,a.createPromiseCapability)(),this._headersCapability=(0,a.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var A;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const C=this._readableStream.read();return C===null?(this._readCapability=(0,a.createPromiseCapability)(),this.read()):(this._loaded+=C.length,(A=this.onProgress)==null||A.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(C).buffer,done:!1})}cancel(C){if(!this._readableStream){this._error(C);return}this._readableStream.destroy(C)}_error(C){this._storedError=C,this._readCapability.resolve()}_setReadableStream(C){this._readableStream=C,C.on("readable",()=>{this._readCapability.resolve()}),C.on("end",()=>{C.destroy(),this._done=!0,this._readCapability.resolve()}),C.on("error",p=>{this._error(p)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new a.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class b{constructor(C){this._url=C.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,a.createPromiseCapability)();const p=C.source;this._isStreamingSupported=!p.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var A;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const C=this._readableStream.read();return C===null?(this._readCapability=(0,a.createPromiseCapability)(),this.read()):(this._loaded+=C.length,(A=this.onProgress)==null||A.call(this,{loaded:this._loaded}),{value:new Uint8Array(C).buffer,done:!1})}cancel(C){if(!this._readableStream){this._error(C);return}this._readableStream.destroy(C)}_error(C){this._storedError=C,this._readCapability.resolve()}_setReadableStream(C){this._readableStream=C,C.on("readable",()=>{this._readCapability.resolve()}),C.on("end",()=>{C.destroy(),this._done=!0,this._readCapability.resolve()}),C.on("error",p=>{this._error(p)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function E(y,C){return{protocol:y.protocol,auth:y.auth,host:y.hostname,port:y.port,path:y.path,method:"GET",headers:C}}class P extends m{constructor(C){super(C);const p=A=>{if(A.statusCode===404){const V=new a.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=V,this._headersCapability.reject(V);return}this._headersCapability.resolve(),this._setReadableStream(A);const R=V=>this._readableStream.headers[V.toLowerCase()],{allowRangeRequests:S,suggestedLength:L}=(0,o.validateRangeRequestCapabilities)({getResponseHeader:R,isHttp:C.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=S,this._contentLength=L||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(R)};this._request=null,this._url.protocol==="http:"?this._request=l.request(E(this._url,C.httpHeaders),p):this._request=f.request(E(this._url,C.httpHeaders),p),this._request.on("error",A=>{this._storedError=A,this._headersCapability.reject(A)}),this._request.end()}}class v extends b{constructor(C,p,A){super(C),this._httpHeaders={};for(const S in C.httpHeaders){const L=C.httpHeaders[S];L!==void 0&&(this._httpHeaders[S]=L)}this._httpHeaders.Range=`bytes=${p}-${A-1}`;const R=S=>{if(S.statusCode===404){const L=new a.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=L;return}this._setReadableStream(S)};this._request=null,this._url.protocol==="http:"?this._request=l.request(E(this._url,this._httpHeaders),R):this._request=f.request(E(this._url,this._httpHeaders),R),this._request.on("error",S=>{this._storedError=S}),this._request.end()}}class x extends m{constructor(C){super(C);let p=decodeURIComponent(this._url.path);h.test(this._url.href)&&(p=p.replace(/^\//,"")),c.lstat(p,(A,R)=>{if(A){A.code==="ENOENT"&&(A=new a.MissingPDFException(`Missing PDF "${p}".`)),this._storedError=A,this._headersCapability.reject(A);return}this._contentLength=R.size,this._setReadableStream(c.createReadStream(p)),this._headersCapability.resolve()})}}class T extends b{constructor(C,p,A){super(C);let R=decodeURIComponent(this._url.path);h.test(this._url.href)&&(R=R.replace(/^\//,"")),this._setReadableStream(c.createReadStream(R,{start:p,end:A-1}))}}},(n,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createResponseStatusError=u,s.extractFilenameFromHeader=f,s.validateRangeRequestCapabilities=l,s.validateResponseStatus=h;var a=i(1),o=i(23),c=i(6);function l({getResponseHeader:d,isHttp:g,rangeChunkSize:m,disableRange:b}){const E={allowRangeRequests:!1,suggestedLength:void 0},P=parseInt(d("Content-Length"),10);return!Number.isInteger(P)||(E.suggestedLength=P,P<=2*m)||b||!g||d("Accept-Ranges")!=="bytes"||(d("Content-Encoding")||"identity")!=="identity"||(E.allowRangeRequests=!0),E}function f(d){const g=d("Content-Disposition");if(g){let m=(0,o.getFilenameFromContentDispositionHeader)(g);if(m.includes("%"))try{m=decodeURIComponent(m)}catch{}if((0,c.isPdfFile)(m))return m}return null}function u(d,g){return d===404||d===0&&g.startsWith("file:")?new a.MissingPDFException('Missing PDF "'+g+'".'):new a.UnexpectedResponseException(`Unexpected server response (${d}) while retrieving PDF "${g}".`,d)}function h(d){return d===200||d===206}},(n,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getFilenameFromContentDispositionHeader=o;var a=i(1);function o(c){let l=!0,f=u("filename\\*","i").exec(c);if(f){f=f[1];let P=m(f);return P=unescape(P),P=b(P),P=E(P),d(P)}if(f=g(c),f){const P=E(f);return d(P)}if(f=u("filename","i").exec(c),f){f=f[1];let P=m(f);return P=E(P),d(P)}function u(P,v){return new RegExp("(?:^|;)\\s*"+P+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',v)}function h(P,v){if(P){if(!/^[\x00-\xFF]+$/.test(v))return v;try{const x=new TextDecoder(P,{fatal:!0}),T=(0,a.stringToBytes)(v);v=x.decode(T),l=!1}catch{}}return v}function d(P){return l&&/[\x80-\xff]/.test(P)&&(P=h("utf-8",P),l&&(P=h("iso-8859-1",P))),P}function g(P){const v=[];let x;const T=u("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(x=T.exec(P))!==null;){let[,C,p,A]=x;if(C=parseInt(C,10),C in v){if(C===0)break;continue}v[C]=[p,A]}const y=[];for(let C=0;C<v.length&&C in v;++C){let[p,A]=v[C];A=m(A),p&&(A=unescape(A),C===0&&(A=b(A))),y.push(A)}return y.join("")}function m(P){if(P.startsWith('"')){const v=P.slice(1).split('\\"');for(let x=0;x<v.length;++x){const T=v[x].indexOf('"');T!==-1&&(v[x]=v[x].slice(0,T),v.length=x+1),v[x]=v[x].replace(/\\(.)/g,"$1")}P=v.join('"')}return P}function b(P){const v=P.indexOf("'");if(v===-1)return P;const x=P.slice(0,v),y=P.slice(v+1).replace(/^[^']*'/,"");return h(x,y)}function E(P){return!P.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(P)?P:P.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(v,x,T,y){if(T==="q"||T==="Q")return y=y.replace(/_/g," "),y=y.replace(/=([0-9a-fA-F]{2})/g,function(C,p){return String.fromCharCode(parseInt(p,16))}),h(x,y);try{y=atob(y)}catch{}return h(x,y)})}return""}},(n,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFNetworkStream=void 0;var a=i(1),o=i(22);const c=200,l=206;function f(m){const b=m.response;return typeof b!="string"?b:(0,a.stringToBytes)(b).buffer}class u{constructor(b,E={}){this.url=b,this.isHttp=/^https?:/i.test(b),this.httpHeaders=this.isHttp&&E.httpHeaders||Object.create(null),this.withCredentials=E.withCredentials||!1,this.getXhr=E.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(b,E,P){const v={begin:b,end:E};for(const x in P)v[x]=P[x];return this.request(v)}requestFull(b){return this.request(b)}request(b){const E=this.getXhr(),P=this.currXhrId++,v=this.pendingRequests[P]={xhr:E};E.open("GET",this.url),E.withCredentials=this.withCredentials;for(const x in this.httpHeaders){const T=this.httpHeaders[x];T!==void 0&&E.setRequestHeader(x,T)}return this.isHttp&&"begin"in b&&"end"in b?(E.setRequestHeader("Range",`bytes=${b.begin}-${b.end-1}`),v.expectedStatus=l):v.expectedStatus=c,E.responseType="arraybuffer",b.onError&&(E.onerror=function(x){b.onError(E.status)}),E.onreadystatechange=this.onStateChange.bind(this,P),E.onprogress=this.onProgress.bind(this,P),v.onHeadersReceived=b.onHeadersReceived,v.onDone=b.onDone,v.onError=b.onError,v.onProgress=b.onProgress,E.send(null),P}onProgress(b,E){var v;const P=this.pendingRequests[b];P&&((v=P.onProgress)==null||v.call(P,E))}onStateChange(b,E){var C,p,A;const P=this.pendingRequests[b];if(!P)return;const v=P.xhr;if(v.readyState>=2&&P.onHeadersReceived&&(P.onHeadersReceived(),delete P.onHeadersReceived),v.readyState!==4||!(b in this.pendingRequests))return;if(delete this.pendingRequests[b],v.status===0&&this.isHttp){(C=P.onError)==null||C.call(P,v.status);return}const x=v.status||c;if(!(x===c&&P.expectedStatus===l)&&x!==P.expectedStatus){(p=P.onError)==null||p.call(P,v.status);return}const y=f(v);if(x===l){const R=v.getResponseHeader("Content-Range"),S=/bytes (\d+)-(\d+)\/(\d+)/.exec(R);P.onDone({begin:parseInt(S[1],10),chunk:y})}else y?P.onDone({begin:0,chunk:y}):(A=P.onError)==null||A.call(P,v.status)}getRequestXhr(b){return this.pendingRequests[b].xhr}isPendingRequest(b){return b in this.pendingRequests}abortRequest(b){const E=this.pendingRequests[b].xhr;delete this.pendingRequests[b],E.abort()}}class h{constructor(b){this._source=b,this._manager=new u(b.url,{httpHeaders:b.httpHeaders,withCredentials:b.withCredentials}),this._rangeChunkSize=b.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(b){const E=this._rangeRequestReaders.indexOf(b);E>=0&&this._rangeRequestReaders.splice(E,1)}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new d(this._manager,this._source),this._fullRequestReader}getRangeReader(b,E){const P=new g(this._manager,b,E);return P.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(P),P}cancelAllRequests(b){var E;(E=this._fullRequestReader)==null||E.cancel(b);for(const P of this._rangeRequestReaders.slice(0))P.cancel(b)}}s.PDFNetworkStream=h;class d{constructor(b,E){this._manager=b;const P={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=E.url,this._fullRequestId=b.requestFull(P),this._headersReceivedCapability=(0,a.createPromiseCapability)(),this._disableRange=E.disableRange||!1,this._contentLength=E.length,this._rangeChunkSize=E.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const b=this._fullRequestId,E=this._manager.getRequestXhr(b),P=T=>E.getResponseHeader(T),{allowRangeRequests:v,suggestedLength:x}=(0,o.validateRangeRequestCapabilities)({getResponseHeader:P,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});v&&(this._isRangeSupported=!0),this._contentLength=x||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(P),this._isRangeSupported&&this._manager.abortRequest(b),this._headersReceivedCapability.resolve()}_onDone(b){if(b&&(this._requests.length>0?this._requests.shift().resolve({value:b.chunk,done:!1}):this._cachedChunks.push(b.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const E of this._requests)E.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(b){this._storedError=(0,o.createResponseStatusError)(b,this._url),this._headersReceivedCapability.reject(this._storedError);for(const E of this._requests)E.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(b){var E;(E=this.onProgress)==null||E.call(this,{loaded:b.loaded,total:b.lengthComputable?b.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const b=(0,a.createPromiseCapability)();return this._requests.push(b),b.promise}cancel(b){this._done=!0,this._headersReceivedCapability.reject(b);for(const E of this._requests)E.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class g{constructor(b,E,P){this._manager=b;const v={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=b.url,this._requestId=b.requestRange(E,P,v),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var b;(b=this.onClosed)==null||b.call(this,this)}_onDone(b){const E=b.chunk;this._requests.length>0?this._requests.shift().resolve({value:E,done:!1}):this._queuedChunk=E,this._done=!0;for(const P of this._requests)P.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(b){this._storedError=(0,o.createResponseStatusError)(b,this._url);for(const E of this._requests)E.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(b){var E;this.isStreamingSupported||(E=this.onProgress)==null||E.call(this,{loaded:b.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const E=this._queuedChunk;return this._queuedChunk=null,{value:E,done:!1}}if(this._done)return{value:void 0,done:!0};const b=(0,a.createPromiseCapability)();return this._requests.push(b),b.promise}cancel(b){this._done=!0;for(const E of this._requests)E.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(n,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFFetchStream=void 0;var a=i(1),o=i(22);function c(g,m,b){return{method:"GET",headers:g,signal:b.signal,mode:"cors",credentials:m?"include":"same-origin",redirect:"follow"}}function l(g){const m=new Headers;for(const b in g){const E=g[b];E!==void 0&&m.append(b,E)}return m}function f(g){return g instanceof Uint8Array?g.buffer:g instanceof ArrayBuffer?g:((0,a.warn)(`getArrayBuffer - unexpected data format: ${g}`),new Uint8Array(g).buffer)}class u{constructor(m){this.source=m,this.isHttp=/^https?:/i.test(m.url),this.httpHeaders=this.isHttp&&m.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var m;return((m=this._fullRequestReader)==null?void 0:m._loaded)??0}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new h(this),this._fullRequestReader}getRangeReader(m,b){if(b<=this._progressiveDataLength)return null;const E=new d(this,m,b);return this._rangeRequestReaders.push(E),E}cancelAllRequests(m){var b;(b=this._fullRequestReader)==null||b.cancel(m);for(const E of this._rangeRequestReaders.slice(0))E.cancel(m)}}s.PDFFetchStream=u;class h{constructor(m){this._stream=m,this._reader=null,this._loaded=0,this._filename=null;const b=m.source;this._withCredentials=b.withCredentials||!1,this._contentLength=b.length,this._headersCapability=(0,a.createPromiseCapability)(),this._disableRange=b.disableRange||!1,this._rangeChunkSize=b.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!b.disableStream,this._isRangeSupported=!b.disableRange,this._headers=l(this._stream.httpHeaders);const E=b.url;fetch(E,c(this._headers,this._withCredentials,this._abortController)).then(P=>{if(!(0,o.validateResponseStatus)(P.status))throw(0,o.createResponseStatusError)(P.status,E);this._reader=P.body.getReader(),this._headersCapability.resolve();const v=y=>P.headers.get(y),{allowRangeRequests:x,suggestedLength:T}=(0,o.validateRangeRequestCapabilities)({getResponseHeader:v,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=x,this._contentLength=T||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(v),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new a.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var E;await this._headersCapability.promise;const{value:m,done:b}=await this._reader.read();return b?{value:m,done:b}:(this._loaded+=m.byteLength,(E=this.onProgress)==null||E.call(this,{loaded:this._loaded,total:this._contentLength}),{value:f(m),done:!1})}cancel(m){var b;(b=this._reader)==null||b.cancel(m),this._abortController.abort()}}class d{constructor(m,b,E){this._stream=m,this._reader=null,this._loaded=0;const P=m.source;this._withCredentials=P.withCredentials||!1,this._readCapability=(0,a.createPromiseCapability)(),this._isStreamingSupported=!P.disableStream,this._abortController=new AbortController,this._headers=l(this._stream.httpHeaders),this._headers.append("Range",`bytes=${b}-${E-1}`);const v=P.url;fetch(v,c(this._headers,this._withCredentials,this._abortController)).then(x=>{if(!(0,o.validateResponseStatus)(x.status))throw(0,o.createResponseStatusError)(x.status,v);this._readCapability.resolve(),this._reader=x.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var E;await this._readCapability.promise;const{value:m,done:b}=await this._reader.read();return b?{value:m,done:b}:(this._loaded+=m.byteLength,(E=this.onProgress)==null||E.call(this,{loaded:this._loaded}),{value:f(m),done:!1})}cancel(m){var b;(b=this._reader)==null||b.cancel(m),this._abortController.abort()}}},(n,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextLayerRenderTask=void 0,s.renderTextLayer=P,s.updateTextLayer=v;var a=i(1),o=i(6);const c=1e5,l=30,f=.8,u=new Map;function h(x,T){let y;if(T&&a.FeatureTest.isOffscreenCanvasSupported)y=new OffscreenCanvas(x,x).getContext("2d",{alpha:!1});else{const C=document.createElement("canvas");C.width=C.height=x,y=C.getContext("2d",{alpha:!1})}return y}function d(x,T){const y=u.get(x);if(y)return y;const C=h(l,T);C.font=`${l}px ${x}`;const p=C.measureText("");let A=p.fontBoundingBoxAscent,R=Math.abs(p.fontBoundingBoxDescent);if(A){const L=A/(A+R);return u.set(x,L),C.canvas.width=C.canvas.height=0,L}C.strokeStyle="red",C.clearRect(0,0,l,l),C.strokeText("g",0,0);let S=C.getImageData(0,0,l,l).data;R=0;for(let L=S.length-1-3;L>=0;L-=4)if(S[L]>0){R=Math.ceil(L/4/l);break}C.clearRect(0,0,l,l),C.strokeText("A",0,l),S=C.getImageData(0,0,l,l).data,A=0;for(let L=0,V=S.length;L<V;L+=4)if(S[L]>0){A=l-Math.floor(L/4/l);break}if(C.canvas.width=C.canvas.height=0,A){const L=A/(A+R);return u.set(x,L),L}return u.set(x,f),f}function g(x,T,y){const C=document.createElement("span"),p={angle:0,canvasWidth:0,hasText:T.str!=="",hasEOL:T.hasEOL,fontSize:0};x._textDivs.push(C);const A=a.Util.transform(x._transform,T.transform);let R=Math.atan2(A[1],A[0]);const S=y[T.fontName];S.vertical&&(R+=Math.PI/2);const L=Math.hypot(A[2],A[3]),V=L*d(S.fontFamily,x._isOffscreenCanvasSupported);let X,it;R===0?(X=A[4],it=A[5]-V):(X=A[4]+V*Math.sin(R),it=A[5]-V*Math.cos(R));const gt="calc(var(--scale-factor)*",K=C.style;x._container===x._rootContainer?(K.left=`${(100*X/x._pageWidth).toFixed(2)}%`,K.top=`${(100*it/x._pageHeight).toFixed(2)}%`):(K.left=`${gt}${X.toFixed(2)}px)`,K.top=`${gt}${it.toFixed(2)}px)`),K.fontSize=`${gt}${L.toFixed(2)}px)`,K.fontFamily=S.fontFamily,p.fontSize=L,C.setAttribute("role","presentation"),C.textContent=T.str,C.dir=T.dir,x._fontInspectorEnabled&&(C.dataset.fontName=T.fontName),R!==0&&(p.angle=R*(180/Math.PI));let lt=!1;if(T.str.length>1)lt=!0;else if(T.str!==" "&&T.transform[0]!==T.transform[3]){const tt=Math.abs(T.transform[0]),G=Math.abs(T.transform[3]);tt!==G&&Math.max(tt,G)/Math.min(tt,G)>1.5&&(lt=!0)}lt&&(p.canvasWidth=S.vertical?T.height:T.width),x._textDivProperties.set(C,p),x._isReadableStream&&x._layoutText(C)}function m(x){const{div:T,scale:y,properties:C,ctx:p,prevFontSize:A,prevFontFamily:R}=x,{style:S}=T;let L="";if(C.canvasWidth!==0&&C.hasText){const{fontFamily:V}=S,{canvasWidth:X,fontSize:it}=C;(A!==it||R!==V)&&(p.font=`${it*y}px ${V}`,x.prevFontSize=it,x.prevFontFamily=V);const{width:gt}=p.measureText(T.textContent);gt>0&&(L=`scaleX(${X*y/gt})`)}C.angle!==0&&(L=`rotate(${C.angle}deg) ${L}`),L.length>0&&(S.transform=L)}function b(x){if(x._canceled)return;const T=x._textDivs,y=x._capability;if(T.length>c){y.resolve();return}if(!x._isReadableStream)for(const p of T)x._layoutText(p);y.resolve()}class E{constructor({textContentSource:T,container:y,viewport:C,textDivs:p,textDivProperties:A,textContentItemsStr:R,isOffscreenCanvasSupported:S}){var gt;this._textContentSource=T,this._isReadableStream=T instanceof ReadableStream,this._container=this._rootContainer=y,this._textDivs=p||[],this._textContentItemsStr=R||[],this._isOffscreenCanvasSupported=S,this._fontInspectorEnabled=!!((gt=globalThis.FontInspector)!=null&&gt.enabled),this._reader=null,this._textDivProperties=A||new WeakMap,this._canceled=!1,this._capability=(0,a.createPromiseCapability)(),this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:C.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:h(0,S)};const{pageWidth:L,pageHeight:V,pageX:X,pageY:it}=C.rawDims;this._transform=[1,0,0,-1,-X,it+V],this._pageWidth=L,this._pageHeight=V,(0,o.setLayerDimensions)(y,C),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new a.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new a.AbortException("TextLayer task cancelled."))}_processItems(T,y){for(const C of T){if(C.str===void 0){if(C.type==="beginMarkedContentProps"||C.type==="beginMarkedContent"){const p=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),C.id!==null&&this._container.setAttribute("id",`${C.id}`),p.append(this._container)}else C.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(C.str),g(this,C,y)}}_layoutText(T){const y=this._layoutTextParams.properties=this._textDivProperties.get(T);if(this._layoutTextParams.div=T,m(this._layoutTextParams),y.hasText&&this._container.append(T),y.hasEOL){const C=document.createElement("br");C.setAttribute("role","presentation"),this._container.append(C)}}_render(){const T=(0,a.createPromiseCapability)();let y=Object.create(null);if(this._isReadableStream){const C=()=>{this._reader.read().then(({value:p,done:A})=>{if(A){T.resolve();return}Object.assign(y,p.styles),this._processItems(p.items,y),C()},T.reject)};this._reader=this._textContentSource.getReader(),C()}else if(this._textContentSource){const{items:C,styles:p}=this._textContentSource;this._processItems(C,p),T.resolve()}else throw new Error('No "textContentSource" parameter specified.');T.promise.then(()=>{y=null,b(this)},this._capability.reject)}}s.TextLayerRenderTask=E;function P(x){!x.textContentSource&&(x.textContent||x.textContentStream)&&((0,o.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),x.textContentSource=x.textContent||x.textContentStream);const T=new E(x);return T._render(),T}function v({container:x,viewport:T,textDivs:y,textDivProperties:C,isOffscreenCanvasSupported:p,mustRotate:A=!0,mustRescale:R=!0}){if(A&&(0,o.setLayerDimensions)(x,{rotation:T.rotation}),R){const S=h(0,p),V={prevFontSize:null,prevFontFamily:null,div:null,scale:T.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:S};for(const X of y)V.properties=C.get(X),V.div=X,m(V)}}},(n,s,i)=>{var h,d,g,m,b,E,P,v,x,ue,Me,he,de;Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditorLayer=void 0;var a=i(1),o=i(5),c=i(28),l=i(29),f=i(6);const A=class A{constructor(S){mt(this,x);mt(this,h);mt(this,d,!1);mt(this,g,this.pointerup.bind(this));mt(this,m,this.pointerdown.bind(this));mt(this,b,new Map);mt(this,E,!1);mt(this,P,!1);mt(this,v);A._initialized||(A._initialized=!0,c.FreeTextEditor.initialize(S.l10n),l.InkEditor.initialize(S.l10n)),S.uiManager.registerEditorTypes([c.FreeTextEditor,l.InkEditor]),vt(this,v,S.uiManager),this.pageIndex=S.pageIndex,this.div=S.div,vt(this,h,S.accessibilityManager),F(this,v).addLayer(this)}get isEmpty(){return F(this,b).size===0}updateToolbar(S){F(this,v).updateToolbar(S)}updateMode(S=F(this,v).getMode()){ft(this,x,de).call(this),S===a.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),F(this,v).unselectAll(),S!==a.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",S===a.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",S===a.AnnotationEditorType.INK),this.div.hidden=!1)}addInkEditorIfNeeded(S){if(!S&&F(this,v).getMode()!==a.AnnotationEditorType.INK)return;if(!S){for(const V of F(this,b).values())if(V.isEmpty()){V.setInBackground();return}}ft(this,x,he).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState(S){F(this,v).setEditingState(S)}addCommands(S){F(this,v).addCommands(S)}enable(){this.div.style.pointerEvents="auto";for(const S of F(this,b).values())S.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const S of F(this,b).values())S.disableEditing();ft(this,x,de).call(this),this.isEmpty&&(this.div.hidden=!0)}setActiveEditor(S){F(this,v).getActive()!==S&&F(this,v).setActiveEditor(S)}enableClick(){this.div.addEventListener("pointerdown",F(this,m)),this.div.addEventListener("pointerup",F(this,g))}disableClick(){this.div.removeEventListener("pointerdown",F(this,m)),this.div.removeEventListener("pointerup",F(this,g))}attach(S){F(this,b).set(S.id,S)}detach(S){var L;F(this,b).delete(S.id),(L=F(this,h))==null||L.removePointerInTextLayer(S.contentDiv)}remove(S){F(this,v).removeEditor(S),this.detach(S),S.div.style.display="none",setTimeout(()=>{S.div.style.display="",S.div.remove(),S.isAttachedToDOM=!1,document.activeElement===document.body&&F(this,v).focusMainContainer()},0),F(this,P)||this.addInkEditorIfNeeded(!1)}add(S){if(ft(this,x,ue).call(this,S),F(this,v).addEditor(S),this.attach(S),!S.isAttachedToDOM){const L=S.render();this.div.append(L),S.isAttachedToDOM=!0}this.moveEditorInDOM(S),S.onceAdded(),F(this,v).addToAnnotationStorage(S)}moveEditorInDOM(S){var L;(L=F(this,h))==null||L.moveElementInDOM(this.div,S.div,S.contentDiv,!0)}addOrRebuild(S){S.needsToBeRebuilt()?S.rebuild():this.add(S)}addANewEditor(S){const L=()=>{this.addOrRebuild(S)},V=()=>{S.remove()};this.addCommands({cmd:L,undo:V,mustExec:!0})}addUndoableEditor(S){const L=()=>{this.addOrRebuild(S)},V=()=>{S.remove()};this.addCommands({cmd:L,undo:V,mustExec:!1})}getNextId(){return F(this,v).getId()}deserialize(S){switch(S.annotationType){case a.AnnotationEditorType.FREETEXT:return c.FreeTextEditor.deserialize(S,this,F(this,v));case a.AnnotationEditorType.INK:return l.InkEditor.deserialize(S,this,F(this,v))}return null}setSelected(S){F(this,v).setSelected(S)}toggleSelected(S){F(this,v).toggleSelected(S)}isSelected(S){return F(this,v).isSelected(S)}unselect(S){F(this,v).unselect(S)}pointerup(S){const{isMac:L}=a.FeatureTest.platform;if(!(S.button!==0||S.ctrlKey&&L)&&S.target===this.div&&F(this,E)){if(vt(this,E,!1),!F(this,d)){vt(this,d,!0);return}ft(this,x,he).call(this,S)}}pointerdown(S){const{isMac:L}=a.FeatureTest.platform;if(S.button!==0||S.ctrlKey&&L||S.target!==this.div)return;vt(this,E,!0);const V=F(this,v).getActive();vt(this,d,!V||V.isEmpty())}drop(S){const L=S.dataTransfer.getData("text/plain"),V=F(this,v).getEditor(L);if(!V)return;S.preventDefault(),S.dataTransfer.dropEffect="move",ft(this,x,ue).call(this,V);const X=this.div.getBoundingClientRect(),it=S.clientX-X.x,gt=S.clientY-X.y;V.translate(it-V.startX,gt-V.startY),this.moveEditorInDOM(V),V.div.focus()}dragover(S){S.preventDefault()}destroy(){var S,L;((S=F(this,v).getActive())==null?void 0:S.parent)===this&&F(this,v).setActiveEditor(null);for(const V of F(this,b).values())(L=F(this,h))==null||L.removePointerInTextLayer(V.contentDiv),V.setParent(null),V.isAttachedToDOM=!1,V.div.remove();this.div=null,F(this,b).clear(),F(this,v).removeLayer(this)}render({viewport:S}){this.viewport=S,(0,f.setLayerDimensions)(this.div,S),(0,o.bindEvents)(this,this.div,["dragover","drop"]);for(const L of F(this,v).getEditors(this.pageIndex))this.add(L);this.updateMode()}update({viewport:S}){F(this,v).commitOrRemove(),this.viewport=S,(0,f.setLayerDimensions)(this.div,{rotation:S.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:S,pageHeight:L}=this.viewport.rawDims;return[S,L]}};h=new WeakMap,d=new WeakMap,g=new WeakMap,m=new WeakMap,b=new WeakMap,E=new WeakMap,P=new WeakMap,v=new WeakMap,x=new WeakSet,ue=function(S){var L;S.parent!==this&&(this.attach(S),(L=S.parent)==null||L.detach(S),S.setParent(this),S.div&&S.isAttachedToDOM&&(S.div.remove(),this.div.append(S.div)))},Me=function(S){switch(F(this,v).getMode()){case a.AnnotationEditorType.FREETEXT:return new c.FreeTextEditor(S);case a.AnnotationEditorType.INK:return new l.InkEditor(S)}return null},he=function(S){const L=this.getNextId(),V=ft(this,x,Me).call(this,{parent:this,id:L,x:S.offsetX,y:S.offsetY,uiManager:F(this,v)});return V&&this.add(V),V},de=function(){vt(this,P,!0);for(const S of F(this,b).values())S.isEmpty()&&S.remove();vt(this,P,!1)},Ct(A,"_initialized",!1);let u=A;s.AnnotationEditorLayer=u},(n,s,i)=>{var f,u,h,d,g,m,b,E,P,v,ke,De,Le,fe;Object.defineProperty(s,"__esModule",{value:!0}),s.FreeTextEditor=void 0;var a=i(1),o=i(5),c=i(4);const p=class p extends c.AnnotationEditor{constructor(S){super({...S,name:"freeTextEditor"});mt(this,v);mt(this,f,this.editorDivBlur.bind(this));mt(this,u,this.editorDivFocus.bind(this));mt(this,h,this.editorDivInput.bind(this));mt(this,d,this.editorDivKeydown.bind(this));mt(this,g);mt(this,m,"");mt(this,b,`${this.id}-editor`);mt(this,E,!1);mt(this,P);vt(this,g,S.color||p._defaultColor||c.AnnotationEditor._defaultLineColor),vt(this,P,S.fontSize||p._defaultFontSize)}static initialize(S){this._l10nPromise=new Map(["free_text2_default_content","editor_free_text2_aria_label"].map(V=>[V,S.get(V)]));const L=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(L.getPropertyValue("--freetext-padding"))}static updateDefaultParams(S,L){switch(S){case a.AnnotationEditorParamsType.FREETEXT_SIZE:p._defaultFontSize=L;break;case a.AnnotationEditorParamsType.FREETEXT_COLOR:p._defaultColor=L;break}}updateParams(S,L){switch(S){case a.AnnotationEditorParamsType.FREETEXT_SIZE:ft(this,v,ke).call(this,L);break;case a.AnnotationEditorParamsType.FREETEXT_COLOR:ft(this,v,De).call(this,L);break}}static get defaultPropertiesToUpdate(){return[[a.AnnotationEditorParamsType.FREETEXT_SIZE,p._defaultFontSize],[a.AnnotationEditorParamsType.FREETEXT_COLOR,p._defaultColor||c.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[a.AnnotationEditorParamsType.FREETEXT_SIZE,F(this,P)],[a.AnnotationEditorParamsType.FREETEXT_COLOR,F(this,g)]]}getInitialTranslation(){const S=this.parentScale;return[-p._internalPadding*S,-(p._internalPadding+F(this,P))*S]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(a.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",F(this,d)),this.editorDiv.addEventListener("focus",F(this,u)),this.editorDiv.addEventListener("blur",F(this,f)),this.editorDiv.addEventListener("input",F(this,h)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",F(this,b)),this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",F(this,d)),this.editorDiv.removeEventListener("focus",F(this,u)),this.editorDiv.removeEventListener("blur",F(this,f)),this.editorDiv.removeEventListener("input",F(this,h)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(S){super.focusin(S),S.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing"),super.remove()}commit(){this.isInEditMode()&&(super.commit(),F(this,E)||(vt(this,E,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),vt(this,m,ft(this,v,Le).call(this).trimEnd()),ft(this,v,fe).call(this))}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(S){this.enableEditMode(),this.editorDiv.focus()}keydown(S){S.target===this.div&&S.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(S){p._keyboardManager.exec(this,S)}editorDivFocus(S){this.isEditing=!0}editorDivBlur(S){this.isEditing=!1}editorDivInput(S){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let S,L;this.width&&(S=this.x,L=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",F(this,b)),this.enableEditing(),p._l10nPromise.get("editor_free_text2_aria_label").then(X=>{var it;return(it=this.editorDiv)==null?void 0:it.setAttribute("aria-label",X)}),p._l10nPromise.get("free_text2_default_content").then(X=>{var it;return(it=this.editorDiv)==null?void 0:it.setAttribute("default-content",X)}),this.editorDiv.contentEditable=!0;const{style:V}=this.editorDiv;if(V.fontSize=`calc(${F(this,P)}px * var(--scale-factor))`,V.color=F(this,g),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,o.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[X,it]=this.parentDimensions;this.setAt(S*X,L*it,this.width*X,this.height*it);for(const gt of F(this,m).split(`
`)){const K=document.createElement("div");K.append(gt?document.createTextNode(gt):document.createElement("br")),this.editorDiv.append(K)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(S,L,V){const X=super.deserialize(S,L,V);return vt(X,P,S.fontSize),vt(X,g,a.Util.makeHexColor(...S.color)),vt(X,m,S.value),X}serialize(){if(this.isEmpty())return null;const S=p._internalPadding*this.parentScale,L=this.getRect(S,S),V=c.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:F(this,g));return{annotationType:a.AnnotationEditorType.FREETEXT,color:V,fontSize:F(this,P),value:F(this,m),pageIndex:this.pageIndex,rect:L,rotation:this.rotation}}};f=new WeakMap,u=new WeakMap,h=new WeakMap,d=new WeakMap,g=new WeakMap,m=new WeakMap,b=new WeakMap,E=new WeakMap,P=new WeakMap,v=new WeakSet,ke=function(S){const L=X=>{this.editorDiv.style.fontSize=`calc(${X}px * var(--scale-factor))`,this.translate(0,-(X-F(this,P))*this.parentScale),vt(this,P,X),ft(this,v,fe).call(this)},V=F(this,P);this.addCommands({cmd:()=>{L(S)},undo:()=>{L(V)},mustExec:!0,type:a.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},De=function(S){const L=F(this,g);this.addCommands({cmd:()=>{vt(this,g,this.editorDiv.style.color=S)},undo:()=>{vt(this,g,this.editorDiv.style.color=L)},mustExec:!0,type:a.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Le=function(){const S=this.editorDiv.getElementsByTagName("div");if(S.length===0)return this.editorDiv.innerText;const L=[];for(const V of S)L.push(V.innerText.replace(/\r\n?|\n/,""));return L.join(`
`)},fe=function(){const[S,L]=this.parentDimensions;let V;if(this.isAttachedToDOM)V=this.div.getBoundingClientRect();else{const{currentLayer:X,div:it}=this,gt=it.style.display;it.style.display="hidden",X.div.append(this.div),V=it.getBoundingClientRect(),it.remove(),it.style.display=gt}this.width=V.width/S,this.height=V.height/L},Ct(p,"_freeTextDefaultContent",""),Ct(p,"_l10nPromise"),Ct(p,"_internalPadding",0),Ct(p,"_defaultColor",null),Ct(p,"_defaultFontSize",10),Ct(p,"_keyboardManager",new o.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],p.prototype.commitOrRemove]])),Ct(p,"_type","freetext");let l=p;s.FreeTextEditor=l},(n,s,i)=>{var d,g,m,b,E,P,v,x,T,y,C,p,A,R,S,Fe,Ie,$e,Oe,pe,Ve,Ne,je,It,me,Xt,Kt,Nt,ge,Yt,I,ye,Be,Ue,We,ve,Jt,jt,be;Object.defineProperty(s,"__esModule",{value:!0}),s.InkEditor=void 0,Object.defineProperty(s,"fitCurve",{enumerable:!0,get:function(){return c.fitCurve}});var a=i(1),o=i(4),c=i(30),l=i(5);const f=16,u=100,M=class M extends o.AnnotationEditor{constructor(D){super({...D,name:"inkEditor"});mt(this,S);mt(this,d,0);mt(this,g,0);mt(this,m,0);mt(this,b,this.canvasPointermove.bind(this));mt(this,E,this.canvasPointerleave.bind(this));mt(this,P,this.canvasPointerup.bind(this));mt(this,v,this.canvasPointerdown.bind(this));mt(this,x,!1);mt(this,T,!1);mt(this,y,null);mt(this,C,null);mt(this,p,0);mt(this,A,0);mt(this,R,null);this.color=D.color||null,this.thickness=D.thickness||null,this.opacity=D.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(D){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink2_aria_label"].map(H=>[H,D.get(H)]))}static updateDefaultParams(D,H){switch(D){case a.AnnotationEditorParamsType.INK_THICKNESS:M._defaultThickness=H;break;case a.AnnotationEditorParamsType.INK_COLOR:M._defaultColor=H;break;case a.AnnotationEditorParamsType.INK_OPACITY:M._defaultOpacity=H/100;break}}updateParams(D,H){switch(D){case a.AnnotationEditorParamsType.INK_THICKNESS:ft(this,S,Fe).call(this,H);break;case a.AnnotationEditorParamsType.INK_COLOR:ft(this,S,Ie).call(this,H);break;case a.AnnotationEditorParamsType.INK_OPACITY:ft(this,S,$e).call(this,H);break}}static get defaultPropertiesToUpdate(){return[[a.AnnotationEditorParamsType.INK_THICKNESS,M._defaultThickness],[a.AnnotationEditorParamsType.INK_COLOR,M._defaultColor||o.AnnotationEditor._defaultLineColor],[a.AnnotationEditorParamsType.INK_OPACITY,Math.round(M._defaultOpacity*100)]]}get propertiesToUpdate(){return[[a.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||M._defaultThickness],[a.AnnotationEditorParamsType.INK_COLOR,this.color||M._defaultColor||o.AnnotationEditor._defaultLineColor],[a.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??M._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(ft(this,S,Xt).call(this),ft(this,S,Kt).call(this)),this.isAttachedToDOM||(this.parent.add(this),ft(this,S,Nt).call(this)),ft(this,S,jt).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,F(this,C).disconnect(),vt(this,C,null),super.remove())}setParent(D){!this.parent&&D?this._uiManager.removeShouldRescale(this):this.parent&&D===null&&this._uiManager.addShouldRescale(this),super.setParent(D)}onScaleChanging(){const[D,H]=this.parentDimensions,Y=this.width*D,Q=this.height*H;this.setDimensions(Y,Q)}enableEditMode(){F(this,x)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",F(this,v)),this.canvas.addEventListener("pointerup",F(this,P)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",F(this,v)),this.canvas.removeEventListener("pointerup",F(this,P)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){F(this,x)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),vt(this,x,!0),this.div.classList.add("disabled"),ft(this,S,jt).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus({preventScroll:!0}))}focusin(D){super.focusin(D),this.enableEditMode()}canvasPointerdown(D){D.button!==0||!this.isInEditMode()||F(this,x)||(this.setInForeground(),D.type!=="mouse"&&this.div.focus(),D.stopPropagation(),this.canvas.addEventListener("pointerleave",F(this,E)),this.canvas.addEventListener("pointermove",F(this,b)),ft(this,S,Ve).call(this,D.offsetX,D.offsetY))}canvasPointermove(D){D.stopPropagation(),ft(this,S,Ne).call(this,D.offsetX,D.offsetY)}canvasPointerup(D){D.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(D.stopPropagation(),ft(this,S,me).call(this,D),this.setInBackground())}canvasPointerleave(D){ft(this,S,me).call(this,D),this.setInBackground()}render(){if(this.div)return this.div;let D,H;this.width&&(D=this.x,H=this.y),super.render(),M._l10nPromise.get("editor_ink2_aria_label").then(J=>{var q;return(q=this.div)==null?void 0:q.setAttribute("aria-label",J)});const[Y,Q,ot,B]=ft(this,S,Oe).call(this);if(this.setAt(Y,Q,0,0),this.setDims(ot,B),ft(this,S,Xt).call(this),this.width){const[J,q]=this.parentDimensions;this.setAt(D*J,H*q,this.width*J,this.height*q),vt(this,T,!0),ft(this,S,Nt).call(this),this.setDims(this.width*J,this.height*q),ft(this,S,It).call(this),ft(this,S,be).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return ft(this,S,Kt).call(this),this.div}setDimensions(D,H){const Y=Math.round(D),Q=Math.round(H);if(F(this,p)===Y&&F(this,A)===Q)return;vt(this,p,Y),vt(this,A,Q),this.canvas.style.visibility="hidden",F(this,d)&&Math.abs(F(this,d)-D/H)>.01&&(H=Math.ceil(D/F(this,d)),this.setDims(D,H));const[ot,B]=this.parentDimensions;this.width=D/ot,this.height=H/B,F(this,x)&&ft(this,S,ge).call(this,D,H),ft(this,S,Nt).call(this),ft(this,S,It).call(this),this.canvas.style.visibility="visible"}static deserialize(D,H,Y){var xt,At;const Q=super.deserialize(D,H,Y);Q.thickness=D.thickness,Q.color=a.Util.makeHexColor(...D.color),Q.opacity=D.opacity;const[ot,B]=Q.pageDimensions,J=Q.width*ot,q=Q.height*B,ht=Q.parentScale,pt=D.thickness/2;vt(Q,d,J/q),vt(Q,x,!0),vt(Q,p,Math.round(J)),vt(Q,A,Math.round(q));for(const{bezier:Et}of D.paths){const Pt=[];Q.paths.push(Pt);let dt=ht*(Et[0]-pt),nt=ht*(q-Et[1]-pt);for(let bt=2,St=Et.length;bt<St;bt+=6){const Tt=ht*(Et[bt]-pt),wt=ht*(q-Et[bt+1]-pt),Dt=ht*(Et[bt+2]-pt),Lt=ht*(q-Et[bt+3]-pt),Ft=ht*(Et[bt+4]-pt),Rt=ht*(q-Et[bt+5]-pt);Pt.push([[dt,nt],[Tt,wt],[Dt,Lt],[Ft,Rt]]),dt=Ft,nt=Rt}const et=ft(this,I,ye).call(this,Pt);Q.bezierPath2D.push(et)}const yt=ft(xt=Q,S,ve).call(xt);return vt(Q,m,Math.max(f,yt[2]-yt[0])),vt(Q,g,Math.max(f,yt[3]-yt[1])),ft(At=Q,S,ge).call(At,J,q),Q}serialize(){if(this.isEmpty())return null;const D=this.getRect(0,0),H=this.rotation%180===0?D[3]-D[1]:D[2]-D[0],Y=o.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:a.AnnotationEditorType.INK,color:Y,thickness:this.thickness,opacity:this.opacity,paths:ft(this,S,Be).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,H),pageIndex:this.pageIndex,rect:D,rotation:this.rotation}}};d=new WeakMap,g=new WeakMap,m=new WeakMap,b=new WeakMap,E=new WeakMap,P=new WeakMap,v=new WeakMap,x=new WeakMap,T=new WeakMap,y=new WeakMap,C=new WeakMap,p=new WeakMap,A=new WeakMap,R=new WeakMap,S=new WeakSet,Fe=function(D){const H=this.thickness;this.addCommands({cmd:()=>{this.thickness=D,ft(this,S,jt).call(this)},undo:()=>{this.thickness=H,ft(this,S,jt).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Ie=function(D){const H=this.color;this.addCommands({cmd:()=>{this.color=D,ft(this,S,It).call(this)},undo:()=>{this.color=H,ft(this,S,It).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},$e=function(D){D/=100;const H=this.opacity;this.addCommands({cmd:()=>{this.opacity=D,ft(this,S,It).call(this)},undo:()=>{this.opacity=H,ft(this,S,It).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Oe=function(){const{parentRotation:D,parentDimensions:[H,Y]}=this;switch(D){case 90:return[0,Y,Y,H];case 180:return[H,Y,H,Y];case 270:return[H,0,Y,H];default:return[0,0,H,Y]}},pe=function(){const{ctx:D,color:H,opacity:Y,thickness:Q,parentScale:ot,scaleFactor:B}=this;D.lineWidth=Q*ot/B,D.lineCap="round",D.lineJoin="round",D.miterLimit=10,D.strokeStyle=`${H}${(0,l.opacityToHex)(Y)}`},Ve=function(D,H){this.isEditing=!0,F(this,T)||(vt(this,T,!0),ft(this,S,Nt).call(this),this.thickness||(this.thickness=M._defaultThickness),this.color||(this.color=M._defaultColor||o.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=M._defaultOpacity)),this.currentPath.push([D,H]),vt(this,y,null),ft(this,S,pe).call(this),this.ctx.beginPath(),this.ctx.moveTo(D,H),vt(this,R,()=>{F(this,R)&&(F(this,y)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):ft(this,S,It).call(this),this.ctx.lineTo(...F(this,y)),vt(this,y,null),this.ctx.stroke()),window.requestAnimationFrame(F(this,R)))}),window.requestAnimationFrame(F(this,R))},Ne=function(D,H){const[Y,Q]=this.currentPath.at(-1);D===Y&&H===Q||(this.currentPath.push([D,H]),vt(this,y,[D,H]))},je=function(D,H){var ht;this.ctx.closePath(),vt(this,R,null),D=Math.min(Math.max(D,0),this.canvas.width),H=Math.min(Math.max(H,0),this.canvas.height);const[Y,Q]=this.currentPath.at(-1);(D!==Y||H!==Q)&&this.currentPath.push([D,H]);let ot;if(this.currentPath.length!==1)ot=(0,c.fitCurve)(this.currentPath,30,null);else{const pt=[D,H];ot=[[pt,pt.slice(),pt.slice(),pt]]}const B=ft(ht=M,I,ye).call(ht,ot);this.currentPath.length=0;const J=()=>{this.paths.push(ot),this.bezierPath2D.push(B),this.rebuild()},q=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(ft(this,S,Xt).call(this),ft(this,S,Kt).call(this)),ft(this,S,jt).call(this))};this.addCommands({cmd:J,undo:q,mustExec:!0})},It=function(){if(this.isEmpty()){ft(this,S,Yt).call(this);return}ft(this,S,pe).call(this);const{canvas:D,ctx:H}=this;H.setTransform(1,0,0,1,0,0),H.clearRect(0,0,D.width,D.height),ft(this,S,Yt).call(this);for(const Y of this.bezierPath2D)H.stroke(Y)},me=function(D){ft(this,S,je).call(this,D.offsetX,D.offsetY),this.canvas.removeEventListener("pointerleave",F(this,E)),this.canvas.removeEventListener("pointermove",F(this,b)),this.addToAnnotationStorage()},Xt=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",M._l10nPromise.get("editor_ink_canvas_aria_label").then(D=>{var H;return(H=this.canvas)==null?void 0:H.setAttribute("aria-label",D)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Kt=function(){let D=null;vt(this,C,new ResizeObserver(H=>{const Y=H[0].contentRect;Y.width&&Y.height&&(D!==null&&clearTimeout(D),D=setTimeout(()=>{this.fixDims(),D=null},u),this.setDimensions(Y.width,Y.height))})),F(this,C).observe(this.div)},Nt=function(){if(!F(this,T))return;const[D,H]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*D),this.canvas.height=Math.ceil(this.height*H),ft(this,S,Yt).call(this)},ge=function(D,H){const Y=ft(this,S,Jt).call(this),Q=(D-Y)/F(this,m),ot=(H-Y)/F(this,g);this.scaleFactor=Math.min(Q,ot)},Yt=function(){const D=ft(this,S,Jt).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+D,this.translationY*this.scaleFactor+D)},I=new WeakSet,ye=function(D){const H=new Path2D;for(let Y=0,Q=D.length;Y<Q;Y++){const[ot,B,J,q]=D[Y];Y===0&&H.moveTo(...ot),H.bezierCurveTo(B[0],B[1],J[0],J[1],q[0],q[1])}return H},Be=function(D,H,Y,Q){const B=[],J=this.thickness/2;let q,ht;for(const pt of this.paths){q=[],ht=[];for(let yt=0,xt=pt.length;yt<xt;yt++){const[At,Et,Pt,dt]=pt[yt],nt=D*(At[0]+H)+J,et=Q-D*(At[1]+Y)-J,bt=D*(Et[0]+H)+J,St=Q-D*(Et[1]+Y)-J,Tt=D*(Pt[0]+H)+J,wt=Q-D*(Pt[1]+Y)-J,Dt=D*(dt[0]+H)+J,Lt=Q-D*(dt[1]+Y)-J;yt===0&&(q.push(nt,et),ht.push(nt,et)),q.push(bt,St,Tt,wt,Dt,Lt),ft(this,S,Ue).call(this,nt,et,bt,St,Tt,wt,Dt,Lt,4,ht)}B.push({bezier:q,points:ht})}return B},Ue=function(D,H,Y,Q,ot,B,J,q,ht,pt){if(ft(this,S,We).call(this,D,H,Y,Q,ot,B,J,q)){pt.push(J,q);return}for(let yt=1;yt<ht-1;yt++){const xt=yt/ht,At=1-xt;let Et=xt*D+At*Y,Pt=xt*H+At*Q,dt=xt*Y+At*ot,nt=xt*Q+At*B;const et=xt*ot+At*J,bt=xt*B+At*q;Et=xt*Et+At*dt,Pt=xt*Pt+At*nt,dt=xt*dt+At*et,nt=xt*nt+At*bt,Et=xt*Et+At*dt,Pt=xt*Pt+At*nt,pt.push(Et,Pt)}pt.push(J,q)},We=function(D,H,Y,Q,ot,B,J,q){const pt=(3*Y-2*D-J)**2,yt=(3*Q-2*H-q)**2,xt=(3*ot-D-2*J)**2,At=(3*B-H-2*q)**2;return Math.max(pt,xt)+Math.max(yt,At)<=10},ve=function(){let D=1/0,H=-1/0,Y=1/0,Q=-1/0;for(const ot of this.paths)for(const[B,J,q,ht]of ot){const pt=a.Util.bezierBoundingBox(...B,...J,...q,...ht);D=Math.min(D,pt[0]),Y=Math.min(Y,pt[1]),H=Math.max(H,pt[2]),Q=Math.max(Q,pt[3])}return[D,Y,H,Q]},Jt=function(){return F(this,x)?Math.ceil(this.thickness*this.parentScale):0},jt=function(D=!1){if(this.isEmpty())return;if(!F(this,x)){ft(this,S,It).call(this);return}const H=ft(this,S,ve).call(this),Y=ft(this,S,Jt).call(this);vt(this,m,Math.max(f,H[2]-H[0])),vt(this,g,Math.max(f,H[3]-H[1]));const Q=Math.ceil(Y+F(this,m)*this.scaleFactor),ot=Math.ceil(Y+F(this,g)*this.scaleFactor),[B,J]=this.parentDimensions;this.width=Q/B,this.height=ot/J,vt(this,d,Q/ot),ft(this,S,be).call(this);const q=this.translationX,ht=this.translationY;this.translationX=-H[0],this.translationY=-H[1],ft(this,S,Nt).call(this),ft(this,S,It).call(this),vt(this,p,Q),vt(this,A,ot),this.setDims(Q,ot);const pt=D?Y/this.scaleFactor/2:0;this.translate(q-this.translationX-pt,ht-this.translationY-pt)},be=function(){const{style:D}=this.div;F(this,d)>=1?(D.minHeight=`${f}px`,D.minWidth=`${Math.round(F(this,d)*f)}px`):(D.minWidth=`${f}px`,D.minHeight=`${Math.round(f/F(this,d))}px`)},mt(M,I),Ct(M,"_defaultColor",null),Ct(M,"_defaultOpacity",1),Ct(M,"_defaultThickness",1),Ct(M,"_l10nPromise"),Ct(M,"_type","ink");let h=M;s.InkEditor=h},(n,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.fitCurve=void 0;const a=i(31);s.fitCurve=a},n=>{function s(E,P,v){if(!Array.isArray(E))throw new TypeError("First argument should be an array");if(E.forEach(C=>{if(!Array.isArray(C)||C.some(p=>typeof p!="number")||C.length!==E[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),E=E.filter((C,p)=>p===0||!C.every((A,R)=>A===E[p-1][R])),E.length<2)return[];const x=E.length,T=g(E[1],E[0]),y=g(E[x-2],E[x-1]);return i(E,T,y,P,v)}function i(E,P,v,x,T){var C,p,A,R,S,L,V,X,it,gt,K,lt,tt;if(E.length===2)return lt=m.vectorLen(m.subtract(E[0],E[1]))/3,C=[E[0],m.addArrays(E[0],m.mulItems(P,lt)),m.addArrays(E[1],m.mulItems(v,lt)),E[1]],[C];if(p=f(E),[C,R,L]=a(E,p,p,P,v,T),R===0||R<x)return[C];if(R<x*x)for(A=p,S=R,V=L,tt=0;tt<20;tt++){if(A=c(C,E,A),[C,R,L]=a(E,p,A,P,v,T),R<x)return[C];if(L===V){let G=R/S;if(G>.9999&&G<1.0001)break}S=R,V=L}return K=[],X=m.subtract(E[L-1],E[L+1]),X.every(G=>G===0)&&(X=m.subtract(E[L-1],E[L]),[X[0],X[1]]=[-X[1],X[0]]),it=m.normalize(X),gt=m.mulItems(it,-1),K=K.concat(i(E.slice(0,L+1),P,it,x,T)),K=K.concat(i(E.slice(L),gt,v,x,T)),K}function a(E,P,v,x,T,y){var C,p,A;return C=o(E,v,x,T),[p,A]=u(E,C,P),y&&y({bez:C,points:E,params:P,maxErr:p,maxPoint:A}),[C,p,A]}function o(E,P,v,x){var T,y,C,p,A,R,S,L,V,X,it,gt,K,lt,tt,G,W,at=E[0],ct=E[E.length-1];for(T=[at,null,null,ct],y=m.zeros_Xx2x2(P.length),K=0,lt=P.length;K<lt;K++)G=P[K],W=1-G,C=y[K],C[0]=m.mulItems(v,3*G*(W*W)),C[1]=m.mulItems(x,3*W*(G*G));for(p=[[0,0],[0,0]],A=[0,0],K=0,lt=E.length;K<lt;K++)G=P[K],C=y[K],p[0][0]+=m.dot(C[0],C[0]),p[0][1]+=m.dot(C[0],C[1]),p[1][0]+=m.dot(C[0],C[1]),p[1][1]+=m.dot(C[1],C[1]),tt=m.subtract(E[K],b.q([at,at,ct,ct],G)),A[0]+=m.dot(C[0],tt),A[1]+=m.dot(C[1],tt);return R=p[0][0]*p[1][1]-p[1][0]*p[0][1],S=p[0][0]*A[1]-p[1][0]*A[0],L=A[0]*p[1][1]-A[1]*p[0][1],V=R===0?0:L/R,X=R===0?0:S/R,gt=m.vectorLen(m.subtract(at,ct)),it=1e-6*gt,V<it||X<it?(T[1]=m.addArrays(at,m.mulItems(v,gt/3)),T[2]=m.addArrays(ct,m.mulItems(x,gt/3))):(T[1]=m.addArrays(at,m.mulItems(v,V)),T[2]=m.addArrays(ct,m.mulItems(x,X))),T}function c(E,P,v){return v.map((x,T)=>l(E,P[T],x))}function l(E,P,v){var x=m.subtract(b.q(E,v),P),T=b.qprime(E,v),y=m.mulMatrix(x,T),C=m.sum(m.squareItems(T))+2*m.mulMatrix(x,b.qprimeprime(E,v));return C===0?v:v-y/C}function f(E){var P=[],v,x,T;return E.forEach((y,C)=>{v=C?x+m.vectorLen(m.subtract(y,T)):0,P.push(v),x=v,T=y}),P=P.map(y=>y/x),P}function u(E,P,v){var x,T,y,C,p,A,R,S;T=0,y=Math.floor(E.length/2);const L=h(P,10);for(p=0,A=E.length;p<A;p++)R=E[p],S=d(P,v[p],L,10),C=m.subtract(b.q(P,S),R),x=C[0]*C[0]+C[1]*C[1],x>T&&(T=x,y=p);return[T,y]}var h=function(E,P){for(var v,x=[0],T=E[0],y=0,C=1;C<=P;C++)v=b.q(E,C/P),y+=m.vectorLen(m.subtract(v,T)),x.push(y),T=v;return x=x.map(p=>p/y),x};function d(E,P,v,x){if(P<0)return 0;if(P>1)return 1;for(var T,y,C,p,A,R=1;R<=x;R++)if(P<=v[R]){p=(R-1)/x,C=R/x,y=v[R-1],T=v[R],A=(P-y)/(T-y)*(C-p)+p;break}return A}function g(E,P){return m.normalize(m.subtract(E,P))}class m{static zeros_Xx2x2(P){for(var v=[];P--;)v.push([0,0]);return v}static mulItems(P,v){return P.map(x=>x*v)}static mulMatrix(P,v){return P.reduce((x,T,y)=>x+T*v[y],0)}static subtract(P,v){return P.map((x,T)=>x-v[T])}static addArrays(P,v){return P.map((x,T)=>x+v[T])}static addItems(P,v){return P.map(x=>x+v)}static sum(P){return P.reduce((v,x)=>v+x)}static dot(P,v){return m.mulMatrix(P,v)}static vectorLen(P){return Math.hypot(...P)}static divItems(P,v){return P.map(x=>x/v)}static squareItems(P){return P.map(v=>v*v)}static normalize(P){return this.divItems(P,this.vectorLen(P))}}class b{static q(P,v){var x=1-v,T=m.mulItems(P[0],x*x*x),y=m.mulItems(P[1],3*x*x*v),C=m.mulItems(P[2],3*x*v*v),p=m.mulItems(P[3],v*v*v);return m.addArrays(m.addArrays(T,y),m.addArrays(C,p))}static qprime(P,v){var x=1-v,T=m.mulItems(m.subtract(P[1],P[0]),3*x*x),y=m.mulItems(m.subtract(P[2],P[1]),6*x*v),C=m.mulItems(m.subtract(P[3],P[2]),3*v*v);return m.addArrays(m.addArrays(T,y),C)}static qprimeprime(P,v){return m.addArrays(m.mulItems(m.addArrays(m.subtract(P[2],m.mulItems(P[1],2)),P[0]),6*(1-v)),m.mulItems(m.addArrays(m.subtract(P[3],m.mulItems(P[2],2)),P[1]),6*v))}}n.exports=s,n.exports.fitCubic=i,n.exports.createTangent=g},(n,s,i)=>{var _,Ot,He,N,xe,Ae;Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationLayer=void 0;var a=i(1),o=i(6),c=i(3),l=i(33),f=i(34);const u=1e3,h=9,d=new WeakSet;function g(st){return{width:st[2]-st[0],height:st[3]-st[1]}}class m{static create(w){switch(w.data.annotationType){case a.AnnotationType.LINK:return new E(w);case a.AnnotationType.TEXT:return new P(w);case a.AnnotationType.WIDGET:switch(w.data.fieldType){case"Tx":return new x(w);case"Btn":return w.data.radioButton?new y(w):w.data.checkBox?new T(w):new C(w);case"Ch":return new p(w)}return new v(w);case a.AnnotationType.POPUP:return new A(w);case a.AnnotationType.FREETEXT:return new S(w);case a.AnnotationType.LINE:return new L(w);case a.AnnotationType.SQUARE:return new V(w);case a.AnnotationType.CIRCLE:return new X(w);case a.AnnotationType.POLYLINE:return new it(w);case a.AnnotationType.CARET:return new K(w);case a.AnnotationType.INK:return new lt(w);case a.AnnotationType.POLYGON:return new gt(w);case a.AnnotationType.HIGHLIGHT:return new tt(w);case a.AnnotationType.UNDERLINE:return new G(w);case a.AnnotationType.SQUIGGLY:return new W(w);case a.AnnotationType.STRIKEOUT:return new at(w);case a.AnnotationType.STAMP:return new ct(w);case a.AnnotationType.FILEATTACHMENT:return new j(w);default:return new b(w)}}}class b{constructor(w,{isRenderable:M=!1,ignoreBorder:$=!1,createQuadrilaterals:O=!1}={}){this.isRenderable=M,this.data=w.data,this.layer=w.layer,this.page=w.page,this.viewport=w.viewport,this.linkService=w.linkService,this.downloadManager=w.downloadManager,this.imageResourcesPath=w.imageResourcesPath,this.renderForms=w.renderForms,this.svgFactory=w.svgFactory,this.annotationStorage=w.annotationStorage,this.enableScripting=w.enableScripting,this.hasJSActions=w.hasJSActions,this._fieldObjects=w.fieldObjects,M&&(this.container=this._createContainer($)),O&&(this.quadrilaterals=this._createQuadrilaterals($))}_createContainer(w=!1){const{data:M,page:$,viewport:O}=this,D=document.createElement("section");D.setAttribute("data-annotation-id",M.id);const{pageWidth:H,pageHeight:Y,pageX:Q,pageY:ot}=O.rawDims,{width:B,height:J}=g(M.rect),q=a.Util.normalizeRect([M.rect[0],$.view[3]-M.rect[1]+$.view[1],M.rect[2],$.view[3]-M.rect[3]+$.view[1]]);if(!w&&M.borderStyle.width>0){D.style.borderWidth=`${M.borderStyle.width}px`;const pt=M.borderStyle.horizontalCornerRadius,yt=M.borderStyle.verticalCornerRadius;if(pt>0||yt>0){const At=`calc(${pt}px * var(--scale-factor)) / calc(${yt}px * var(--scale-factor))`;D.style.borderRadius=At}else if(this instanceof y){const At=`calc(${B}px * var(--scale-factor)) / calc(${J}px * var(--scale-factor))`;D.style.borderRadius=At}switch(M.borderStyle.style){case a.AnnotationBorderStyleType.SOLID:D.style.borderStyle="solid";break;case a.AnnotationBorderStyleType.DASHED:D.style.borderStyle="dashed";break;case a.AnnotationBorderStyleType.BEVELED:(0,a.warn)("Unimplemented border style: beveled");break;case a.AnnotationBorderStyleType.INSET:(0,a.warn)("Unimplemented border style: inset");break;case a.AnnotationBorderStyleType.UNDERLINE:D.style.borderBottomStyle="solid";break}const xt=M.borderColor||null;xt?D.style.borderColor=a.Util.makeHexColor(xt[0]|0,xt[1]|0,xt[2]|0):D.style.borderWidth=0}D.style.left=`${100*(q[0]-Q)/H}%`,D.style.top=`${100*(q[1]-ot)/Y}%`;const{rotation:ht}=M;return M.hasOwnCanvas||ht===0?(D.style.width=`${100*B/H}%`,D.style.height=`${100*J/Y}%`):this.setRotation(ht,D),D}setRotation(w,M=this.container){const{pageWidth:$,pageHeight:O}=this.viewport.rawDims,{width:D,height:H}=g(this.data.rect);let Y,Q;w%180===0?(Y=100*D/$,Q=100*H/O):(Y=100*H/$,Q=100*D/O),M.style.width=`${Y}%`,M.style.height=`${Q}%`,M.setAttribute("data-main-rotation",(360-w)%360)}get _commonActions(){const w=(M,$,O)=>{const D=O.detail[M];O.target.style[$]=l.ColorConverters[`${D[0]}_HTML`](D.slice(1))};return(0,a.shadow)(this,"_commonActions",{display:M=>{const $=M.detail.display%2===1;this.container.style.visibility=$?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:$,print:M.detail.display===0||M.detail.display===3})},print:M=>{this.annotationStorage.setValue(this.data.id,{print:M.detail.print})},hidden:M=>{this.container.style.visibility=M.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:M.detail.hidden})},focus:M=>{setTimeout(()=>M.target.focus({preventScroll:!1}),0)},userName:M=>{M.target.title=M.detail.userName},readonly:M=>{M.detail.readonly?M.target.setAttribute("readonly",""):M.target.removeAttribute("readonly")},required:M=>{this._setRequired(M.target,M.detail.required)},bgColor:M=>{w("bgColor","backgroundColor",M)},fillColor:M=>{w("fillColor","backgroundColor",M)},fgColor:M=>{w("fgColor","color",M)},textColor:M=>{w("textColor","color",M)},borderColor:M=>{w("borderColor","borderColor",M)},strokeColor:M=>{w("strokeColor","borderColor",M)},rotation:M=>{const $=M.detail.rotation;this.setRotation($),this.annotationStorage.setValue(this.data.id,{rotation:$})}})}_dispatchEventFromSandbox(w,M){const $=this._commonActions;for(const O of Object.keys(M.detail)){const D=w[O]||$[O];D==null||D(M)}}_setDefaultPropertiesFromJS(w){if(!this.enableScripting)return;const M=this.annotationStorage.getRawValue(this.data.id);if(!M)return;const $=this._commonActions;for(const[O,D]of Object.entries(M)){const H=$[O];if(H){const Y={detail:{[O]:D},target:w};H(Y),delete M[O]}}}_createQuadrilaterals(w=!1){if(!this.data.quadPoints)return null;const M=[],$=this.data.rect;for(const O of this.data.quadPoints)this.data.rect=[O[2].x,O[2].y,O[1].x,O[1].y],M.push(this._createContainer(w));return this.data.rect=$,M}_createPopup(w,M){let $=this.container;this.quadrilaterals&&(w=w||this.quadrilaterals,$=this.quadrilaterals[0]),w||(w=document.createElement("div"),w.className="popupTriggerArea",$.append(w));const D=new R({container:$,trigger:w,color:M.color,titleObj:M.titleObj,modificationDate:M.modificationDate,contentsObj:M.contentsObj,richText:M.richText,hideWrapper:!0}).render();D.style.left="100%",$.append(D)}_renderQuadrilaterals(w){for(const M of this.quadrilaterals)M.className=w;return this.quadrilaterals}render(){(0,a.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(w,M=null){const $=[];if(this._fieldObjects){const O=this._fieldObjects[w];if(O)for(const{page:D,id:H,exportValues:Y}of O){if(D===-1||H===M)continue;const Q=typeof Y=="string"?Y:null,ot=document.querySelector(`[data-element-id="${H}"]`);if(ot&&!d.has(ot)){(0,a.warn)(`_getElementsByName - element not allowed: ${H}`);continue}$.push({id:H,exportValue:Q,domElement:ot})}return $}for(const O of document.getElementsByName(w)){const{exportValue:D}=O,H=O.getAttribute("data-element-id");H!==M&&d.has(O)&&$.push({id:H,exportValue:D,domElement:O})}return $}}class E extends b{constructor(M,$=null){super(M,{isRenderable:!0,ignoreBorder:!!($!=null&&$.ignoreBorder),createQuadrilaterals:!0});mt(this,_);this.isTooltipOnly=M.data.isTooltipOnly}render(){const{data:M,linkService:$}=this,O=document.createElement("a");O.setAttribute("data-element-id",M.id);let D=!1;return M.url?($.addLinkAttributes(O,M.url,M.newWindow),D=!0):M.action?(this._bindNamedAction(O,M.action),D=!0):M.attachment?(this._bindAttachment(O,M.attachment),D=!0):M.setOCGState?(ft(this,_,He).call(this,O,M.setOCGState),D=!0):M.dest?(this._bindLink(O,M.dest),D=!0):(M.actions&&(M.actions.Action||M.actions["Mouse Up"]||M.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(O,M),D=!0),M.resetForm?(this._bindResetFormAction(O,M.resetForm),D=!0):this.isTooltipOnly&&!D&&(this._bindLink(O,""),D=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((H,Y)=>{const Q=Y===0?O:O.cloneNode();return H.append(Q),H}):(this.container.className="linkAnnotation",D&&this.container.append(O),this.container)}_bindLink(M,$){M.href=this.linkService.getDestinationHash($),M.onclick=()=>($&&this.linkService.goToDestination($),!1),($||$==="")&&ft(this,_,Ot).call(this)}_bindNamedAction(M,$){M.href=this.linkService.getAnchorUrl(""),M.onclick=()=>(this.linkService.executeNamedAction($),!1),ft(this,_,Ot).call(this)}_bindAttachment(M,$){M.href=this.linkService.getAnchorUrl(""),M.onclick=()=>{var O;return(O=this.downloadManager)==null||O.openOrDownloadData(this.container,$.content,$.filename),!1},ft(this,_,Ot).call(this)}_bindJSAction(M,$){M.href=this.linkService.getAnchorUrl("");const O=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const D of Object.keys($.actions)){const H=O.get(D);H&&(M[H]=()=>{var Y;return(Y=this.linkService.eventBus)==null||Y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:$.id,name:D}}),!1})}M.onclick||(M.onclick=()=>!1),ft(this,_,Ot).call(this)}_bindResetFormAction(M,$){const O=M.onclick;if(O||(M.href=this.linkService.getAnchorUrl("")),ft(this,_,Ot).call(this),!this._fieldObjects){(0,a.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),O||(M.onclick=()=>!1);return}M.onclick=()=>{var J;O==null||O();const{fields:D,refs:H,include:Y}=$,Q=[];if(D.length!==0||H.length!==0){const q=new Set(H);for(const ht of D){const pt=this._fieldObjects[ht]||[];for(const{id:yt}of pt)q.add(yt)}for(const ht of Object.values(this._fieldObjects))for(const pt of ht)q.has(pt.id)===Y&&Q.push(pt)}else for(const q of Object.values(this._fieldObjects))Q.push(...q);const ot=this.annotationStorage,B=[];for(const q of Q){const{id:ht}=q;switch(B.push(ht),q.type){case"text":{const yt=q.defaultValue||"";ot.setValue(ht,{value:yt});break}case"checkbox":case"radiobutton":{const yt=q.defaultValue===q.exportValues;ot.setValue(ht,{value:yt});break}case"combobox":case"listbox":{const yt=q.defaultValue||"";ot.setValue(ht,{value:yt});break}default:continue}const pt=document.querySelector(`[data-element-id="${ht}"]`);if(pt){if(!d.has(pt)){(0,a.warn)(`_bindResetFormAction - element not allowed: ${ht}`);continue}}else continue;pt.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((J=this.linkService.eventBus)==null||J.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:B,name:"ResetForm"}})),!1}}}_=new WeakSet,Ot=function(){this.container.setAttribute("data-internal-link","")},He=function(M,$){M.href=this.linkService.getAnchorUrl(""),M.onclick=()=>(this.linkService.executeSetOCGState($),!1),ft(this,_,Ot).call(this)};class P extends b{constructor(w){var $,O,D;const M=!!(w.data.hasPopup||($=w.data.titleObj)!=null&&$.str||(O=w.data.contentsObj)!=null&&O.str||(D=w.data.richText)!=null&&D.str);super(w,{isRenderable:M})}render(){this.container.className="textAnnotation";const w=document.createElement("img");return w.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",w.alt="[{{type}} Annotation]",w.dataset.l10nId="text_annotation_type",w.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(w,this.data),this.container.append(w),this.container}}class v extends b{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(w){const{isWin:M,isMac:$}=a.FeatureTest.platform;return M&&w.ctrlKey||$&&w.metaKey}_setEventListener(w,M,$,O){M.includes("mouse")?w.addEventListener(M,D=>{var H;(H=this.linkService.eventBus)==null||H.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:$,value:O(D),shift:D.shiftKey,modifier:this._getKeyModifier(D)}})}):w.addEventListener(M,D=>{var H;(H=this.linkService.eventBus)==null||H.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:$,value:O(D)}})})}_setEventListeners(w,M,$){var O;for(const[D,H]of M)(H==="Action"||(O=this.data.actions)!=null&&O[H])&&this._setEventListener(w,D,H,$)}_setBackgroundColor(w){const M=this.data.backgroundColor||null;w.style.backgroundColor=M===null?"transparent":a.Util.makeHexColor(M[0],M[1],M[2])}_setTextStyle(w){const M=["left","center","right"],{fontColor:$}=this.data.defaultAppearanceData,O=this.data.defaultAppearanceData.fontSize||h,D=w.style;let H;const Y=2,Q=ot=>Math.round(10*ot)/10;if(this.data.multiLine){const ot=Math.abs(this.data.rect[3]-this.data.rect[1]-Y),B=Math.round(ot/(a.LINE_FACTOR*O))||1,J=ot/B;H=Math.min(O,Q(J/a.LINE_FACTOR))}else{const ot=Math.abs(this.data.rect[3]-this.data.rect[1]-Y);H=Math.min(O,Q(ot/a.LINE_FACTOR))}D.fontSize=`calc(${H}px * var(--scale-factor))`,D.color=a.Util.makeHexColor($[0],$[1],$[2]),this.data.textAlignment!==null&&(D.textAlign=M[this.data.textAlignment])}_setRequired(w,M){M?w.setAttribute("required",!0):w.removeAttribute("required"),w.setAttribute("aria-required",M)}}class x extends v{constructor(w){const M=w.renderForms||!w.data.hasAppearance&&!!w.data.fieldValue;super(w,{isRenderable:M})}setPropertyOnSiblings(w,M,$,O){const D=this.annotationStorage;for(const H of this._getElementsByName(w.name,w.id))H.domElement&&(H.domElement[M]=$),D.setValue(H.id,{[O]:$})}render(){var O;const w=this.annotationStorage,M=this.data.id;this.container.className="textWidgetAnnotation";let $=null;if(this.renderForms){const D=w.getValue(M,{value:this.data.fieldValue});let H=D.formattedValue||D.value||"";const Y=w.getValue(M,{charLimit:this.data.maxLen}).charLimit;Y&&H.length>Y&&(H=H.slice(0,Y));const Q={userValue:H,formattedValue:null,lastCommittedValue:null,commitKey:1};this.data.multiLine?($=document.createElement("textarea"),$.textContent=H,this.data.doNotScroll&&($.style.overflowY="hidden")):($=document.createElement("input"),$.type="text",$.setAttribute("value",H),this.data.doNotScroll&&($.style.overflowX="hidden")),d.add($),$.setAttribute("data-element-id",M),$.disabled=this.data.readOnly,$.name=this.data.fieldName,$.tabIndex=u,this._setRequired($,this.data.required),Y&&($.maxLength=Y),$.addEventListener("input",B=>{w.setValue(M,{value:B.target.value}),this.setPropertyOnSiblings($,"value",B.target.value,"value")}),$.addEventListener("resetform",B=>{const J=this.data.defaultFieldValue??"";$.value=Q.userValue=J,Q.formattedValue=null});let ot=B=>{const{formattedValue:J}=Q;J!=null&&(B.target.value=J),B.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){$.addEventListener("focus",J=>{const{target:q}=J;Q.userValue&&(q.value=Q.userValue),Q.lastCommittedValue=q.value,Q.commitKey=1}),$.addEventListener("updatefromsandbox",J=>{const q={value(ht){Q.userValue=ht.detail.value??"",w.setValue(M,{value:Q.userValue.toString()}),ht.target.value=Q.userValue},formattedValue(ht){const{formattedValue:pt}=ht.detail;Q.formattedValue=pt,pt!=null&&ht.target!==document.activeElement&&(ht.target.value=pt),w.setValue(M,{formattedValue:pt})},selRange(ht){ht.target.setSelectionRange(...ht.detail.selRange)},charLimit:ht=>{var At;const{charLimit:pt}=ht.detail,{target:yt}=ht;if(pt===0){yt.removeAttribute("maxLength");return}yt.setAttribute("maxLength",pt);let xt=Q.userValue;!xt||xt.length<=pt||(xt=xt.slice(0,pt),yt.value=Q.userValue=xt,w.setValue(M,{value:xt}),(At=this.linkService.eventBus)==null||At.dispatch("dispatcheventinsandbox",{source:this,detail:{id:M,name:"Keystroke",value:xt,willCommit:!0,commitKey:1,selStart:yt.selectionStart,selEnd:yt.selectionEnd}}))}};this._dispatchEventFromSandbox(q,J)}),$.addEventListener("keydown",J=>{var pt;Q.commitKey=1;let q=-1;if(J.key==="Escape"?q=0:J.key==="Enter"&&!this.data.multiLine?q=2:J.key==="Tab"&&(Q.commitKey=3),q===-1)return;const{value:ht}=J.target;Q.lastCommittedValue!==ht&&(Q.lastCommittedValue=ht,Q.userValue=ht,(pt=this.linkService.eventBus)==null||pt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:M,name:"Keystroke",value:ht,willCommit:!0,commitKey:q,selStart:J.target.selectionStart,selEnd:J.target.selectionEnd}}))});const B=ot;ot=null,$.addEventListener("blur",J=>{var ht;if(!J.relatedTarget)return;const{value:q}=J.target;Q.userValue=q,Q.lastCommittedValue!==q&&((ht=this.linkService.eventBus)==null||ht.dispatch("dispatcheventinsandbox",{source:this,detail:{id:M,name:"Keystroke",value:q,willCommit:!0,commitKey:Q.commitKey,selStart:J.target.selectionStart,selEnd:J.target.selectionEnd}})),B(J)}),(O=this.data.actions)!=null&&O.Keystroke&&$.addEventListener("beforeinput",J=>{var Pt;Q.lastCommittedValue=null;const{data:q,target:ht}=J,{value:pt,selectionStart:yt,selectionEnd:xt}=ht;let At=yt,Et=xt;switch(J.inputType){case"deleteWordBackward":{const dt=pt.substring(0,yt).match(/\w*[^\w]*$/);dt&&(At-=dt[0].length);break}case"deleteWordForward":{const dt=pt.substring(yt).match(/^[^\w]*\w*/);dt&&(Et+=dt[0].length);break}case"deleteContentBackward":yt===xt&&(At-=1);break;case"deleteContentForward":yt===xt&&(Et+=1);break}J.preventDefault(),(Pt=this.linkService.eventBus)==null||Pt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:M,name:"Keystroke",value:pt,change:q||"",willCommit:!1,selStart:At,selEnd:Et}})}),this._setEventListeners($,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],J=>J.target.value)}if(ot&&$.addEventListener("blur",ot),this.data.comb){const J=(this.data.rect[2]-this.data.rect[0])/Y;$.classList.add("comb"),$.style.letterSpacing=`calc(${J}px * var(--scale-factor) - 1ch)`}}else $=document.createElement("div"),$.textContent=this.data.fieldValue,$.style.verticalAlign="middle",$.style.display="table-cell";return this._setTextStyle($),this._setBackgroundColor($),this._setDefaultPropertiesFromJS($),this.container.append($),this.container}}class T extends v{constructor(w){super(w,{isRenderable:w.renderForms})}render(){const w=this.annotationStorage,M=this.data,$=M.id;let O=w.getValue($,{value:M.exportValue===M.fieldValue}).value;typeof O=="string"&&(O=O!=="Off",w.setValue($,{value:O})),this.container.className="buttonWidgetAnnotation checkBox";const D=document.createElement("input");return d.add(D),D.setAttribute("data-element-id",$),D.disabled=M.readOnly,this._setRequired(D,this.data.required),D.type="checkbox",D.name=M.fieldName,O&&D.setAttribute("checked",!0),D.setAttribute("exportValue",M.exportValue),D.tabIndex=u,D.addEventListener("change",H=>{const{name:Y,checked:Q}=H.target;for(const ot of this._getElementsByName(Y,$)){const B=Q&&ot.exportValue===M.exportValue;ot.domElement&&(ot.domElement.checked=B),w.setValue(ot.id,{value:B})}w.setValue($,{value:Q})}),D.addEventListener("resetform",H=>{const Y=M.defaultFieldValue||"Off";H.target.checked=Y===M.exportValue}),this.enableScripting&&this.hasJSActions&&(D.addEventListener("updatefromsandbox",H=>{const Y={value(Q){Q.target.checked=Q.detail.value!=="Off",w.setValue($,{value:Q.target.checked})}};this._dispatchEventFromSandbox(Y,H)}),this._setEventListeners(D,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],H=>H.target.checked)),this._setBackgroundColor(D),this._setDefaultPropertiesFromJS(D),this.container.append(D),this.container}}class y extends v{constructor(w){super(w,{isRenderable:w.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const w=this.annotationStorage,M=this.data,$=M.id;let O=w.getValue($,{value:M.fieldValue===M.buttonValue}).value;typeof O=="string"&&(O=O!==M.buttonValue,w.setValue($,{value:O}));const D=document.createElement("input");if(d.add(D),D.setAttribute("data-element-id",$),D.disabled=M.readOnly,this._setRequired(D,this.data.required),D.type="radio",D.name=M.fieldName,O&&D.setAttribute("checked",!0),D.tabIndex=u,D.addEventListener("change",H=>{const{name:Y,checked:Q}=H.target;for(const ot of this._getElementsByName(Y,$))w.setValue(ot.id,{value:!1});w.setValue($,{value:Q})}),D.addEventListener("resetform",H=>{const Y=M.defaultFieldValue;H.target.checked=Y!=null&&Y===M.buttonValue}),this.enableScripting&&this.hasJSActions){const H=M.buttonValue;D.addEventListener("updatefromsandbox",Y=>{const Q={value:ot=>{const B=H===ot.detail.value;for(const J of this._getElementsByName(ot.target.name)){const q=B&&J.id===$;J.domElement&&(J.domElement.checked=q),w.setValue(J.id,{value:q})}}};this._dispatchEventFromSandbox(Q,Y)}),this._setEventListeners(D,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Y=>Y.target.checked)}return this._setBackgroundColor(D),this._setDefaultPropertiesFromJS(D),this.container.append(D),this.container}}class C extends E{constructor(w){super(w,{ignoreBorder:w.data.hasAppearance})}render(){const w=super.render();w.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(w.title=this.data.alternativeText);const M=w.lastChild;return this.enableScripting&&this.hasJSActions&&M&&(this._setDefaultPropertiesFromJS(M),M.addEventListener("updatefromsandbox",$=>{this._dispatchEventFromSandbox({},$)})),w}}class p extends v{constructor(w){super(w,{isRenderable:w.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const w=this.annotationStorage,M=this.data.id,$=w.getValue(M,{value:this.data.fieldValue}),O=document.createElement("select");d.add(O),O.setAttribute("data-element-id",M),O.disabled=this.data.readOnly,this._setRequired(O,this.data.required),O.name=this.data.fieldName,O.tabIndex=u;let D=this.data.combo&&this.data.options.length>0;this.data.combo||(O.size=this.data.options.length,this.data.multiSelect&&(O.multiple=!0)),O.addEventListener("resetform",B=>{const J=this.data.defaultFieldValue;for(const q of O.options)q.selected=q.value===J});for(const B of this.data.options){const J=document.createElement("option");J.textContent=B.displayValue,J.value=B.exportValue,$.value.includes(B.exportValue)&&(J.setAttribute("selected",!0),D=!1),O.append(J)}let H=null;if(D){const B=document.createElement("option");B.value=" ",B.setAttribute("hidden",!0),B.setAttribute("selected",!0),O.prepend(B),H=()=>{B.remove(),O.removeEventListener("input",H),H=null},O.addEventListener("input",H)}const Y=B=>{const J=B?"value":"textContent",{options:q,multiple:ht}=O;return ht?Array.prototype.filter.call(q,pt=>pt.selected).map(pt=>pt[J]):q.selectedIndex===-1?null:q[q.selectedIndex][J]};let Q=Y(!1);const ot=B=>{const J=B.target.options;return Array.prototype.map.call(J,q=>({displayValue:q.textContent,exportValue:q.value}))};return this.enableScripting&&this.hasJSActions?(O.addEventListener("updatefromsandbox",B=>{const J={value(q){H==null||H();const ht=q.detail.value,pt=new Set(Array.isArray(ht)?ht:[ht]);for(const yt of O.options)yt.selected=pt.has(yt.value);w.setValue(M,{value:Y(!0)}),Q=Y(!1)},multipleSelection(q){O.multiple=!0},remove(q){const ht=O.options,pt=q.detail.remove;ht[pt].selected=!1,O.remove(pt),ht.length>0&&Array.prototype.findIndex.call(ht,xt=>xt.selected)===-1&&(ht[0].selected=!0),w.setValue(M,{value:Y(!0),items:ot(q)}),Q=Y(!1)},clear(q){for(;O.length!==0;)O.remove(0);w.setValue(M,{value:null,items:[]}),Q=Y(!1)},insert(q){const{index:ht,displayValue:pt,exportValue:yt}=q.detail.insert,xt=O.children[ht],At=document.createElement("option");At.textContent=pt,At.value=yt,xt?xt.before(At):O.append(At),w.setValue(M,{value:Y(!0),items:ot(q)}),Q=Y(!1)},items(q){const{items:ht}=q.detail;for(;O.length!==0;)O.remove(0);for(const pt of ht){const{displayValue:yt,exportValue:xt}=pt,At=document.createElement("option");At.textContent=yt,At.value=xt,O.append(At)}O.options.length>0&&(O.options[0].selected=!0),w.setValue(M,{value:Y(!0),items:ot(q)}),Q=Y(!1)},indices(q){const ht=new Set(q.detail.indices);for(const pt of q.target.options)pt.selected=ht.has(pt.index);w.setValue(M,{value:Y(!0)}),Q=Y(!1)},editable(q){q.target.disabled=!q.detail.editable}};this._dispatchEventFromSandbox(J,B)}),O.addEventListener("input",B=>{var q;const J=Y(!0);w.setValue(M,{value:J}),B.preventDefault(),(q=this.linkService.eventBus)==null||q.dispatch("dispatcheventinsandbox",{source:this,detail:{id:M,name:"Keystroke",value:Q,changeEx:J,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(O,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],B=>B.target.value)):O.addEventListener("input",function(B){w.setValue(M,{value:Y(!0)})}),this.data.combo&&this._setTextStyle(O),this._setBackgroundColor(O),this._setDefaultPropertiesFromJS(O),this.container.append(O),this.container}}const z=class z extends b{constructor(w){var O,D,H;const{data:M}=w,$=!z.IGNORE_TYPES.has(M.parentType)&&!!((O=M.titleObj)!=null&&O.str||(D=M.contentsObj)!=null&&D.str||(H=M.richText)!=null&&H.str);super(w,{isRenderable:$})}render(){this.container.className="popupAnnotation";const w=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(w.length===0)return this.container;const M=new R({container:this.container,trigger:Array.from(w),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),$=this.page,O=a.Util.normalizeRect([this.data.parentRect[0],$.view[3]-this.data.parentRect[1]+$.view[1],this.data.parentRect[2],$.view[3]-this.data.parentRect[3]+$.view[1]]),D=O[0]+this.data.parentRect[2]-this.data.parentRect[0],H=O[1],{pageWidth:Y,pageHeight:Q,pageX:ot,pageY:B}=this.viewport.rawDims;return this.container.style.left=`${100*(D-ot)/Y}%`,this.container.style.top=`${100*(H-B)/Q}%`,this.container.append(M.render()),this.container}};Ct(z,"IGNORE_TYPES",new Set(["Line","Square","Circle","PolyLine","Polygon","Ink"]));let A=z;class R{constructor(w){this.container=w.container,this.trigger=w.trigger,this.color=w.color,this.titleObj=w.titleObj,this.modificationDate=w.modificationDate,this.contentsObj=w.contentsObj,this.richText=w.richText,this.hideWrapper=w.hideWrapper||!1,this.pinned=!1}render(){var Y,Q;const M=document.createElement("div");M.className="popupWrapper",this.hideElement=this.hideWrapper?M:this.container,this.hideElement.hidden=!0;const $=document.createElement("div");$.className="popup";const O=this.color;if(O){const ot=.7*(255-O[0])+O[0],B=.7*(255-O[1])+O[1],J=.7*(255-O[2])+O[2];$.style.backgroundColor=a.Util.makeHexColor(ot|0,B|0,J|0)}const D=document.createElement("h1");D.dir=this.titleObj.dir,D.textContent=this.titleObj.str,$.append(D);const H=o.PDFDateString.toDateObject(this.modificationDate);if(H){const ot=document.createElement("span");ot.className="popupDate",ot.textContent="{{date}}, {{time}}",ot.dataset.l10nId="annotation_date_string",ot.dataset.l10nArgs=JSON.stringify({date:H.toLocaleDateString(),time:H.toLocaleTimeString()}),$.append(ot)}if((Y=this.richText)!=null&&Y.str&&(!((Q=this.contentsObj)!=null&&Q.str)||this.contentsObj.str===this.richText.str))f.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:$}),$.lastChild.className="richText popupContent";else{const ot=this._formatContents(this.contentsObj);$.append(ot)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const ot of this.trigger)ot.addEventListener("click",this._toggle.bind(this)),ot.addEventListener("mouseover",this._show.bind(this,!1)),ot.addEventListener("mouseout",this._hide.bind(this,!1));return $.addEventListener("click",this._hide.bind(this,!0)),M.append($),M}_formatContents({str:w,dir:M}){const $=document.createElement("p");$.className="popupContent",$.dir=M;const O=w.split(/(?:\r\n?|\n)/);for(let D=0,H=O.length;D<H;++D){const Y=O[D];$.append(document.createTextNode(Y)),D<H-1&&$.append(document.createElement("br"))}return $}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(w=!1){w&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(w=!0){w&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class S extends b{constructor(w){var $,O,D;const M=!!(w.data.hasPopup||($=w.data.titleObj)!=null&&$.str||(O=w.data.contentsObj)!=null&&O.str||(D=w.data.richText)!=null&&D.str);super(w,{isRenderable:M,ignoreBorder:!0}),this.textContent=w.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const w=document.createElement("div");w.className="annotationTextContent",w.setAttribute("role","comment");for(const M of this.textContent){const $=document.createElement("span");$.textContent=M,w.append($)}this.container.append(w)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class L extends b{constructor(w){var $,O,D;const M=!!(w.data.hasPopup||($=w.data.titleObj)!=null&&$.str||(O=w.data.contentsObj)!=null&&O.str||(D=w.data.richText)!=null&&D.str);super(w,{isRenderable:M,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const w=this.data,{width:M,height:$}=g(w.rect),O=this.svgFactory.create(M,$,!0),D=this.svgFactory.createElement("svg:line");return D.setAttribute("x1",w.rect[2]-w.lineCoordinates[0]),D.setAttribute("y1",w.rect[3]-w.lineCoordinates[1]),D.setAttribute("x2",w.rect[2]-w.lineCoordinates[2]),D.setAttribute("y2",w.rect[3]-w.lineCoordinates[3]),D.setAttribute("stroke-width",w.borderStyle.width||1),D.setAttribute("stroke","transparent"),D.setAttribute("fill","transparent"),O.append(D),this.container.append(O),this._createPopup(D,w),this.container}}class V extends b{constructor(w){var $,O,D;const M=!!(w.data.hasPopup||($=w.data.titleObj)!=null&&$.str||(O=w.data.contentsObj)!=null&&O.str||(D=w.data.richText)!=null&&D.str);super(w,{isRenderable:M,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const w=this.data,{width:M,height:$}=g(w.rect),O=this.svgFactory.create(M,$,!0),D=w.borderStyle.width,H=this.svgFactory.createElement("svg:rect");return H.setAttribute("x",D/2),H.setAttribute("y",D/2),H.setAttribute("width",M-D),H.setAttribute("height",$-D),H.setAttribute("stroke-width",D||1),H.setAttribute("stroke","transparent"),H.setAttribute("fill","transparent"),O.append(H),this.container.append(O),this._createPopup(H,w),this.container}}class X extends b{constructor(w){var $,O,D;const M=!!(w.data.hasPopup||($=w.data.titleObj)!=null&&$.str||(O=w.data.contentsObj)!=null&&O.str||(D=w.data.richText)!=null&&D.str);super(w,{isRenderable:M,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const w=this.data,{width:M,height:$}=g(w.rect),O=this.svgFactory.create(M,$,!0),D=w.borderStyle.width,H=this.svgFactory.createElement("svg:ellipse");return H.setAttribute("cx",M/2),H.setAttribute("cy",$/2),H.setAttribute("rx",M/2-D/2),H.setAttribute("ry",$/2-D/2),H.setAttribute("stroke-width",D||1),H.setAttribute("stroke","transparent"),H.setAttribute("fill","transparent"),O.append(H),this.container.append(O),this._createPopup(H,w),this.container}}class it extends b{constructor(w){var $,O,D;const M=!!(w.data.hasPopup||($=w.data.titleObj)!=null&&$.str||(O=w.data.contentsObj)!=null&&O.str||(D=w.data.richText)!=null&&D.str);super(w,{isRenderable:M,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const w=this.data,{width:M,height:$}=g(w.rect),O=this.svgFactory.create(M,$,!0);let D=[];for(const Y of w.vertices){const Q=Y.x-w.rect[0],ot=w.rect[3]-Y.y;D.push(Q+","+ot)}D=D.join(" ");const H=this.svgFactory.createElement(this.svgElementName);return H.setAttribute("points",D),H.setAttribute("stroke-width",w.borderStyle.width||1),H.setAttribute("stroke","transparent"),H.setAttribute("fill","transparent"),O.append(H),this.container.append(O),this._createPopup(H,w),this.container}}class gt extends it{constructor(w){super(w),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class K extends b{constructor(w){var $,O,D;const M=!!(w.data.hasPopup||($=w.data.titleObj)!=null&&$.str||(O=w.data.contentsObj)!=null&&O.str||(D=w.data.richText)!=null&&D.str);super(w,{isRenderable:M,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class lt extends b{constructor(w){var $,O,D;const M=!!(w.data.hasPopup||($=w.data.titleObj)!=null&&$.str||(O=w.data.contentsObj)!=null&&O.str||(D=w.data.richText)!=null&&D.str);super(w,{isRenderable:M,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const w=this.data,{width:M,height:$}=g(w.rect),O=this.svgFactory.create(M,$,!0);for(const D of w.inkLists){let H=[];for(const Q of D){const ot=Q.x-w.rect[0],B=w.rect[3]-Q.y;H.push(`${ot},${B}`)}H=H.join(" ");const Y=this.svgFactory.createElement(this.svgElementName);Y.setAttribute("points",H),Y.setAttribute("stroke-width",w.borderStyle.width||1),Y.setAttribute("stroke","transparent"),Y.setAttribute("fill","transparent"),this._createPopup(Y,w),O.append(Y)}return this.container.append(O),this.container}}class tt extends b{constructor(w){var $,O,D;const M=!!(w.data.hasPopup||($=w.data.titleObj)!=null&&$.str||(O=w.data.contentsObj)!=null&&O.str||(D=w.data.richText)!=null&&D.str);super(w,{isRenderable:M,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class G extends b{constructor(w){var $,O,D;const M=!!(w.data.hasPopup||($=w.data.titleObj)!=null&&$.str||(O=w.data.contentsObj)!=null&&O.str||(D=w.data.richText)!=null&&D.str);super(w,{isRenderable:M,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class W extends b{constructor(w){var $,O,D;const M=!!(w.data.hasPopup||($=w.data.titleObj)!=null&&$.str||(O=w.data.contentsObj)!=null&&O.str||(D=w.data.richText)!=null&&D.str);super(w,{isRenderable:M,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class at extends b{constructor(w){var $,O,D;const M=!!(w.data.hasPopup||($=w.data.titleObj)!=null&&$.str||(O=w.data.contentsObj)!=null&&O.str||(D=w.data.richText)!=null&&D.str);super(w,{isRenderable:M,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class ct extends b{constructor(w){var $,O,D;const M=!!(w.data.hasPopup||($=w.data.titleObj)!=null&&$.str||(O=w.data.contentsObj)!=null&&O.str||(D=w.data.richText)!=null&&D.str);super(w,{isRenderable:M,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class j extends b{constructor(w){var O;super(w,{isRenderable:!0});const{filename:M,content:$}=this.data.file;this.filename=(0,o.getFilenameFromUrl)(M,!0),this.content=$,(O=this.linkService.eventBus)==null||O.dispatch("fileattachmentannotation",{source:this,filename:M,content:$})}render(){var M,$;this.container.className="fileAttachmentAnnotation";let w;return this.data.hasAppearance?w=document.createElement("div"):(w=document.createElement("img"),w.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(this.data.name)?"paperclip":"pushpin"}.svg`),w.className="popupTriggerArea",w.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((M=this.data.titleObj)!=null&&M.str||($=this.data.contentsObj)!=null&&$.str||this.data.richText)&&this._createPopup(w,this.data),this.container.append(w),this.container}_download(){var w;(w=this.downloadManager)==null||w.openOrDownloadData(this.container,this.content,this.filename)}}const ut=class ut{static render(w){var Q,ot;const{annotations:M,div:$,viewport:O,accessibilityManager:D}=w;(0,o.setLayerDimensions)($,O);const H={data:null,layer:$,page:w.page,viewport:O,linkService:w.linkService,downloadManager:w.downloadManager,imageResourcesPath:w.imageResourcesPath||"",renderForms:w.renderForms!==!1,svgFactory:new o.DOMSVGFactory,annotationStorage:w.annotationStorage||new c.AnnotationStorage,enableScripting:w.enableScripting===!0,hasJSActions:w.hasJSActions,fieldObjects:w.fieldObjects};let Y=0;for(const B of M){if(B.annotationType!==a.AnnotationType.POPUP){const{width:ht,height:pt}=g(B.rect);if(ht<=0||pt<=0)continue}H.data=B;const J=m.create(H);if(!J.isRenderable)continue;const q=J.render();if(B.hidden&&(q.style.visibility="hidden"),Array.isArray(q))for(const ht of q)ht.style.zIndex=Y++,ft(Q=ut,N,xe).call(Q,ht,B.id,$,D);else q.style.zIndex=Y++,J instanceof A?$.prepend(q):ft(ot=ut,N,xe).call(ot,q,B.id,$,D)}ft(this,N,Ae).call(this,$,w.annotationCanvasMap)}static update(w){const{annotationCanvasMap:M,div:$,viewport:O}=w;(0,o.setLayerDimensions)($,{rotation:O.rotation}),ft(this,N,Ae).call(this,$,M),$.hidden=!1}};N=new WeakSet,xe=function(w,M,$,O){const D=w.firstChild||w;D.id=`${o.AnnotationPrefix}${M}`,$.append(w),O==null||O.moveElementInDOM($,w,D,!1)},Ae=function(w,M){if(M){for(const[$,O]of M){const D=w.querySelector(`[data-annotation-id="${$}"]`);if(!D)continue;const{firstChild:H}=D;H?H.nodeName==="CANVAS"?H.replaceWith(O):H.before(O):D.append(O)}M.clear()}},mt(ut,N);let k=ut;s.AnnotationLayer=k},(n,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ColorConverters=void 0;function i(o){return Math.floor(Math.max(0,Math.min(1,o))*255).toString(16).padStart(2,"0")}class a{static CMYK_G([c,l,f,u]){return["G",1-Math.min(1,.3*c+.59*f+.11*l+u)]}static G_CMYK([c]){return["CMYK",0,0,0,1-c]}static G_RGB([c]){return["RGB",c,c,c]}static G_HTML([c]){const l=i(c);return`#${l}${l}${l}`}static RGB_G([c,l,f]){return["G",.3*c+.59*l+.11*f]}static RGB_HTML([c,l,f]){const u=i(c),h=i(l),d=i(f);return`#${u}${h}${d}`}static T_HTML(){return"#00000000"}static CMYK_RGB([c,l,f,u]){return["RGB",1-Math.min(1,c+u),1-Math.min(1,f+u),1-Math.min(1,l+u)]}static CMYK_HTML(c){const l=this.CMYK_RGB(c).slice(1);return this.RGB_HTML(l)}static RGB_CMYK([c,l,f]){const u=1-c,h=1-l,d=1-f,g=Math.min(u,h,d);return["CMYK",u,h,d,g]}}s.ColorConverters=a},(n,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaLayer=void 0;var a=i(19);class o{static setupStorage(l,f,u,h,d){const g=h.getValue(f,{value:null});switch(u.name){case"textarea":if(g.value!==null&&(l.textContent=g.value),d==="print")break;l.addEventListener("input",m=>{h.setValue(f,{value:m.target.value})});break;case"input":if(u.attributes.type==="radio"||u.attributes.type==="checkbox"){if(g.value===u.attributes.xfaOn?l.setAttribute("checked",!0):g.value===u.attributes.xfaOff&&l.removeAttribute("checked"),d==="print")break;l.addEventListener("change",m=>{h.setValue(f,{value:m.target.checked?m.target.getAttribute("xfaOn"):m.target.getAttribute("xfaOff")})})}else{if(g.value!==null&&l.setAttribute("value",g.value),d==="print")break;l.addEventListener("input",m=>{h.setValue(f,{value:m.target.value})})}break;case"select":if(g.value!==null)for(const m of u.children)m.attributes.value===g.value&&(m.attributes.selected=!0);l.addEventListener("input",m=>{const b=m.target.options,E=b.selectedIndex===-1?"":b[b.selectedIndex].value;h.setValue(f,{value:E})});break}}static setAttributes({html:l,element:f,storage:u=null,intent:h,linkService:d}){const{attributes:g}=f,m=l instanceof HTMLAnchorElement;g.type==="radio"&&(g.name=`${g.name}-${h}`);for(const[b,E]of Object.entries(g))if(E!=null)switch(b){case"class":E.length&&l.setAttribute(b,E.join(" "));break;case"dataId":break;case"id":l.setAttribute("data-element-id",E);break;case"style":Object.assign(l.style,E);break;case"textContent":l.textContent=E;break;default:(!m||b!=="href"&&b!=="newWindow")&&l.setAttribute(b,E)}m&&d.addLinkAttributes(l,g.href,g.newWindow),u&&g.dataId&&this.setupStorage(l,g.dataId,f,u)}static render(l){var P;const f=l.annotationStorage,u=l.linkService,h=l.xfaHtml,d=l.intent||"display",g=document.createElement(h.name);h.attributes&&this.setAttributes({html:g,element:h,intent:d,linkService:u});const m=[[h,-1,g]],b=l.div;if(b.append(g),l.viewport){const v=`matrix(${l.viewport.transform.join(",")})`;b.style.transform=v}d!=="richText"&&b.setAttribute("class","xfaLayer xfaFont");const E=[];for(;m.length>0;){const[v,x,T]=m.at(-1);if(x+1===v.children.length){m.pop();continue}const y=v.children[++m.at(-1)[1]];if(y===null)continue;const{name:C}=y;if(C==="#text"){const A=document.createTextNode(y.value);E.push(A),T.append(A);continue}let p;if((P=y==null?void 0:y.attributes)!=null&&P.xmlns?p=document.createElementNS(y.attributes.xmlns,C):p=document.createElement(C),T.append(p),y.attributes&&this.setAttributes({html:p,element:y,storage:f,intent:d,linkService:u}),y.children&&y.children.length>0)m.push([y,-1,p]);else if(y.value){const A=document.createTextNode(y.value);a.XfaText.shouldBuildText(C)&&E.push(A),p.append(A)}}for(const v of b.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))v.setAttribute("readOnly",!0);return{textDivs:E}}static update(l){const f=`matrix(${l.viewport.transform.join(",")})`;l.div.style.transform=f,l.div.hidden=!1}}s.XfaLayer=o},(n,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SVGGraphics=void 0;var a=i(6),o=i(1),c=i(10);let l=class{constructor(){(0,o.unreachable)("Not implemented: SVGGraphics")}};s.SVGGraphics=l;{let P=function(p){let A=[];const R=[];for(const S of p){if(S.fn==="save"){A.push({fnId:92,fn:"group",items:[]}),R.push(A),A=A.at(-1).items;continue}S.fn==="restore"?A=R.pop():A.push(S)}return A},v=function(p){if(Number.isInteger(p))return p.toString();const A=p.toFixed(10);let R=A.length-1;if(A[R]!=="0")return A;do R--;while(A[R]==="0");return A.substring(0,A[R]==="."?R:R+1)},x=function(p){if(p[4]===0&&p[5]===0){if(p[1]===0&&p[2]===0)return p[0]===1&&p[3]===1?"":`scale(${v(p[0])} ${v(p[3])})`;if(p[0]===p[3]&&p[1]===-p[2]){const A=Math.acos(p[0])*180/Math.PI;return`rotate(${v(A)})`}}else if(p[0]===1&&p[1]===0&&p[2]===0&&p[3]===1)return`translate(${v(p[4])} ${v(p[5])})`;return`matrix(${v(p[0])} ${v(p[1])} ${v(p[2])} ${v(p[3])} ${v(p[4])} ${v(p[5])})`};const f={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},u="http://www.w3.org/XML/1998/namespace",h="http://www.w3.org/1999/xlink",d=["butt","round","square"],g=["miter","round","bevel"],m=function(p,A="",R=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!R)return URL.createObjectURL(new Blob([p],{type:A}));const S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let L=`data:${A};base64,`;for(let V=0,X=p.length;V<X;V+=3){const it=p[V]&255,gt=p[V+1]&255,K=p[V+2]&255,lt=it>>2,tt=(it&3)<<4|gt>>4,G=V+1<X?(gt&15)<<2|K>>6:64,W=V+2<X?K&63:64;L+=S[lt]+S[tt]+S[G]+S[W]}return L},b=function(){const p=new Uint8Array([137,80,78,71,13,10,26,10]),A=12,R=new Int32Array(256);for(let K=0;K<256;K++){let lt=K;for(let tt=0;tt<8;tt++)lt&1?lt=3988292384^lt>>1&2147483647:lt=lt>>1&2147483647;R[K]=lt}function S(K,lt,tt){let G=-1;for(let W=lt;W<tt;W++){const at=(G^K[W])&255,ct=R[at];G=G>>>8^ct}return G^-1}function L(K,lt,tt,G){let W=G;const at=lt.length;tt[W]=at>>24&255,tt[W+1]=at>>16&255,tt[W+2]=at>>8&255,tt[W+3]=at&255,W+=4,tt[W]=K.charCodeAt(0)&255,tt[W+1]=K.charCodeAt(1)&255,tt[W+2]=K.charCodeAt(2)&255,tt[W+3]=K.charCodeAt(3)&255,W+=4,tt.set(lt,W),W+=lt.length;const ct=S(tt,G+4,W);tt[W]=ct>>24&255,tt[W+1]=ct>>16&255,tt[W+2]=ct>>8&255,tt[W+3]=ct&255}function V(K,lt,tt){let G=1,W=0;for(let at=lt;at<tt;++at)G=(G+(K[at]&255))%65521,W=(W+G)%65521;return W<<16|G}function X(K){if(!c.isNodeJS)return it(K);try{let lt;parseInt(process.versions.node)>=8?lt=K:lt=Buffer.from(K);const tt=require$$5.deflateSync(lt,{level:9});return tt instanceof Uint8Array?tt:new Uint8Array(tt)}catch(lt){(0,o.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+lt)}return it(K)}function it(K){let lt=K.length;const tt=65535,G=Math.ceil(lt/tt),W=new Uint8Array(2+lt+G*5+4);let at=0;W[at++]=120,W[at++]=156;let ct=0;for(;lt>tt;)W[at++]=0,W[at++]=255,W[at++]=255,W[at++]=0,W[at++]=0,W.set(K.subarray(ct,ct+tt),at),at+=tt,ct+=tt,lt-=tt;W[at++]=1,W[at++]=lt&255,W[at++]=lt>>8&255,W[at++]=~lt&65535&255,W[at++]=(~lt&65535)>>8&255,W.set(K.subarray(ct),at),at+=K.length-ct;const j=V(K,0,K.length);return W[at++]=j>>24&255,W[at++]=j>>16&255,W[at++]=j>>8&255,W[at++]=j&255,W}function gt(K,lt,tt,G){const W=K.width,at=K.height;let ct,j,k;const _=K.data;switch(lt){case o.ImageKind.GRAYSCALE_1BPP:j=0,ct=1,k=W+7>>3;break;case o.ImageKind.RGB_24BPP:j=2,ct=8,k=W*3;break;case o.ImageKind.RGBA_32BPP:j=6,ct=8,k=W*4;break;default:throw new Error("invalid format")}const I=new Uint8Array((1+k)*at);let U=0,z=0;for(let w=0;w<at;++w)I[U++]=0,I.set(_.subarray(z,z+k),U),z+=k,U+=k;if(lt===o.ImageKind.GRAYSCALE_1BPP&&G){U=0;for(let w=0;w<at;w++){U++;for(let M=0;M<k;M++)I[U++]^=255}}const N=new Uint8Array([W>>24&255,W>>16&255,W>>8&255,W&255,at>>24&255,at>>16&255,at>>8&255,at&255,ct,j,0,0,0]),Z=X(I),rt=p.length+A*3+N.length+Z.length,ut=new Uint8Array(rt);let st=0;return ut.set(p,st),st+=p.length,L("IHDR",N,ut,st),st+=A+N.length,L("IDATA",Z,ut,st),st+=A+Z.length,L("IEND",new Uint8Array(0),ut,st),m(ut,"image/png",tt)}return function(lt,tt,G){const W=lt.kind===void 0?o.ImageKind.GRAYSCALE_1BPP:lt.kind;return gt(lt,W,tt,G)}}();class E{constructor(){this.fontSizeScale=1,this.fontWeight=f.fontWeight,this.fontSize=0,this.textMatrix=o.IDENTITY_MATRIX,this.fontMatrix=o.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=o.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=f.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(A,R){this.x=A,this.y=R}}let T=0,y=0,C=0;s.SVGGraphics=l=class{constructor(p,A,R=!1){(0,a.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new a.DOMSVGFactory,this.current=new E,this.transformMatrix=o.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=p,this.objs=A,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!R,this._operatorIdMapping=[];for(const S in o.OPS)this._operatorIdMapping[o.OPS[S]]=S}getObject(p,A=null){return typeof p=="string"?p.startsWith("g_")?this.commonObjs.get(p):this.objs.get(p):A}save(){this.transformStack.push(this.transformMatrix);const p=this.current;this.extraStack.push(p),this.current=p.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(p){this.save(),this.executeOpTree(p),this.restore()}loadDependencies(p){const A=p.fnArray,R=p.argsArray;for(let S=0,L=A.length;S<L;S++)if(A[S]===o.OPS.dependency)for(const V of R[S]){const X=V.startsWith("g_")?this.commonObjs:this.objs,it=new Promise(gt=>{X.get(V,gt)});this.current.dependencies.push(it)}return Promise.all(this.current.dependencies)}transform(p,A,R,S,L,V){const X=[p,A,R,S,L,V];this.transformMatrix=o.Util.transform(this.transformMatrix,X),this.tgrp=null}getSVG(p,A){this.viewport=A;const R=this._initialize(A);return this.loadDependencies(p).then(()=>(this.transformMatrix=o.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(p)),R))}convertOpList(p){const A=this._operatorIdMapping,R=p.argsArray,S=p.fnArray,L=[];for(let V=0,X=S.length;V<X;V++){const it=S[V];L.push({fnId:it,fn:A[it],args:R[V]})}return P(L)}executeOpTree(p){for(const A of p){const R=A.fn,S=A.fnId,L=A.args;switch(S|0){case o.OPS.beginText:this.beginText();break;case o.OPS.dependency:break;case o.OPS.setLeading:this.setLeading(L);break;case o.OPS.setLeadingMoveText:this.setLeadingMoveText(L[0],L[1]);break;case o.OPS.setFont:this.setFont(L);break;case o.OPS.showText:this.showText(L[0]);break;case o.OPS.showSpacedText:this.showText(L[0]);break;case o.OPS.endText:this.endText();break;case o.OPS.moveText:this.moveText(L[0],L[1]);break;case o.OPS.setCharSpacing:this.setCharSpacing(L[0]);break;case o.OPS.setWordSpacing:this.setWordSpacing(L[0]);break;case o.OPS.setHScale:this.setHScale(L[0]);break;case o.OPS.setTextMatrix:this.setTextMatrix(L[0],L[1],L[2],L[3],L[4],L[5]);break;case o.OPS.setTextRise:this.setTextRise(L[0]);break;case o.OPS.setTextRenderingMode:this.setTextRenderingMode(L[0]);break;case o.OPS.setLineWidth:this.setLineWidth(L[0]);break;case o.OPS.setLineJoin:this.setLineJoin(L[0]);break;case o.OPS.setLineCap:this.setLineCap(L[0]);break;case o.OPS.setMiterLimit:this.setMiterLimit(L[0]);break;case o.OPS.setFillRGBColor:this.setFillRGBColor(L[0],L[1],L[2]);break;case o.OPS.setStrokeRGBColor:this.setStrokeRGBColor(L[0],L[1],L[2]);break;case o.OPS.setStrokeColorN:this.setStrokeColorN(L);break;case o.OPS.setFillColorN:this.setFillColorN(L);break;case o.OPS.shadingFill:this.shadingFill(L[0]);break;case o.OPS.setDash:this.setDash(L[0],L[1]);break;case o.OPS.setRenderingIntent:this.setRenderingIntent(L[0]);break;case o.OPS.setFlatness:this.setFlatness(L[0]);break;case o.OPS.setGState:this.setGState(L[0]);break;case o.OPS.fill:this.fill();break;case o.OPS.eoFill:this.eoFill();break;case o.OPS.stroke:this.stroke();break;case o.OPS.fillStroke:this.fillStroke();break;case o.OPS.eoFillStroke:this.eoFillStroke();break;case o.OPS.clip:this.clip("nonzero");break;case o.OPS.eoClip:this.clip("evenodd");break;case o.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case o.OPS.paintImageXObject:this.paintImageXObject(L[0]);break;case o.OPS.paintInlineImageXObject:this.paintInlineImageXObject(L[0]);break;case o.OPS.paintImageMaskXObject:this.paintImageMaskXObject(L[0]);break;case o.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(L[0],L[1]);break;case o.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case o.OPS.closePath:this.closePath();break;case o.OPS.closeStroke:this.closeStroke();break;case o.OPS.closeFillStroke:this.closeFillStroke();break;case o.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case o.OPS.nextLine:this.nextLine();break;case o.OPS.transform:this.transform(L[0],L[1],L[2],L[3],L[4],L[5]);break;case o.OPS.constructPath:this.constructPath(L[0],L[1]);break;case o.OPS.endPath:this.endPath();break;case 92:this.group(A.items);break;default:(0,o.warn)(`Unimplemented operator ${R}`);break}}}setWordSpacing(p){this.current.wordSpacing=p}setCharSpacing(p){this.current.charSpacing=p}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(p,A,R,S,L,V){const X=this.current;X.textMatrix=X.lineMatrix=[p,A,R,S,L,V],X.textMatrixScale=Math.hypot(p,A),X.x=X.lineX=0,X.y=X.lineY=0,X.xcoords=[],X.ycoords=[],X.tspan=this.svgFactory.createElement("svg:tspan"),X.tspan.setAttributeNS(null,"font-family",X.fontFamily),X.tspan.setAttributeNS(null,"font-size",`${v(X.fontSize)}px`),X.tspan.setAttributeNS(null,"y",v(-X.y)),X.txtElement=this.svgFactory.createElement("svg:text"),X.txtElement.append(X.tspan)}beginText(){const p=this.current;p.x=p.lineX=0,p.y=p.lineY=0,p.textMatrix=o.IDENTITY_MATRIX,p.lineMatrix=o.IDENTITY_MATRIX,p.textMatrixScale=1,p.tspan=this.svgFactory.createElement("svg:tspan"),p.txtElement=this.svgFactory.createElement("svg:text"),p.txtgrp=this.svgFactory.createElement("svg:g"),p.xcoords=[],p.ycoords=[]}moveText(p,A){const R=this.current;R.x=R.lineX+=p,R.y=R.lineY+=A,R.xcoords=[],R.ycoords=[],R.tspan=this.svgFactory.createElement("svg:tspan"),R.tspan.setAttributeNS(null,"font-family",R.fontFamily),R.tspan.setAttributeNS(null,"font-size",`${v(R.fontSize)}px`),R.tspan.setAttributeNS(null,"y",v(-R.y))}showText(p){const A=this.current,R=A.font,S=A.fontSize;if(S===0)return;const L=A.fontSizeScale,V=A.charSpacing,X=A.wordSpacing,it=A.fontDirection,gt=A.textHScale*it,K=R.vertical,lt=K?1:-1,tt=R.defaultVMetrics,G=S*A.fontMatrix[0];let W=0;for(const j of p){if(j===null){W+=it*X;continue}else if(typeof j=="number"){W+=lt*j*S/1e3;continue}const k=(j.isSpace?X:0)+V,_=j.fontChar;let I,U,z=j.width;if(K){let Z;const rt=j.vmetric||tt;Z=j.vmetric?rt[1]:z*.5,Z=-Z*G;const ut=rt[2]*G;z=rt?-rt[0]:z,I=Z/L,U=(W+ut)/L}else I=W/L,U=0;(j.isInFont||R.missingFile)&&(A.xcoords.push(A.x+I),K&&A.ycoords.push(-A.y+U),A.tspan.textContent+=_);let N;K?N=z*G-k*it:N=z*G+k*it,W+=N}A.tspan.setAttributeNS(null,"x",A.xcoords.map(v).join(" ")),K?A.tspan.setAttributeNS(null,"y",A.ycoords.map(v).join(" ")):A.tspan.setAttributeNS(null,"y",v(-A.y)),K?A.y-=W:A.x+=W*gt,A.tspan.setAttributeNS(null,"font-family",A.fontFamily),A.tspan.setAttributeNS(null,"font-size",`${v(A.fontSize)}px`),A.fontStyle!==f.fontStyle&&A.tspan.setAttributeNS(null,"font-style",A.fontStyle),A.fontWeight!==f.fontWeight&&A.tspan.setAttributeNS(null,"font-weight",A.fontWeight);const at=A.textRenderingMode&o.TextRenderingMode.FILL_STROKE_MASK;if(at===o.TextRenderingMode.FILL||at===o.TextRenderingMode.FILL_STROKE?(A.fillColor!==f.fillColor&&A.tspan.setAttributeNS(null,"fill",A.fillColor),A.fillAlpha<1&&A.tspan.setAttributeNS(null,"fill-opacity",A.fillAlpha)):A.textRenderingMode===o.TextRenderingMode.ADD_TO_PATH?A.tspan.setAttributeNS(null,"fill","transparent"):A.tspan.setAttributeNS(null,"fill","none"),at===o.TextRenderingMode.STROKE||at===o.TextRenderingMode.FILL_STROKE){const j=1/(A.textMatrixScale||1);this._setStrokeAttributes(A.tspan,j)}let ct=A.textMatrix;A.textRise!==0&&(ct=ct.slice(),ct[5]+=A.textRise),A.txtElement.setAttributeNS(null,"transform",`${x(ct)} scale(${v(gt)}, -1)`),A.txtElement.setAttributeNS(u,"xml:space","preserve"),A.txtElement.append(A.tspan),A.txtgrp.append(A.txtElement),this._ensureTransformGroup().append(A.txtElement)}setLeadingMoveText(p,A){this.setLeading(-A),this.moveText(p,A)}addFontStyle(p){if(!p.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const A=m(p.data,p.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${p.loadedName}"; src: url(${A}); }
`}setFont(p){const A=this.current,R=this.commonObjs.get(p[0]);let S=p[1];A.font=R,this.embedFonts&&!R.missingFile&&!this.embeddedFonts[R.loadedName]&&(this.addFontStyle(R),this.embeddedFonts[R.loadedName]=R),A.fontMatrix=R.fontMatrix||o.FONT_IDENTITY_MATRIX;let L="normal";R.black?L="900":R.bold&&(L="bold");const V=R.italic?"italic":"normal";S<0?(S=-S,A.fontDirection=-1):A.fontDirection=1,A.fontSize=S,A.fontFamily=R.loadedName,A.fontWeight=L,A.fontStyle=V,A.tspan=this.svgFactory.createElement("svg:tspan"),A.tspan.setAttributeNS(null,"y",v(-A.y)),A.xcoords=[],A.ycoords=[]}endText(){var A;const p=this.current;p.textRenderingMode&o.TextRenderingMode.ADD_TO_PATH_FLAG&&((A=p.txtElement)!=null&&A.hasChildNodes())&&(p.element=p.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(p){p>0&&(this.current.lineWidth=p)}setLineCap(p){this.current.lineCap=d[p]}setLineJoin(p){this.current.lineJoin=g[p]}setMiterLimit(p){this.current.miterLimit=p}setStrokeAlpha(p){this.current.strokeAlpha=p}setStrokeRGBColor(p,A,R){this.current.strokeColor=o.Util.makeHexColor(p,A,R)}setFillAlpha(p){this.current.fillAlpha=p}setFillRGBColor(p,A,R){this.current.fillColor=o.Util.makeHexColor(p,A,R),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(p){this.current.strokeColor=this._makeColorN_Pattern(p)}setFillColorN(p){this.current.fillColor=this._makeColorN_Pattern(p)}shadingFill(p){const A=this.viewport.width,R=this.viewport.height,S=o.Util.inverseTransform(this.transformMatrix),L=o.Util.applyTransform([0,0],S),V=o.Util.applyTransform([0,R],S),X=o.Util.applyTransform([A,0],S),it=o.Util.applyTransform([A,R],S),gt=Math.min(L[0],V[0],X[0],it[0]),K=Math.min(L[1],V[1],X[1],it[1]),lt=Math.max(L[0],V[0],X[0],it[0]),tt=Math.max(L[1],V[1],X[1],it[1]),G=this.svgFactory.createElement("svg:rect");G.setAttributeNS(null,"x",gt),G.setAttributeNS(null,"y",K),G.setAttributeNS(null,"width",lt-gt),G.setAttributeNS(null,"height",tt-K),G.setAttributeNS(null,"fill",this._makeShadingPattern(p)),this.current.fillAlpha<1&&G.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(G)}_makeColorN_Pattern(p){return p[0]==="TilingPattern"?this._makeTilingPattern(p):this._makeShadingPattern(p)}_makeTilingPattern(p){const A=p[1],R=p[2],S=p[3]||o.IDENTITY_MATRIX,[L,V,X,it]=p[4],gt=p[5],K=p[6],lt=p[7],tt=`shading${C++}`,[G,W,at,ct]=o.Util.normalizeRect([...o.Util.applyTransform([L,V],S),...o.Util.applyTransform([X,it],S)]),[j,k]=o.Util.singularValueDecompose2dScale(S),_=gt*j,I=K*k,U=this.svgFactory.createElement("svg:pattern");U.setAttributeNS(null,"id",tt),U.setAttributeNS(null,"patternUnits","userSpaceOnUse"),U.setAttributeNS(null,"width",_),U.setAttributeNS(null,"height",I),U.setAttributeNS(null,"x",`${G}`),U.setAttributeNS(null,"y",`${W}`);const z=this.svg,N=this.transformMatrix,Z=this.current.fillColor,rt=this.current.strokeColor,ut=this.svgFactory.create(at-G,ct-W);if(this.svg=ut,this.transformMatrix=S,lt===2){const st=o.Util.makeHexColor(...A);this.current.fillColor=st,this.current.strokeColor=st}return this.executeOpTree(this.convertOpList(R)),this.svg=z,this.transformMatrix=N,this.current.fillColor=Z,this.current.strokeColor=rt,U.append(ut.childNodes[0]),this.defs.append(U),`url(#${tt})`}_makeShadingPattern(p){switch(typeof p=="string"&&(p=this.objs.get(p)),p[0]){case"RadialAxial":const A=`shading${C++}`,R=p[3];let S;switch(p[1]){case"axial":const L=p[4],V=p[5];S=this.svgFactory.createElement("svg:linearGradient"),S.setAttributeNS(null,"id",A),S.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),S.setAttributeNS(null,"x1",L[0]),S.setAttributeNS(null,"y1",L[1]),S.setAttributeNS(null,"x2",V[0]),S.setAttributeNS(null,"y2",V[1]);break;case"radial":const X=p[4],it=p[5],gt=p[6],K=p[7];S=this.svgFactory.createElement("svg:radialGradient"),S.setAttributeNS(null,"id",A),S.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),S.setAttributeNS(null,"cx",it[0]),S.setAttributeNS(null,"cy",it[1]),S.setAttributeNS(null,"r",K),S.setAttributeNS(null,"fx",X[0]),S.setAttributeNS(null,"fy",X[1]),S.setAttributeNS(null,"fr",gt);break;default:throw new Error(`Unknown RadialAxial type: ${p[1]}`)}for(const L of R){const V=this.svgFactory.createElement("svg:stop");V.setAttributeNS(null,"offset",L[0]),V.setAttributeNS(null,"stop-color",L[1]),S.append(V)}return this.defs.append(S),`url(#${A})`;case"Mesh":return(0,o.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${p[0]}`)}}setDash(p,A){this.current.dashArray=p,this.current.dashPhase=A}constructPath(p,A){const R=this.current;let S=R.x,L=R.y,V=[],X=0;for(const it of p)switch(it|0){case o.OPS.rectangle:S=A[X++],L=A[X++];const gt=A[X++],K=A[X++],lt=S+gt,tt=L+K;V.push("M",v(S),v(L),"L",v(lt),v(L),"L",v(lt),v(tt),"L",v(S),v(tt),"Z");break;case o.OPS.moveTo:S=A[X++],L=A[X++],V.push("M",v(S),v(L));break;case o.OPS.lineTo:S=A[X++],L=A[X++],V.push("L",v(S),v(L));break;case o.OPS.curveTo:S=A[X+4],L=A[X+5],V.push("C",v(A[X]),v(A[X+1]),v(A[X+2]),v(A[X+3]),v(S),v(L)),X+=6;break;case o.OPS.curveTo2:V.push("C",v(S),v(L),v(A[X]),v(A[X+1]),v(A[X+2]),v(A[X+3])),S=A[X+2],L=A[X+3],X+=4;break;case o.OPS.curveTo3:S=A[X+2],L=A[X+3],V.push("C",v(A[X]),v(A[X+1]),v(S),v(L),v(S),v(L)),X+=4;break;case o.OPS.closePath:V.push("Z");break}V=V.join(" "),R.path&&p.length>0&&p[0]!==o.OPS.rectangle&&p[0]!==o.OPS.moveTo?V=R.path.getAttributeNS(null,"d")+V:(R.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(R.path)),R.path.setAttributeNS(null,"d",V),R.path.setAttributeNS(null,"fill","none"),R.element=R.path,R.setCurrentPoint(S,L)}endPath(){const p=this.current;if(p.path=null,!this.pendingClip)return;if(!p.element){this.pendingClip=null;return}const A=`clippath${T++}`,R=this.svgFactory.createElement("svg:clipPath");R.setAttributeNS(null,"id",A),R.setAttributeNS(null,"transform",x(this.transformMatrix));const S=p.element.cloneNode(!0);if(this.pendingClip==="evenodd"?S.setAttributeNS(null,"clip-rule","evenodd"):S.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,R.append(S),this.defs.append(R),p.activeClipUrl){p.clipGroup=null;for(const L of this.extraStack)L.clipGroup=null;R.setAttributeNS(null,"clip-path",p.activeClipUrl)}p.activeClipUrl=`url(#${A})`,this.tgrp=null}clip(p){this.pendingClip=p}closePath(){const p=this.current;if(p.path){const A=`${p.path.getAttributeNS(null,"d")}Z`;p.path.setAttributeNS(null,"d",A)}}setLeading(p){this.current.leading=-p}setTextRise(p){this.current.textRise=p}setTextRenderingMode(p){this.current.textRenderingMode=p}setHScale(p){this.current.textHScale=p/100}setRenderingIntent(p){}setFlatness(p){}setGState(p){for(const[A,R]of p)switch(A){case"LW":this.setLineWidth(R);break;case"LC":this.setLineCap(R);break;case"LJ":this.setLineJoin(R);break;case"ML":this.setMiterLimit(R);break;case"D":this.setDash(R[0],R[1]);break;case"RI":this.setRenderingIntent(R);break;case"FL":this.setFlatness(R);break;case"Font":this.setFont(R);break;case"CA":this.setStrokeAlpha(R);break;case"ca":this.setFillAlpha(R);break;default:(0,o.warn)(`Unimplemented graphic state operator ${A}`);break}}fill(){const p=this.current;p.element&&(p.element.setAttributeNS(null,"fill",p.fillColor),p.element.setAttributeNS(null,"fill-opacity",p.fillAlpha),this.endPath())}stroke(){const p=this.current;p.element&&(this._setStrokeAttributes(p.element),p.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(p,A=1){const R=this.current;let S=R.dashArray;A!==1&&S.length>0&&(S=S.map(function(L){return A*L})),p.setAttributeNS(null,"stroke",R.strokeColor),p.setAttributeNS(null,"stroke-opacity",R.strokeAlpha),p.setAttributeNS(null,"stroke-miterlimit",v(R.miterLimit)),p.setAttributeNS(null,"stroke-linecap",R.lineCap),p.setAttributeNS(null,"stroke-linejoin",R.lineJoin),p.setAttributeNS(null,"stroke-width",v(A*R.lineWidth)+"px"),p.setAttributeNS(null,"stroke-dasharray",S.map(v).join(" ")),p.setAttributeNS(null,"stroke-dashoffset",v(A*R.dashPhase)+"px")}eoFill(){var p;(p=this.current.element)==null||p.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var p;(p=this.current.element)==null||p.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const p=this.svgFactory.createElement("svg:rect");p.setAttributeNS(null,"x","0"),p.setAttributeNS(null,"y","0"),p.setAttributeNS(null,"width","1px"),p.setAttributeNS(null,"height","1px"),p.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(p)}paintImageXObject(p){const A=this.getObject(p);if(!A){(0,o.warn)(`Dependent image with object ID ${p} is not ready yet`);return}this.paintInlineImageXObject(A)}paintInlineImageXObject(p,A){const R=p.width,S=p.height,L=b(p,this.forceDataSchema,!!A),V=this.svgFactory.createElement("svg:rect");V.setAttributeNS(null,"x","0"),V.setAttributeNS(null,"y","0"),V.setAttributeNS(null,"width",v(R)),V.setAttributeNS(null,"height",v(S)),this.current.element=V,this.clip("nonzero");const X=this.svgFactory.createElement("svg:image");X.setAttributeNS(h,"xlink:href",L),X.setAttributeNS(null,"x","0"),X.setAttributeNS(null,"y",v(-S)),X.setAttributeNS(null,"width",v(R)+"px"),X.setAttributeNS(null,"height",v(S)+"px"),X.setAttributeNS(null,"transform",`scale(${v(1/R)} ${v(-1/S)})`),A?A.append(X):this._ensureTransformGroup().append(X)}paintImageMaskXObject(p){const A=this.getObject(p.data,p);if(A.bitmap){(0,o.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const R=this.current,S=A.width,L=A.height,V=R.fillColor;R.maskId=`mask${y++}`;const X=this.svgFactory.createElement("svg:mask");X.setAttributeNS(null,"id",R.maskId);const it=this.svgFactory.createElement("svg:rect");it.setAttributeNS(null,"x","0"),it.setAttributeNS(null,"y","0"),it.setAttributeNS(null,"width",v(S)),it.setAttributeNS(null,"height",v(L)),it.setAttributeNS(null,"fill",V),it.setAttributeNS(null,"mask",`url(#${R.maskId})`),this.defs.append(X),this._ensureTransformGroup().append(it),this.paintInlineImageXObject(A,X)}paintFormXObjectBegin(p,A){if(Array.isArray(p)&&p.length===6&&this.transform(p[0],p[1],p[2],p[3],p[4],p[5]),A){const R=A[2]-A[0],S=A[3]-A[1],L=this.svgFactory.createElement("svg:rect");L.setAttributeNS(null,"x",A[0]),L.setAttributeNS(null,"y",A[1]),L.setAttributeNS(null,"width",v(R)),L.setAttributeNS(null,"height",v(S)),this.current.element=L,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(p){const A=this.svgFactory.create(p.width,p.height),R=this.svgFactory.createElement("svg:defs");A.append(R),this.defs=R;const S=this.svgFactory.createElement("svg:g");return S.setAttributeNS(null,"transform",x(p.transform)),A.append(S),this.svg=S,A}_ensureClipGroup(){if(!this.current.clipGroup){const p=this.svgFactory.createElement("svg:g");p.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(p),this.current.clipGroup=p}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",x(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}}],__webpack_module_cache__={};function __w_pdfjs_require__(n){var s=__webpack_module_cache__[n];if(s!==void 0)return s.exports;var i=__webpack_module_cache__[n]={exports:{}};return __webpack_modules__[n](i,i.exports,__w_pdfjs_require__),i.exports}var __webpack_exports__={};return(()=>{var n=__webpack_exports__;Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AbortException",{enumerable:!0,get:function(){return s.AbortException}}),Object.defineProperty(n,"AnnotationEditorLayer",{enumerable:!0,get:function(){return c.AnnotationEditorLayer}}),Object.defineProperty(n,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return s.AnnotationEditorParamsType}}),Object.defineProperty(n,"AnnotationEditorType",{enumerable:!0,get:function(){return s.AnnotationEditorType}}),Object.defineProperty(n,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return l.AnnotationEditorUIManager}}),Object.defineProperty(n,"AnnotationLayer",{enumerable:!0,get:function(){return f.AnnotationLayer}}),Object.defineProperty(n,"AnnotationMode",{enumerable:!0,get:function(){return s.AnnotationMode}}),Object.defineProperty(n,"CMapCompressionType",{enumerable:!0,get:function(){return s.CMapCompressionType}}),Object.defineProperty(n,"FeatureTest",{enumerable:!0,get:function(){return s.FeatureTest}}),Object.defineProperty(n,"GlobalWorkerOptions",{enumerable:!0,get:function(){return u.GlobalWorkerOptions}}),Object.defineProperty(n,"InvalidPDFException",{enumerable:!0,get:function(){return s.InvalidPDFException}}),Object.defineProperty(n,"MissingPDFException",{enumerable:!0,get:function(){return s.MissingPDFException}}),Object.defineProperty(n,"OPS",{enumerable:!0,get:function(){return s.OPS}}),Object.defineProperty(n,"PDFDataRangeTransport",{enumerable:!0,get:function(){return i.PDFDataRangeTransport}}),Object.defineProperty(n,"PDFDateString",{enumerable:!0,get:function(){return a.PDFDateString}}),Object.defineProperty(n,"PDFWorker",{enumerable:!0,get:function(){return i.PDFWorker}}),Object.defineProperty(n,"PasswordResponses",{enumerable:!0,get:function(){return s.PasswordResponses}}),Object.defineProperty(n,"PermissionFlag",{enumerable:!0,get:function(){return s.PermissionFlag}}),Object.defineProperty(n,"PixelsPerInch",{enumerable:!0,get:function(){return a.PixelsPerInch}}),Object.defineProperty(n,"RenderingCancelledException",{enumerable:!0,get:function(){return a.RenderingCancelledException}}),Object.defineProperty(n,"SVGGraphics",{enumerable:!0,get:function(){return h.SVGGraphics}}),Object.defineProperty(n,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return s.UNSUPPORTED_FEATURES}}),Object.defineProperty(n,"UnexpectedResponseException",{enumerable:!0,get:function(){return s.UnexpectedResponseException}}),Object.defineProperty(n,"Util",{enumerable:!0,get:function(){return s.Util}}),Object.defineProperty(n,"VerbosityLevel",{enumerable:!0,get:function(){return s.VerbosityLevel}}),Object.defineProperty(n,"XfaLayer",{enumerable:!0,get:function(){return d.XfaLayer}}),Object.defineProperty(n,"build",{enumerable:!0,get:function(){return i.build}}),Object.defineProperty(n,"createPromiseCapability",{enumerable:!0,get:function(){return s.createPromiseCapability}}),Object.defineProperty(n,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return s.createValidAbsoluteUrl}}),Object.defineProperty(n,"getDocument",{enumerable:!0,get:function(){return i.getDocument}}),Object.defineProperty(n,"getFilenameFromUrl",{enumerable:!0,get:function(){return a.getFilenameFromUrl}}),Object.defineProperty(n,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return a.getPdfFilenameFromUrl}}),Object.defineProperty(n,"getXfaPageViewport",{enumerable:!0,get:function(){return a.getXfaPageViewport}}),Object.defineProperty(n,"isDataScheme",{enumerable:!0,get:function(){return a.isDataScheme}}),Object.defineProperty(n,"isPdfFile",{enumerable:!0,get:function(){return a.isPdfFile}}),Object.defineProperty(n,"loadScript",{enumerable:!0,get:function(){return a.loadScript}}),Object.defineProperty(n,"renderTextLayer",{enumerable:!0,get:function(){return o.renderTextLayer}}),Object.defineProperty(n,"setLayerDimensions",{enumerable:!0,get:function(){return a.setLayerDimensions}}),Object.defineProperty(n,"shadow",{enumerable:!0,get:function(){return s.shadow}}),Object.defineProperty(n,"updateTextLayer",{enumerable:!0,get:function(){return o.updateTextLayer}}),Object.defineProperty(n,"version",{enumerable:!0,get:function(){return i.version}});var s=__w_pdfjs_require__(1),i=__w_pdfjs_require__(2),a=__w_pdfjs_require__(6),o=__w_pdfjs_require__(26),c=__w_pdfjs_require__(27),l=__w_pdfjs_require__(5),f=__w_pdfjs_require__(32),u=__w_pdfjs_require__(14),h=__w_pdfjs_require__(35),d=__w_pdfjs_require__(34)})(),__webpack_exports__})())}(pdf)),pdf.exports}var pdfExports=requirePdf();pdfExports.GlobalWorkerOptions.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfExports.version}/pdf.worker.min.js`;const ResumeModal=({isOpen:n,onClose:s})=>{const[i,a]=reactExports.useState([]),[o,c]=reactExports.useState(!0),l=reactExports.useRef(null);reactExports.useEffect(()=>(n?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[n]),reactExports.useEffect(()=>{const u=l.current;if(!u)return;const h=d=>{d.stopPropagation()};return u.addEventListener("wheel",h,{passive:!1}),()=>{u.removeEventListener("wheel",h)}},[n]),reactExports.useEffect(()=>{if(!n)return;(async()=>{try{c(!0);const d=await pdfExports.getDocument("/Ansh Singhal.pdf").promise,g=[];for(let m=1;m<=d.numPages;m++){const b=await d.getPage(m),E=b.getViewport({scale:2}),P=document.createElement("canvas"),v=P.getContext("2d");P.height=E.height,P.width=E.width,await b.render({canvasContext:v,viewport:E}).promise,g.push(P.toDataURL("image/jpeg",.95))}a(g)}catch(h){console.error("Error rendering PDF:",h)}finally{c(!1)}})()},[n]);const f=()=>{const u=document.createElement("a");u.href="/Ansh Singhal.pdf",u.download="Ansh Singhal.pdf",document.body.appendChild(u),u.click(),document.body.removeChild(u)};return n?jsxRuntimeExports.jsx(AnimatePresence,{children:n&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 p-4 md:p-0",onClick:s,children:jsxRuntimeExports.jsxs(motion.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative w-full h-[95vh] md:w-[800px] md:h-[90vh] bg-white rounded-lg overflow-hidden flex flex-col",onClick:u=>u.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"md:hidden absolute top-0 left-0 right-0 z-10 bg-white/80 backdrop-blur-sm p-2 flex items-center justify-between",children:[jsxRuntimeExports.jsx("h2",{className:"text-sm font-medium text-gray-800",children:"Resume"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:f,className:"p-2 text-gray-600 hover:text-gray-800 bg-white/80 backdrop-blur-sm rounded-full shadow-lg","aria-label":"Download resume",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})}),jsxRuntimeExports.jsx("button",{onClick:s,className:"p-2 text-gray-600 hover:text-gray-800 bg-white/80 backdrop-blur-sm rounded-full shadow-lg","aria-label":"Close modal",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),jsxRuntimeExports.jsxs("div",{className:"hidden md:flex absolute top-4 right-4 z-10 gap-2",children:[jsxRuntimeExports.jsxs("button",{onClick:f,className:"p-2 text-gray-600 hover:text-gray-800 bg-white/80 backdrop-blur-sm rounded-full shadow-lg flex items-center gap-2","aria-label":"Download resume",children:[jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Download"})]}),jsxRuntimeExports.jsx("button",{onClick:s,className:"p-2 text-gray-600 hover:text-gray-800 bg-white/80 backdrop-blur-sm rounded-full shadow-lg","aria-label":"Close modal",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),jsxRuntimeExports.jsx("div",{ref:l,className:"flex-1 w-full overflow-y-auto custom-scrollbar mt-12 md:mt-0",onWheel:u=>u.stopPropagation(),children:o?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-full",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})}):jsxRuntimeExports.jsx("div",{className:"flex flex-col items-center gap-4 p-4",children:i.map((u,h)=>jsxRuntimeExports.jsx("img",{src:u,alt:`Resume page ${h+1}`,className:"w-full shadow-lg rounded-lg"},h))})}),jsxRuntimeExports.jsx("div",{className:"md:hidden absolute bottom-4 left-1/2 -translate-x-1/2 z-10",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 text-white/80 text-sm",children:[jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})}),jsxRuntimeExports.jsx("span",{children:"Swipe down to close"})]})})]})})}):null};function FloatingDockDemo(){const[n,s]=reactExports.useState(!1),i=[{title:"Home",icon:jsxRuntimeExports.jsx(IconHome,{className:"h-full w-full text-neutral-500 dark:text-neutral-300"}),to:"/#hero",type:"hash"},{title:"About",icon:jsxRuntimeExports.jsx(IconNewSection,{className:"h-full w-full text-neutral-500 dark:text-neutral-300"}),to:"/#about",type:"hash"},{title:"Projects",icon:jsxRuntimeExports.jsx(IconTerminal2,{className:"h-full w-full text-neutral-500 dark:text-neutral-300"}),to:"/#projects",type:"hash"},{title:"Experience",icon:jsxRuntimeExports.jsx(IconExchange,{className:"h-full w-full text-neutral-500 dark:text-neutral-300"}),to:"/#experiences",type:"hash"},{title:"Dhara",icon:jsxRuntimeExports.jsx(IconSearch,{className:"h-full w-full text-neutral-500 dark:text-neutral-300"}),to:"/dhara",type:"link"},{title:"Resume",icon:jsxRuntimeExports.jsx(IconFileText,{className:"h-full w-full text-neutral-500 dark:text-neutral-300"}),onClick:()=>s(!0),type:"button"},{title:"LinkedIn",icon:jsxRuntimeExports.jsx(IconBrandLinkedin,{className:"h-full w-full text-neutral-500 dark:text-neutral-300"}),to:"https://www.linkedin.com/in/anshhh-singhal/",type:"external"},{title:"GitHub",icon:jsxRuntimeExports.jsx(IconBrandGithub,{className:"h-full w-full text-neutral-500 dark:text-neutral-300"}),to:"https://github.com/AnshSinghal",type:"external"}];return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-50 hidden md:block",children:jsxRuntimeExports.jsx(FloatingDock,{items:i})}),jsxRuntimeExports.jsx("div",{className:"md:hidden",children:jsxRuntimeExports.jsx(FloatingDock,{items:i})}),jsxRuntimeExports.jsx(ResumeModal,{isOpen:n,onClose:()=>s(!1)})]})}function MousePosition(){const[n,s]=reactExports.useState({x:0,y:0});return reactExports.useEffect(()=>{const i=a=>{s({x:a.clientX,y:a.clientY})};return window.addEventListener("mousemove",i),()=>{window.removeEventListener("mousemove",i)}},[]),n}function hexToRgb(n){n=n.replace("#",""),n.length===3&&(n=n.split("").map(c=>c+c).join(""));const s=parseInt(n,16),i=s>>16&255,a=s>>8&255,o=s&255;return[i,a,o]}const Particles=({className:n="",quantity:s=100,staticity:i=50,ease:a=50,size:o=.4,refresh:c=!1,color:l="#ffffff",vx:f=0,vy:u=0,...h})=>{const d=reactExports.useRef(null),g=reactExports.useRef(null),m=reactExports.useRef(null),b=reactExports.useRef([]),E=MousePosition(),P=reactExports.useRef({x:0,y:0}),v=reactExports.useRef({w:0,h:0}),x=typeof window<"u"?window.devicePixelRatio:1,T=reactExports.useRef(null),y=reactExports.useRef(null);reactExports.useEffect(()=>{d.current&&(m.current=d.current.getContext("2d")),C(),gt();const K=()=>{y.current&&clearTimeout(y.current),y.current=setTimeout(()=>{C()},200)};return window.addEventListener("resize",K),()=>{T.current!=null&&window.cancelAnimationFrame(T.current),y.current&&clearTimeout(y.current),window.removeEventListener("resize",K)}},[l]),reactExports.useEffect(()=>{p()},[E.x,E.y]),reactExports.useEffect(()=>{C()},[c]);const C=()=>{A(),X()},p=()=>{if(d.current){const K=d.current.getBoundingClientRect(),{w:lt,h:tt}=v.current,G=E.x-K.left-lt/2,W=E.y-K.top-tt/2;G<lt/2&&G>-lt/2&&W<tt/2&&W>-tt/2&&(P.current.x=G,P.current.y=W)}},A=()=>{if(g.current&&d.current&&m.current){v.current.w=g.current.offsetWidth,v.current.h=g.current.offsetHeight,d.current.width=v.current.w*x,d.current.height=v.current.h*x,d.current.style.width=`${v.current.w}px`,d.current.style.height=`${v.current.h}px`,m.current.scale(x,x),b.current=[];for(let K=0;K<s;K++){const lt=R();L(lt)}}},R=()=>{const K=Math.floor(Math.random()*v.current.w),lt=Math.floor(Math.random()*v.current.h),tt=0,G=0,W=Math.floor(Math.random()*2)+o,at=0,ct=parseFloat((Math.random()*.6+.1).toFixed(1)),j=(Math.random()-.5)*.1,k=(Math.random()-.5)*.1,_=.1+Math.random()*4;return{x:K,y:lt,translateX:tt,translateY:G,size:W,alpha:at,targetAlpha:ct,dx:j,dy:k,magnetism:_}},S=hexToRgb(l),L=(K,lt=!1)=>{if(m.current){const{x:tt,y:G,translateX:W,translateY:at,size:ct,alpha:j}=K;m.current.translate(W,at),m.current.beginPath(),m.current.arc(tt,G,ct,0,2*Math.PI),m.current.fillStyle=`rgba(${S.join(", ")}, ${j})`,m.current.fill(),m.current.setTransform(x,0,0,x,0,0),lt||b.current.push(K)}},V=()=>{m.current&&m.current.clearRect(0,0,v.current.w,v.current.h)},X=()=>{V();const K=s;for(let lt=0;lt<K;lt++){const tt=R();L(tt)}},it=(K,lt,tt,G,W)=>{const at=(K-lt)*(W-G)/(tt-lt)+G;return at>0?at:0},gt=()=>{V(),b.current.forEach((K,lt)=>{const G=[K.x+K.translateX-K.size,v.current.w-K.x-K.translateX-K.size,K.y+K.translateY-K.size,v.current.h-K.y-K.translateY-K.size].reduce((at,ct)=>Math.min(at,ct)),W=parseFloat(it(G,0,20,0,1).toFixed(2));if(W>1?(K.alpha+=.02,K.alpha>K.targetAlpha&&(K.alpha=K.targetAlpha)):K.alpha=K.targetAlpha*W,K.x+=K.dx+f,K.y+=K.dy+u,K.translateX+=(P.current.x/(i/K.magnetism)-K.translateX)/a,K.translateY+=(P.current.y/(i/K.magnetism)-K.translateY)/a,L(K,!0),K.x<-K.size||K.x>v.current.w+K.size||K.y<-K.size||K.y>v.current.h+K.size){b.current.splice(lt,1);const at=R();L(at)}}),T.current=window.requestAnimationFrame(gt)};return jsxRuntimeExports.jsx("div",{className:twMerge("pointer-events-none",n),ref:g,"aria-hidden":"true",...h,children:jsxRuntimeExports.jsx("canvas",{ref:d,className:"size-full"})})};function t(n,s,i){return Math.max(n,Math.min(s,i))}class Animate{advance(s){var f;if(!this.isRunning)return;let i=!1;if(this.lerp)this.value=(a=this.value,o=this.to,c=60*this.lerp,l=s,function(u,h,d){return(1-d)*u+d*h}(a,o,1-Math.exp(-c*l))),Math.round(this.value)===this.to&&(this.value=this.to,i=!0);else{this.currentTime+=s;const u=t(0,this.currentTime/this.duration,1);i=u>=1;const h=i?1:this.easing(u);this.value=this.from+(this.to-this.from)*h}var a,o,c,l;(f=this.onUpdate)==null||f.call(this,this.value,i),i&&this.stop()}stop(){this.isRunning=!1}fromTo(s,i,{lerp:a=.1,duration:o=1,easing:c=u=>u,onStart:l,onUpdate:f}){this.from=this.value=s,this.to=i,this.lerp=a,this.duration=o,this.easing=c,this.currentTime=0,this.isRunning=!0,l==null||l(),this.onUpdate=f}}class Dimensions{constructor({wrapper:s,content:i,autoResize:a=!0,debounce:o=250}={}){Ct(this,"resize",()=>{this.onWrapperResize(),this.onContentResize()});Ct(this,"onWrapperResize",()=>{this.wrapper===window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)});Ct(this,"onContentResize",()=>{this.wrapper===window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)});this.wrapper=s,this.content=i,a&&(this.debouncedResize=function(c,l){let f;return function(){let u=arguments,h=this;clearTimeout(f),f=setTimeout(function(){c.apply(h,u)},l)}}(this.resize,o),this.wrapper===window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}destroy(){var s,i;(s=this.wrapperResizeObserver)==null||s.disconnect(),(i=this.contentResizeObserver)==null||i.disconnect(),window.removeEventListener("resize",this.debouncedResize,!1)}get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}}class Emitter{constructor(){this.events={}}emit(s,...i){let a=this.events[s]||[];for(let o=0,c=a.length;o<c;o++)a[o](...i)}on(s,i){var a;return(a=this.events[s])!=null&&a.push(i)||(this.events[s]=[i]),()=>{var o;this.events[s]=(o=this.events[s])==null?void 0:o.filter(c=>i!==c)}}off(s,i){var a;this.events[s]=(a=this.events[s])==null?void 0:a.filter(o=>i!==o)}destroy(){this.events={}}}const e=100/6;class VirtualScroll{constructor(s,{wheelMultiplier:i=1,touchMultiplier:a=1}){Ct(this,"onTouchStart",s=>{const{clientX:i,clientY:a}=s.targetTouches?s.targetTouches[0]:s;this.touchStart.x=i,this.touchStart.y=a,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:s})});Ct(this,"onTouchMove",s=>{const{clientX:i,clientY:a}=s.targetTouches?s.targetTouches[0]:s,o=-(i-this.touchStart.x)*this.touchMultiplier,c=-(a-this.touchStart.y)*this.touchMultiplier;this.touchStart.x=i,this.touchStart.y=a,this.lastDelta={x:o,y:c},this.emitter.emit("scroll",{deltaX:o,deltaY:c,event:s})});Ct(this,"onTouchEnd",s=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:s})});Ct(this,"onWheel",s=>{let{deltaX:i,deltaY:a,deltaMode:o}=s;i*=o===1?e:o===2?this.windowWidth:1,a*=o===1?e:o===2?this.windowHeight:1,i*=this.wheelMultiplier,a*=this.wheelMultiplier,this.emitter.emit("scroll",{deltaX:i,deltaY:a,event:s})});Ct(this,"onWindowResize",()=>{this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight});this.element=s,this.wheelMultiplier=i,this.touchMultiplier=a,this.touchStart={x:null,y:null},this.emitter=new Emitter,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,{passive:!1}),this.element.addEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.addEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.addEventListener("touchend",this.onTouchEnd,{passive:!1})}on(s,i){return this.emitter.on(s,i)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,{passive:!1}),this.element.removeEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.removeEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.removeEventListener("touchend",this.onTouchEnd,{passive:!1})}}class Lenis{constructor({wrapper:s=window,content:i=document.documentElement,wheelEventsTarget:a=s,eventsTarget:o=a,smoothWheel:c=!0,syncTouch:l=!1,syncTouchLerp:f=.075,touchInertiaMultiplier:u=35,duration:h,easing:d=y=>Math.min(1,1.001-Math.pow(2,-10*y)),lerp:g=!h&&.1,infinite:m=!1,orientation:b="vertical",gestureOrientation:E="vertical",touchMultiplier:P=1,wheelMultiplier:v=1,autoResize:x=!0,__experimental__naiveDimensions:T=!1}={}){this.__isSmooth=!1,this.__isScrolling=!1,this.__isStopped=!1,this.__isLocked=!1,this.onVirtualScroll=({deltaX:y,deltaY:C,event:p})=>{if(p.ctrlKey)return;const A=p.type.includes("touch"),R=p.type.includes("wheel");if(this.options.syncTouch&&A&&p.type==="touchstart"&&!this.isStopped&&!this.isLocked)return void this.reset();const S=y===0&&C===0,L=this.options.gestureOrientation==="vertical"&&C===0||this.options.gestureOrientation==="horizontal"&&y===0;if(S||L)return;let V=p.composedPath();if(V=V.slice(0,V.indexOf(this.rootElement)),V.find(K=>{var lt,tt,G,W,at;return((lt=K.hasAttribute)===null||lt===void 0?void 0:lt.call(K,"data-lenis-prevent"))||A&&((tt=K.hasAttribute)===null||tt===void 0?void 0:tt.call(K,"data-lenis-prevent-touch"))||R&&((G=K.hasAttribute)===null||G===void 0?void 0:G.call(K,"data-lenis-prevent-wheel"))||((W=K.classList)===null||W===void 0?void 0:W.contains("lenis"))&&!(!((at=K.classList)===null||at===void 0)&&at.contains("lenis-stopped"))}))return;if(this.isStopped||this.isLocked)return void p.preventDefault();if(this.isSmooth=this.options.syncTouch&&A||this.options.smoothWheel&&R,!this.isSmooth)return this.isScrolling=!1,void this.animate.stop();p.preventDefault();let X=C;this.options.gestureOrientation==="both"?X=Math.abs(C)>Math.abs(y)?C:y:this.options.gestureOrientation==="horizontal"&&(X=y);const it=A&&this.options.syncTouch,gt=A&&p.type==="touchend"&&Math.abs(X)>5;gt&&(X=this.velocity*this.options.touchInertiaMultiplier),this.scrollTo(this.targetScroll+X,Object.assign({programmatic:!1},it?{lerp:gt?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}))},this.onNativeScroll=()=>{if(!this.__preventNextScrollEvent&&!this.isScrolling){const y=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.direction=Math.sign(this.animatedScroll-y),this.emit()}},window.lenisVersion="1.0.42",s!==document.documentElement&&s!==document.body||(s=window),this.options={wrapper:s,content:i,wheelEventsTarget:a,eventsTarget:o,smoothWheel:c,syncTouch:l,syncTouchLerp:f,touchInertiaMultiplier:u,duration:h,easing:d,lerp:g,infinite:m,gestureOrientation:E,orientation:b,touchMultiplier:P,wheelMultiplier:v,autoResize:x,__experimental__naiveDimensions:T},this.animate=new Animate,this.emitter=new Emitter,this.dimensions=new Dimensions({wrapper:s,content:i,autoResize:x}),this.toggleClassName("lenis",!0),this.velocity=0,this.isLocked=!1,this.isStopped=!1,this.isSmooth=l||c,this.isScrolling=!1,this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll=new VirtualScroll(o,{touchMultiplier:P,wheelMultiplier:v}),this.virtualScroll.on("scroll",this.onVirtualScroll)}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.toggleClassName("lenis",!1),this.toggleClassName("lenis-smooth",!1),this.toggleClassName("lenis-scrolling",!1),this.toggleClassName("lenis-stopped",!1),this.toggleClassName("lenis-locked",!1)}on(s,i){return this.emitter.on(s,i)}off(s,i){return this.emitter.off(s,i)}setScroll(s){this.isHorizontal?this.rootElement.scrollLeft=s:this.rootElement.scrollTop=s}resize(){this.dimensions.resize()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.animate.stop()}start(){this.isStopped&&(this.isStopped=!1,this.reset())}stop(){this.isStopped||(this.isStopped=!0,this.animate.stop(),this.reset())}raf(s){const i=s-(this.time||s);this.time=s,this.animate.advance(.001*i)}scrollTo(s,{offset:i=0,immediate:a=!1,lock:o=!1,duration:c=this.options.duration,easing:l=this.options.easing,lerp:f=!c&&this.options.lerp,onComplete:u,force:h=!1,programmatic:d=!0}={}){if(!this.isStopped&&!this.isLocked||h){if(["top","left","start"].includes(s))s=0;else if(["bottom","right","end"].includes(s))s=this.limit;else{let g;if(typeof s=="string"?g=document.querySelector(s):s!=null&&s.nodeType&&(g=s),g){if(this.options.wrapper!==window){const b=this.options.wrapper.getBoundingClientRect();i-=this.isHorizontal?b.left:b.top}const m=g.getBoundingClientRect();s=(this.isHorizontal?m.left:m.top)+this.animatedScroll}}if(typeof s=="number"){if(s+=i,s=Math.round(s),this.options.infinite?d&&(this.targetScroll=this.animatedScroll=this.scroll):s=t(0,s,this.limit),a)return this.animatedScroll=this.targetScroll=s,this.setScroll(this.scroll),this.reset(),void(u==null||u(this));if(!d){if(s===this.targetScroll)return;this.targetScroll=s}this.animate.fromTo(this.animatedScroll,s,{duration:c,easing:l,lerp:f,onStart:()=>{o&&(this.isLocked=!0),this.isScrolling=!0},onUpdate:(g,m)=>{this.isScrolling=!0,this.velocity=g-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=g,this.setScroll(this.scroll),d&&(this.targetScroll=g),m||this.emit(),m&&(this.reset(),this.emit(),u==null||u(this),this.__preventNextScrollEvent=!0,requestAnimationFrame(()=>{delete this.__preventNextScrollEvent}))}})}}}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){return this.isHorizontal?this.rootElement.scrollLeft:this.rootElement.scrollTop}get scroll(){return this.options.infinite?(s=this.animatedScroll,i=this.limit,(s%i+i)%i):this.animatedScroll;var s,i}get progress(){return this.limit===0?1:this.scroll/this.limit}get isSmooth(){return this.__isSmooth}set isSmooth(s){this.__isSmooth!==s&&(this.__isSmooth=s,this.toggleClassName("lenis-smooth",s))}get isScrolling(){return this.__isScrolling}set isScrolling(s){this.__isScrolling!==s&&(this.__isScrolling=s,this.toggleClassName("lenis-scrolling",s))}get isStopped(){return this.__isStopped}set isStopped(s){this.__isStopped!==s&&(this.__isStopped=s,this.toggleClassName("lenis-stopped",s))}get isLocked(){return this.__isLocked}set isLocked(s){this.__isLocked!==s&&(this.__isLocked=s,this.toggleClassName("lenis-locked",s))}get className(){let s="lenis";return this.isStopped&&(s+=" lenis-stopped"),this.isLocked&&(s+=" lenis-locked"),this.isScrolling&&(s+=" lenis-scrolling"),this.isSmooth&&(s+=" lenis-smooth"),s}toggleClassName(s,i){this.rootElement.classList.toggle(s,i),this.emitter.emit("className change",this)}}const CustomScrollbar=()=>{const n=useMediaQuery({maxWidth:853}),{scrollYProgress:s}=useScroll(),i=useSpring(s,{stiffness:n?50:100,damping:n?20:30,restDelta:.001}),a=reactExports.useRef(null);return reactExports.useEffect(()=>{if(n)return;a.current=new Lenis({duration:1.2,easing:c=>Math.min(1,1.001-Math.pow(2,-10*c)),smooth:!0,smoothTouch:!1,touchMultiplier:2});function o(c){var l;(l=a.current)==null||l.raf(c),requestAnimationFrame(o)}return requestAnimationFrame(o),()=>{var c;(c=a.current)==null||c.destroy()}},[n]),n?null:jsxRuntimeExports.jsx(motion$1.div,{className:"fixed right-0 top-0 h-full w-1 bg-gray-200/20 backdrop-blur-sm z-50",style:{scaleY:i,transformOrigin:"top"},children:jsxRuntimeExports.jsx(motion$1.div,{className:"h-full w-full bg-gradient-to-b from-[#18CCFC] via-[#6344F5] to-[#AE48FF]",style:{scaleY:s}})})},SmoothScroll=({children:n})=>{const s=useMediaQuery({maxWidth:853});return reactExports.useEffect(()=>{if(s)return;let i=null,a;try{i=new Lenis({duration:1.2,easing:c=>Math.min(1,1.001-Math.pow(2,-10*c)),orientation:"vertical",gestureOrientation:"vertical",smoothWheel:!0});const o=c=>{i==null||i.raf(c),a=requestAnimationFrame(o)};a=requestAnimationFrame(o)}catch(o){console.error("Failed to initialize smooth scroll:",o)}return()=>{a&&cancelAnimationFrame(a),i&&i.destroy()}},[s]),jsxRuntimeExports.jsx("div",{className:s?"overflow-x-hidden":"",children:n})};var define_process_env_default={},name="@vercel/speed-insights",version="1.2.0",initQueue=()=>{window.si||(window.si=function(...s){(window.siq=window.siq||[]).push(s)})};function isBrowser(){return typeof window<"u"}function detectEnvironment(){try{const n="production"}catch{}return"production"}function isDevelopment(){return detectEnvironment()==="development"}function getScriptSrc(n){return n.scriptSrc?n.scriptSrc:isDevelopment()?"https://va.vercel-scripts.com/v1/speed-insights/script.debug.js":n.dsn?"https://va.vercel-scripts.com/v1/speed-insights/script.js":n.basePath?`${n.basePath}/speed-insights/script.js`:"/_vercel/speed-insights/script.js"}function injectSpeedInsights(n={}){var s;if(!isBrowser()||n.route===null)return null;initQueue();const i=getScriptSrc(n);if(document.head.querySelector(`script[src*="${i}"]`))return null;n.beforeSend&&((s=window.si)==null||s.call(window,"beforeSend",n.beforeSend));const a=document.createElement("script");return a.src=i,a.defer=!0,a.dataset.sdkn=name+(n.framework?`/${n.framework}`:""),a.dataset.sdkv=version,n.sampleRate&&(a.dataset.sampleRate=n.sampleRate.toString()),n.route&&(a.dataset.route=n.route),n.endpoint?a.dataset.endpoint=n.endpoint:n.basePath&&(a.dataset.endpoint=`${n.basePath}/speed-insights/vitals`),n.dsn&&(a.dataset.dsn=n.dsn),isDevelopment()&&n.debug===!1&&(a.dataset.debug="false"),a.onerror=()=>{console.log(`[Vercel Speed Insights] Failed to load script from ${i}. Please check if any content blockers are enabled and try again.`)},document.head.appendChild(a),{setRoute:o=>{a.dataset.route=o??void 0}}}function getBasePath(){if(!(typeof process>"u"||typeof define_process_env_default>"u"))return define_process_env_default.REACT_APP_VERCEL_OBSERVABILITY_BASEPATH}function SpeedInsights(n){reactExports.useEffect(()=>{var i;n.beforeSend&&((i=window.si)==null||i.call(window,"beforeSend",n.beforeSend))},[n.beforeSend]);const s=reactExports.useRef(null);return reactExports.useEffect(()=>{if(s.current)n.route&&s.current(n.route);else{const i=injectSpeedInsights({framework:n.framework??"react",basePath:n.basePath??getBasePath(),...n});i&&(s.current=i.setRoute)}},[n.route]),null}const HomePage=React.lazy(()=>__vitePreload(()=>import("./HomePage-DvMPcAgy.js"),__vite__mapDeps([0,1,2,3]))),DharaPage=React.lazy(()=>__vitePreload(()=>import("./DharaPage-CPLF3r9S.js"),__vite__mapDeps([4,1,2,3]))),App=()=>{const n=useMediaQuery({maxWidth:853});return jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsx(SmoothScroll,{children:jsxRuntimeExports.jsxs("div",{className:"relative min-h-screen overflow-x-hidden",children:[jsxRuntimeExports.jsx("style",{jsx:!0,global:!0,children:`
            html {
              scrollbar-width: none;
              -ms-overflow-style: none;
              ${n?"overflow-x: hidden;":""}
            }
            html::-webkit-scrollbar {
              display: none;
            }
            body {
              ${n?"overflow-x: hidden; position: relative;":""}
            }
          `}),!n&&jsxRuntimeExports.jsx(CustomCursor,{}),jsxRuntimeExports.jsx(CustomScrollbar,{}),jsxRuntimeExports.jsx("div",{className:"fixed inset-0 -z-10",children:jsxRuntimeExports.jsx(Particles,{className:"absolute inset-0",quantity:n?100:200,staticity:n?10:15,color:"#ffffff",size:.8,ease:30,vx:.2,vy:.2})}),jsxRuntimeExports.jsx("div",{className:"fixed top-0 left-0 w-full z-50",children:jsxRuntimeExports.jsx(FloatingDockDemo,{})}),jsxRuntimeExports.jsx(React.Suspense,{fallback:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-screen w-full bg-black text-white",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-white"})}),children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(HomePage,{})}),jsxRuntimeExports.jsx(Route,{path:"/dhara",element:jsxRuntimeExports.jsx(DharaPage,{})})]})}),jsxRuntimeExports.jsx(SpeedInsights,{})]})})})};clientExports.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));export{AnimatePresence as A,IconFileText as I,MotionConfigContext as M,Particles as P,motion$1 as a,IconSearch as b,createReactComponent as c,useMotionValue as d,useSpring as e,AnimatePresence$1 as f,useTransform as g,frame as h,cancelFrame as i,interpolate as j,defaultOffset as k,clamp as l,motion as m,frameData as n,noop as o,progress as p,useConstant as q,resolveElements as r,supportsScrollTimeline as s,twMerge as t,useMediaQuery as u,velocityPerSecond as v,useIsomorphicLayoutEffect as w,warning as x,motionValue as y,collectMotionValues as z};
